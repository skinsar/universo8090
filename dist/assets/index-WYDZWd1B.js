function pN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var oI={exports:{}},Pm={},aI={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),gN=Symbol.for("react.portal"),yN=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),wN=Symbol.for("react.provider"),TN=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),SN=Symbol.for("react.suspense"),xN=Symbol.for("react.memo"),PN=Symbol.for("react.lazy"),qT=Symbol.iterator;function AN(t){return t===null||typeof t!="object"?null:(t=qT&&t[qT]||t["@@iterator"],typeof t=="function"?t:null)}var lI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uI=Object.assign,cI={};function Du(t,e,n){this.props=t,this.context=e,this.refs=cI,this.updater=n||lI}Du.prototype.isReactComponent={};Du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hI(){}hI.prototype=Du.prototype;function Ev(t,e,n){this.props=t,this.context=e,this.refs=cI,this.updater=n||lI}var Sv=Ev.prototype=new hI;Sv.constructor=Ev;uI(Sv,Du.prototype);Sv.isPureReactComponent=!0;var GT=Array.isArray,fI=Object.prototype.hasOwnProperty,xv={current:null},dI={key:!0,ref:!0,__self:!0,__source:!0};function pI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fI.call(e,r)&&!dI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gf,type:t,key:s,ref:o,props:i,_owner:xv.current}}function IN(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pv(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function CN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KT=/\/+/g;function Dg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CN(""+t.key):e.toString(36)}function Od(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gf:case gN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Dg(o,0):r,GT(i)?(n="",t!=null&&(n=t.replace(KT,"$&/")+"/"),Od(i,e,n,"",function(u){return u})):i!=null&&(Pv(i)&&(i=IN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",GT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Dg(s,a);o+=Od(s,e,n,l,i)}else if(l=AN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Dg(s,a++),o+=Od(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kf(t,e,n){if(t==null)return t;var r=[],i=0;return Od(t,r,"","",function(s){return e.call(n,s,i++)}),r}function RN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Md={transition:null},bN={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Md,ReactCurrentOwner:xv};function mI(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Kf,forEach:function(t,e,n){Kf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kf(t,function(){e++}),e},toArray:function(t){return Kf(t,function(e){return e})||[]},only:function(t){if(!Pv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Du;Se.Fragment=yN;Se.Profiler=vN;Se.PureComponent=Ev;Se.StrictMode=_N;Se.Suspense=SN;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;Se.act=mI;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fI.call(e,l)&&!dI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gf,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:TN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wN,_context:t},t.Consumer=t};Se.createElement=pI;Se.createFactory=function(t){var e=pI.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:EN,render:t}};Se.isValidElement=Pv;Se.lazy=function(t){return{$$typeof:PN,_payload:{_status:-1,_result:t},_init:RN}};Se.memo=function(t,e){return{$$typeof:xN,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Md.transition;Md.transition={};try{t()}finally{Md.transition=e}};Se.unstable_act=mI;Se.useCallback=function(t,e){return er.current.useCallback(t,e)};Se.useContext=function(t){return er.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Se.useEffect=function(t,e){return er.current.useEffect(t,e)};Se.useId=function(){return er.current.useId()};Se.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return er.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Se.useRef=function(t){return er.current.useRef(t)};Se.useState=function(t){return er.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return er.current.useTransition()};Se.version="18.3.1";aI.exports=Se;var V=aI.exports;const gI=sI(V),kN=pN({__proto__:null,default:gI},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=V,ON=Symbol.for("react.element"),MN=Symbol.for("react.fragment"),NN=Object.prototype.hasOwnProperty,VN=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LN={key:!0,ref:!0,__self:!0,__source:!0};function yI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NN.call(e,r)&&!LN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ON,type:t,key:s,ref:o,props:i,_owner:VN.current}}Pm.Fragment=MN;Pm.jsx=yI;Pm.jsxs=yI;oI.exports=Pm;var N=oI.exports,t_={},_I={exports:{}},Hr={},vI={exports:{}},wI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var M=j.length;j.push(W);e:for(;0<M;){var J=M-1>>>1,de=j[J];if(0<i(de,W))j[J]=W,j[M]=de,M=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],M=j.pop();if(M!==W){j[0]=M;e:for(var J=0,de=j.length,Ke=de>>>1;J<Ke;){var pe=2*(J+1)-1,be=j[pe],ke=pe+1,Ce=j[ke];if(0>i(be,M))ke<de&&0>i(Ce,be)?(j[J]=Ce,j[ke]=M,J=ke):(j[J]=be,j[pe]=M,J=pe);else if(ke<de&&0>i(Ce,M))j[J]=Ce,j[ke]=M,J=ke;else break e}}return W}function i(j,W){var M=j.sortIndex-W.sortIndex;return M!==0?M:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,y=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=j)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function A(j){if(g=!1,S(j),!y)if(n(l)!==null)y=!0,ae(C);else{var W=n(u);W!==null&&q(A,W.startTime-j)}}function C(j,W){y=!1,g&&(g=!1,v(T),T=-1),p=!0;var M=d;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||j&&!k());){var J=f.callback;if(typeof J=="function"){f.callback=null,d=f.priorityLevel;var de=J(f.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(l)&&r(l),S(W)}else r(l);f=n(l)}if(f!==null)var Ke=!0;else{var pe=n(u);pe!==null&&q(A,pe.startTime-W),Ke=!1}return Ke}finally{f=null,d=M,p=!1}}var O=!1,x=null,T=-1,P=5,I=-1;function k(){return!(t.unstable_now()-I<P)}function D(){if(x!==null){var j=t.unstable_now();I=j;var W=!0;try{W=x(!0,j)}finally{W?b():(O=!1,x=null)}}else O=!1}var b;if(typeof _=="function")b=function(){_(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=D,b=function(){ee.postMessage(null)}}else b=function(){E(D,0)};function ae(j){x=j,O||(O=!0,b())}function q(j,W){T=E(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ae(C))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var M=d;d=W;try{return j()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=d;d=j;try{return W()}finally{d=M}},t.unstable_scheduleCallback=function(j,W,M){var J=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?J+M:J):M=J,j){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,j={id:c++,callback:W,priorityLevel:j,startTime:M,expirationTime:de,sortIndex:-1},M>J?(j.sortIndex=M,e(u,j),n(l)===null&&j===n(u)&&(g?(v(T),T=-1):g=!0,q(A,M-J))):(j.sortIndex=de,e(l,j),y||p||(y=!0,ae(C))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var W=d;return function(){var M=d;d=W;try{return j.apply(this,arguments)}finally{d=M}}}})(wI);vI.exports=wI;var FN=vI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=V,Br=FN;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TI=new Set,Eh={};function Qa(t,e){su(t,e),su(t+"Capture",e)}function su(t,e){for(Eh[t]=e,t=0;t<e.length;t++)TI.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n_=Object.prototype.hasOwnProperty,jN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XT={},YT={};function zN(t){return n_.call(YT,t)?!0:n_.call(XT,t)?!1:jN.test(t)?YT[t]=!0:(XT[t]=!0,!1)}function BN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $N(t,e,n,r){if(e===null||typeof e>"u"||BN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Av,Iv);Tn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Av,Iv);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Av,Iv);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=Tn.hasOwnProperty(e)?Tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($N(e,n,i,r)&&(n=null),r||i===null?zN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var js=UN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xf=Symbol.for("react.element"),Tl=Symbol.for("react.portal"),El=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),r_=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),SI=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),i_=Symbol.for("react.suspense"),s_=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),xI=Symbol.for("react.offscreen"),QT=Symbol.iterator;function rc(t){return t===null||typeof t!="object"?null:(t=QT&&t[QT]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Og;function _c(t){if(Og===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Og=e&&e[1]||""}return`
`+Og+t}var Mg=!1;function Ng(t,e){if(!t||Mg)return"";Mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_c(t):""}function WN(t){switch(t.tag){case 5:return _c(t.type);case 16:return _c("Lazy");case 13:return _c("Suspense");case 19:return _c("SuspenseList");case 0:case 2:case 15:return t=Ng(t.type,!1),t;case 11:return t=Ng(t.type.render,!1),t;case 1:return t=Ng(t.type,!0),t;default:return""}}function o_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case El:return"Fragment";case Tl:return"Portal";case r_:return"Profiler";case Rv:return"StrictMode";case i_:return"Suspense";case s_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SI:return(t.displayName||"Context")+".Consumer";case EI:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kv:return e=t.displayName||null,e!==null?e:o_(t.type)||"Memo";case Zs:e=t._payload,t=t._init;try{return o_(t(e))}catch{}}return null}function HN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o_(e);case 8:return e===Rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qN(t){var e=PI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yf(t){t._valueTracker||(t._valueTracker=qN(t))}function AI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function a_(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function II(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function l_(t,e){II(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?u_(t,e.type,n):e.hasOwnProperty("defaultValue")&&u_(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function u_(t,e,n){(e!=="number"||gp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vc=Array.isArray;function Bl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function c_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(vc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function CI(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qf,bI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qf=Qf||document.createElement("div"),Qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GN=["Webkit","ms","Moz","O"];Object.keys(Uc).forEach(function(t){GN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uc[e]=Uc[t]})});function kI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uc.hasOwnProperty(t)&&Uc[t]?(""+e).trim():e+"px"}function DI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KN=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f_(t,e){if(e){if(KN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function d_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p_=null;function Dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m_=null,$l=null,Wl=null;function nE(t){if(t=vf(t)){if(typeof m_!="function")throw Error(H(280));var e=t.stateNode;e&&(e=bm(e),m_(t.stateNode,t.type,e))}}function OI(t){$l?Wl?Wl.push(t):Wl=[t]:$l=t}function MI(){if($l){var t=$l,e=Wl;if(Wl=$l=null,nE(t),e)for(t=0;t<e.length;t++)nE(e[t])}}function NI(t,e){return t(e)}function VI(){}var Vg=!1;function LI(t,e,n){if(Vg)return t(e,n);Vg=!0;try{return NI(t,e,n)}finally{Vg=!1,($l!==null||Wl!==null)&&(VI(),MI())}}function xh(t,e){var n=t.stateNode;if(n===null)return null;var r=bm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var g_=!1;if(Is)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){g_=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{g_=!1}function XN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jc=!1,yp=null,_p=!1,y_=null,YN={onError:function(t){jc=!0,yp=t}};function QN(t,e,n,r,i,s,o,a,l){jc=!1,yp=null,XN.apply(YN,arguments)}function JN(t,e,n,r,i,s,o,a,l){if(QN.apply(this,arguments),jc){if(jc){var u=yp;jc=!1,yp=null}else throw Error(H(198));_p||(_p=!0,y_=u)}}function Ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rE(t){if(Ja(t)!==t)throw Error(H(188))}function ZN(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rE(i),t;if(s===r)return rE(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function UI(t){return t=ZN(t),t!==null?jI(t):null}function jI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jI(t);if(e!==null)return e;t=t.sibling}return null}var zI=Br.unstable_scheduleCallback,iE=Br.unstable_cancelCallback,eV=Br.unstable_shouldYield,tV=Br.unstable_requestPaint,Dt=Br.unstable_now,nV=Br.unstable_getCurrentPriorityLevel,Ov=Br.unstable_ImmediatePriority,BI=Br.unstable_UserBlockingPriority,vp=Br.unstable_NormalPriority,rV=Br.unstable_LowPriority,$I=Br.unstable_IdlePriority,Am=null,Yi=null;function iV(t){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Am,t,void 0,(t.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:aV,sV=Math.log,oV=Math.LN2;function aV(t){return t>>>=0,t===0?32:31-(sV(t)/oV|0)|0}var Jf=64,Zf=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wc(a):(s&=o,s!==0&&(r=wc(s)))}else o=n&~i,o!==0?r=wc(o):s!==0&&(r=wc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ki(e),i=1<<n,r|=t[n],e&=~i;return r}function lV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ki(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function __(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WI(){var t=Jf;return Jf<<=1,!(Jf&4194240)&&(Jf=64),t}function Lg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ki(e),t[e]=n}function cV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ki(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function HI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qI,Nv,GI,KI,XI,v_=!1,ed=[],yo=null,_o=null,vo=null,Ph=new Map,Ah=new Map,to=[],hV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(e.pointerId)}}function sc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vf(e),e!==null&&Nv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fV(t,e,n,r,i){switch(e){case"focusin":return yo=sc(yo,t,e,n,r,i),!0;case"dragenter":return _o=sc(_o,t,e,n,r,i),!0;case"mouseover":return vo=sc(vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ph.set(s,sc(Ph.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ah.set(s,sc(Ah.get(s)||null,t,e,n,r,i)),!0}return!1}function YI(t){var e=ga(t.target);if(e!==null){var n=Ja(e);if(n!==null){if(e=n.tag,e===13){if(e=FI(n),e!==null){t.blockedOn=e,XI(t.priority,function(){GI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=w_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p_=r,n.target.dispatchEvent(r),p_=null}else return e=vf(n),e!==null&&Nv(e),t.blockedOn=n,!1;e.shift()}return!0}function oE(t,e,n){Nd(t)&&n.delete(e)}function dV(){v_=!1,yo!==null&&Nd(yo)&&(yo=null),_o!==null&&Nd(_o)&&(_o=null),vo!==null&&Nd(vo)&&(vo=null),Ph.forEach(oE),Ah.forEach(oE)}function oc(t,e){t.blockedOn===e&&(t.blockedOn=null,v_||(v_=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,dV)))}function Ih(t){function e(i){return oc(i,t)}if(0<ed.length){oc(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&oc(yo,t),_o!==null&&oc(_o,t),vo!==null&&oc(vo,t),Ph.forEach(e),Ah.forEach(e),n=0;n<to.length;n++)r=to[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)YI(n),n.blockedOn===null&&to.shift()}var Hl=js.ReactCurrentBatchConfig,Tp=!0;function pV(t,e,n,r){var i=Fe,s=Hl.transition;Hl.transition=null;try{Fe=1,Vv(t,e,n,r)}finally{Fe=i,Hl.transition=s}}function mV(t,e,n,r){var i=Fe,s=Hl.transition;Hl.transition=null;try{Fe=4,Vv(t,e,n,r)}finally{Fe=i,Hl.transition=s}}function Vv(t,e,n,r){if(Tp){var i=w_(t,e,n,r);if(i===null)Gg(t,e,r,Ep,n),sE(t,r);else if(fV(i,t,e,n,r))r.stopPropagation();else if(sE(t,r),e&4&&-1<hV.indexOf(t)){for(;i!==null;){var s=vf(i);if(s!==null&&qI(s),s=w_(t,e,n,r),s===null&&Gg(t,e,r,Ep,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gg(t,e,r,null,n)}}var Ep=null;function w_(t,e,n,r){if(Ep=null,t=Dv(r),t=ga(t),t!==null)if(e=Ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function QI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nV()){case Ov:return 1;case BI:return 4;case vp:case rV:return 16;case $I:return 536870912;default:return 16}default:return 16}}var ao=null,Lv=null,Vd=null;function JI(){if(Vd)return Vd;var t,e=Lv,n=e.length,r,i="value"in ao?ao.value:ao.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vd=i.slice(t,1<r?1-r:void 0)}function Ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function aE(){return!1}function qr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?td:aE,this.isPropagationStopped=aE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fv=qr(Ou),_f=_t({},Ou,{view:0,detail:0}),gV=qr(_f),Fg,Ug,ac,Im=_t({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ac&&(ac&&t.type==="mousemove"?(Fg=t.screenX-ac.screenX,Ug=t.screenY-ac.screenY):Ug=Fg=0,ac=t),Fg)},movementY:function(t){return"movementY"in t?t.movementY:Ug}}),lE=qr(Im),yV=_t({},Im,{dataTransfer:0}),_V=qr(yV),vV=_t({},_f,{relatedTarget:0}),jg=qr(vV),wV=_t({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),TV=qr(wV),EV=_t({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SV=qr(EV),xV=_t({},Ou,{data:0}),uE=qr(xV),PV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IV[t])?!!e[t]:!1}function Uv(){return CV}var RV=_t({},_f,{key:function(t){if(t.key){var e=PV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?Ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bV=qr(RV),kV=_t({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cE=qr(kV),DV=_t({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),OV=qr(DV),MV=_t({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),NV=qr(MV),VV=_t({},Im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LV=qr(VV),FV=[9,13,27,32],jv=Is&&"CompositionEvent"in window,zc=null;Is&&"documentMode"in document&&(zc=document.documentMode);var UV=Is&&"TextEvent"in window&&!zc,ZI=Is&&(!jv||zc&&8<zc&&11>=zc),hE=" ",fE=!1;function eC(t,e){switch(t){case"keyup":return FV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sl=!1;function jV(t,e){switch(t){case"compositionend":return tC(e);case"keypress":return e.which!==32?null:(fE=!0,hE);case"textInput":return t=e.data,t===hE&&fE?null:t;default:return null}}function zV(t,e){if(Sl)return t==="compositionend"||!jv&&eC(t,e)?(t=JI(),Vd=Lv=ao=null,Sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZI&&e.locale!=="ko"?null:e.data;default:return null}}var BV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BV[t.type]:e==="textarea"}function nC(t,e,n,r){OI(r),e=Sp(e,"onChange"),0<e.length&&(n=new Fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bc=null,Ch=null;function $V(t){dC(t,0)}function Cm(t){var e=Al(t);if(AI(e))return t}function WV(t,e){if(t==="change")return e}var rC=!1;if(Is){var zg;if(Is){var Bg="oninput"in document;if(!Bg){var pE=document.createElement("div");pE.setAttribute("oninput","return;"),Bg=typeof pE.oninput=="function"}zg=Bg}else zg=!1;rC=zg&&(!document.documentMode||9<document.documentMode)}function mE(){Bc&&(Bc.detachEvent("onpropertychange",iC),Ch=Bc=null)}function iC(t){if(t.propertyName==="value"&&Cm(Ch)){var e=[];nC(e,Ch,t,Dv(t)),LI($V,e)}}function HV(t,e,n){t==="focusin"?(mE(),Bc=e,Ch=n,Bc.attachEvent("onpropertychange",iC)):t==="focusout"&&mE()}function qV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cm(Ch)}function GV(t,e){if(t==="click")return Cm(e)}function KV(t,e){if(t==="input"||t==="change")return Cm(e)}function XV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:XV;function Rh(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!n_.call(e,i)||!Mi(t[i],e[i]))return!1}return!0}function gE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yE(t,e){var n=gE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gE(n)}}function sC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oC(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gp(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YV(t){var e=oC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sC(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yE(n,s);var o=yE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QV=Is&&"documentMode"in document&&11>=document.documentMode,xl=null,T_=null,$c=null,E_=!1;function _E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E_||xl==null||xl!==gp(r)||(r=xl,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&Rh($c,r)||($c=r,r=Sp(T_,"onSelect"),0<r.length&&(e=new Fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xl)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pl={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},$g={},aC={};Is&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Rm(t){if($g[t])return $g[t];if(!Pl[t])return t;var e=Pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aC)return $g[t]=e[n];return t}var lC=Rm("animationend"),uC=Rm("animationiteration"),cC=Rm("animationstart"),hC=Rm("transitionend"),fC=new Map,vE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){fC.set(t,e),Qa(e,[t])}for(var Wg=0;Wg<vE.length;Wg++){var Hg=vE[Wg],JV=Hg.toLowerCase(),ZV=Hg[0].toUpperCase()+Hg.slice(1);Go(JV,"on"+ZV)}Go(lC,"onAnimationEnd");Go(uC,"onAnimationIteration");Go(cC,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(hC,"onTransitionEnd");su("onMouseEnter",["mouseout","mouseover"]);su("onMouseLeave",["mouseout","mouseover"]);su("onPointerEnter",["pointerout","pointerover"]);su("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tc));function wE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JN(r,e,void 0,t),t.currentTarget=null}function dC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;wE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;wE(i,a,u),s=l}}}if(_p)throw t=y_,_p=!1,y_=null,t}function et(t,e){var n=e[I_];n===void 0&&(n=e[I_]=new Set);var r=t+"__bubble";n.has(r)||(pC(e,t,2,!1),n.add(r))}function qg(t,e,n){var r=0;e&&(r|=4),pC(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function bh(t){if(!t[rd]){t[rd]=!0,TI.forEach(function(n){n!=="selectionchange"&&(eL.has(n)||qg(n,!1,t),qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,qg("selectionchange",!1,e))}}function pC(t,e,n,r){switch(QI(e)){case 1:var i=pV;break;case 4:i=mV;break;default:i=Vv}n=i.bind(null,e,n,t),i=void 0,!g_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ga(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LI(function(){var u=s,c=Dv(n),f=[];e:{var d=fC.get(t);if(d!==void 0){var p=Fv,y=t;switch(t){case"keypress":if(Ld(n)===0)break e;case"keydown":case"keyup":p=bV;break;case"focusin":y="focus",p=jg;break;case"focusout":y="blur",p=jg;break;case"beforeblur":case"afterblur":p=jg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_V;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OV;break;case lC:case uC:case cC:p=TV;break;case hC:p=NV;break;case"scroll":p=gV;break;case"wheel":p=LV;break;case"copy":case"cut":case"paste":p=SV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cE}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,S;_!==null;){S=_;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,v!==null&&(A=xh(_,v),A!=null&&g.push(kh(_,A,S)))),E)break;_=_.return}0<g.length&&(d=new p(d,y,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==p_&&(y=n.relatedTarget||n.fromElement)&&(ga(y)||y[Cs]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ga(y):null,y!==null&&(E=Ja(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=lE,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=cE,A="onPointerLeave",v="onPointerEnter",_="pointer"),E=p==null?d:Al(p),S=y==null?d:Al(y),d=new g(A,_+"leave",p,n,c),d.target=E,d.relatedTarget=S,A=null,ga(c)===u&&(g=new g(v,_+"enter",y,n,c),g.target=S,g.relatedTarget=E,A=g),E=A,p&&y)t:{for(g=p,v=y,_=0,S=g;S;S=ll(S))_++;for(S=0,A=v;A;A=ll(A))S++;for(;0<_-S;)g=ll(g),_--;for(;0<S-_;)v=ll(v),S--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=ll(g),v=ll(v)}g=null}else g=null;p!==null&&TE(f,d,p,g,!1),y!==null&&E!==null&&TE(f,E,y,g,!0)}}e:{if(d=u?Al(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=WV;else if(dE(d))if(rC)C=KV;else{C=qV;var O=HV}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=GV);if(C&&(C=C(t,u))){nC(f,C,n,c);break e}O&&O(t,d,u),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&u_(d,"number",d.value)}switch(O=u?Al(u):window,t){case"focusin":(dE(O)||O.contentEditable==="true")&&(xl=O,T_=u,$c=null);break;case"focusout":$c=T_=xl=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,_E(f,n,c);break;case"selectionchange":if(QV)break;case"keydown":case"keyup":_E(f,n,c)}var x;if(jv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Sl?eC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ZI&&n.locale!=="ko"&&(Sl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Sl&&(x=JI()):(ao=c,Lv="value"in ao?ao.value:ao.textContent,Sl=!0)),O=Sp(u,T),0<O.length&&(T=new uE(T,t,null,n,c),f.push({event:T,listeners:O}),x?T.data=x:(x=tC(n),x!==null&&(T.data=x)))),(x=UV?jV(t,n):zV(t,n))&&(u=Sp(u,"onBeforeInput"),0<u.length&&(c=new uE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}dC(f,e)})}function kh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xh(t,n),s!=null&&r.unshift(kh(t,s,i)),s=xh(t,e),s!=null&&r.push(kh(t,s,i))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xh(n,s),l!=null&&o.unshift(kh(n,l,a))):i||(l=xh(n,s),l!=null&&o.push(kh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tL=/\r\n?/g,nL=/\u0000|\uFFFD/g;function EE(t){return(typeof t=="string"?t:""+t).replace(tL,`
`).replace(nL,"")}function id(t,e,n){if(e=EE(e),EE(t)!==e&&n)throw Error(H(425))}function xp(){}var S_=null,x_=null;function P_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A_=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,iL=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(t){return SE.resolve(null).then(t).catch(sL)}:A_;function sL(t){setTimeout(function(){throw t})}function Kg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ih(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ih(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mu=Math.random().toString(36).slice(2),qi="__reactFiber$"+Mu,Dh="__reactProps$"+Mu,Cs="__reactContainer$"+Mu,I_="__reactEvents$"+Mu,oL="__reactListeners$"+Mu,aL="__reactHandles$"+Mu;function ga(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cs]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xE(t);t!==null;){if(n=t[qi])return n;t=xE(t)}return e}t=n,n=t.parentNode}return null}function vf(t){return t=t[qi]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function bm(t){return t[Dh]||null}var C_=[],Il=-1;function Ko(t){return{current:t}}function nt(t){0>Il||(t.current=C_[Il],C_[Il]=null,Il--)}function Ge(t,e){Il++,C_[Il]=t.current,t.current=e}var Vo={},Fn=Ko(Vo),mr=Ko(!1),Va=Vo;function ou(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function Pp(){nt(mr),nt(Fn)}function PE(t,e,n){if(Fn.current!==Vo)throw Error(H(168));Ge(Fn,e),Ge(mr,n)}function mC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,HN(t)||"Unknown",i));return _t({},n,r)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Va=Fn.current,Ge(Fn,t),Ge(mr,mr.current),!0}function AE(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=mC(t,e,Va),r.__reactInternalMemoizedMergedChildContext=t,nt(mr),nt(Fn),Ge(Fn,t)):nt(mr),Ge(mr,n)}var gs=null,km=!1,Xg=!1;function gC(t){gs===null?gs=[t]:gs.push(t)}function lL(t){km=!0,gC(t)}function Xo(){if(!Xg&&gs!==null){Xg=!0;var t=0,e=Fe;try{var n=gs;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,km=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),zI(Ov,Xo),i}finally{Fe=e,Xg=!1}}return null}var Cl=[],Rl=0,Ip=null,Cp=0,ei=[],ti=0,La=null,vs=1,ws="";function ua(t,e){Cl[Rl++]=Cp,Cl[Rl++]=Ip,Ip=t,Cp=e}function yC(t,e,n){ei[ti++]=vs,ei[ti++]=ws,ei[ti++]=La,La=t;var r=vs;t=ws;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var s=32-ki(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vs=1<<32-ki(e)+i|n<<i|r,ws=s+t}else vs=1<<s|n<<i|r,ws=t}function Bv(t){t.return!==null&&(ua(t,1),yC(t,1,0))}function $v(t){for(;t===Ip;)Ip=Cl[--Rl],Cl[Rl]=null,Cp=Cl[--Rl],Cl[Rl]=null;for(;t===La;)La=ei[--ti],ei[ti]=null,ws=ei[--ti],ei[ti]=null,vs=ei[--ti],ei[ti]=null}var jr=null,Fr=null,ut=!1,Ai=null;function _C(t,e){var n=si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,Fr=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=La!==null?{id:vs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,Fr=null,!0):!1;default:return!1}}function R_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function b_(t){if(ut){var e=Fr;if(e){var n=e;if(!IE(t,e)){if(R_(t))throw Error(H(418));e=wo(n.nextSibling);var r=jr;e&&IE(t,e)?_C(r,n):(t.flags=t.flags&-4097|2,ut=!1,jr=t)}}else{if(R_(t))throw Error(H(418));t.flags=t.flags&-4097|2,ut=!1,jr=t}}}function CE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function sd(t){if(t!==jr)return!1;if(!ut)return CE(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P_(t.type,t.memoizedProps)),e&&(e=Fr)){if(R_(t))throw vC(),Error(H(418));for(;e;)_C(t,e),e=wo(e.nextSibling)}if(CE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=jr?wo(t.stateNode.nextSibling):null;return!0}function vC(){for(var t=Fr;t;)t=wo(t.nextSibling)}function au(){Fr=jr=null,ut=!1}function Wv(t){Ai===null?Ai=[t]:Ai.push(t)}var uL=js.ReactCurrentBatchConfig;function lc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RE(t){var e=t._init;return e(t._payload)}function wC(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=xo(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,A){return _===null||_.tag!==6?(_=ny(S,v.mode,A),_.return=v,_):(_=i(_,S),_.return=v,_)}function l(v,_,S,A){var C=S.type;return C===El?c(v,_,S.props.children,A,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zs&&RE(C)===_.type)?(A=i(_,S.props),A.ref=lc(v,_,S),A.return=v,A):(A=Wd(S.type,S.key,S.props,null,v.mode,A),A.ref=lc(v,_,S),A.return=v,A)}function u(v,_,S,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=ry(S,v.mode,A),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function c(v,_,S,A,C){return _===null||_.tag!==7?(_=Pa(S,v.mode,A,C),_.return=v,_):(_=i(_,S),_.return=v,_)}function f(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ny(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xf:return S=Wd(_.type,_.key,_.props,null,v.mode,S),S.ref=lc(v,null,_),S.return=v,S;case Tl:return _=ry(_,v.mode,S),_.return=v,_;case Zs:var A=_._init;return f(v,A(_._payload),S)}if(vc(_)||rc(_))return _=Pa(_,v.mode,S,null),_.return=v,_;od(v,_)}return null}function d(v,_,S,A){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(v,_,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:return S.key===C?l(v,_,S,A):null;case Tl:return S.key===C?u(v,_,S,A):null;case Zs:return C=S._init,d(v,_,C(S._payload),A)}if(vc(S)||rc(S))return C!==null?null:c(v,_,S,A,null);od(v,S)}return null}function p(v,_,S,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(S)||null,a(_,v,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xf:return v=v.get(A.key===null?S:A.key)||null,l(_,v,A,C);case Tl:return v=v.get(A.key===null?S:A.key)||null,u(_,v,A,C);case Zs:var O=A._init;return p(v,_,S,O(A._payload),C)}if(vc(A)||rc(A))return v=v.get(S)||null,c(_,v,A,C,null);od(_,A)}return null}function y(v,_,S,A){for(var C=null,O=null,x=_,T=_=0,P=null;x!==null&&T<S.length;T++){x.index>T?(P=x,x=null):P=x.sibling;var I=d(v,x,S[T],A);if(I===null){x===null&&(x=P);break}t&&x&&I.alternate===null&&e(v,x),_=s(I,_,T),O===null?C=I:O.sibling=I,O=I,x=P}if(T===S.length)return n(v,x),ut&&ua(v,T),C;if(x===null){for(;T<S.length;T++)x=f(v,S[T],A),x!==null&&(_=s(x,_,T),O===null?C=x:O.sibling=x,O=x);return ut&&ua(v,T),C}for(x=r(v,x);T<S.length;T++)P=p(x,v,T,S[T],A),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?T:P.key),_=s(P,_,T),O===null?C=P:O.sibling=P,O=P);return t&&x.forEach(function(k){return e(v,k)}),ut&&ua(v,T),C}function g(v,_,S,A){var C=rc(S);if(typeof C!="function")throw Error(H(150));if(S=C.call(S),S==null)throw Error(H(151));for(var O=C=null,x=_,T=_=0,P=null,I=S.next();x!==null&&!I.done;T++,I=S.next()){x.index>T?(P=x,x=null):P=x.sibling;var k=d(v,x,I.value,A);if(k===null){x===null&&(x=P);break}t&&x&&k.alternate===null&&e(v,x),_=s(k,_,T),O===null?C=k:O.sibling=k,O=k,x=P}if(I.done)return n(v,x),ut&&ua(v,T),C;if(x===null){for(;!I.done;T++,I=S.next())I=f(v,I.value,A),I!==null&&(_=s(I,_,T),O===null?C=I:O.sibling=I,O=I);return ut&&ua(v,T),C}for(x=r(v,x);!I.done;T++,I=S.next())I=p(x,v,T,I.value,A),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?T:I.key),_=s(I,_,T),O===null?C=I:O.sibling=I,O=I);return t&&x.forEach(function(D){return e(v,D)}),ut&&ua(v,T),C}function E(v,_,S,A){if(typeof S=="object"&&S!==null&&S.type===El&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:e:{for(var C=S.key,O=_;O!==null;){if(O.key===C){if(C=S.type,C===El){if(O.tag===7){n(v,O.sibling),_=i(O,S.props.children),_.return=v,v=_;break e}}else if(O.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zs&&RE(C)===O.type){n(v,O.sibling),_=i(O,S.props),_.ref=lc(v,O,S),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}S.type===El?(_=Pa(S.props.children,v.mode,A,S.key),_.return=v,v=_):(A=Wd(S.type,S.key,S.props,null,v.mode,A),A.ref=lc(v,_,S),A.return=v,v=A)}return o(v);case Tl:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=i(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=ry(S,v.mode,A),_.return=v,v=_}return o(v);case Zs:return O=S._init,E(v,_,O(S._payload),A)}if(vc(S))return y(v,_,S,A);if(rc(S))return g(v,_,S,A);od(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,S),_.return=v,v=_):(n(v,_),_=ny(S,v.mode,A),_.return=v,v=_),o(v)):n(v,_)}return E}var lu=wC(!0),TC=wC(!1),Rp=Ko(null),bp=null,bl=null,Hv=null;function qv(){Hv=bl=bp=null}function Gv(t){var e=Rp.current;nt(Rp),t._currentValue=e}function k_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ql(t,e){bp=t,Hv=bl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},bl===null){if(bp===null)throw Error(H(308));bl=t,bp.dependencies={lanes:0,firstContext:t}}else bl=bl.next=t;return e}var ya=null;function Kv(t){ya===null?ya=[t]:ya.push(t)}function EC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rs(t,r)}function Rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var eo=!1;function Xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function To(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rs(t,n)}return i=r.interleaved,i===null?(e.next=e,Kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rs(t,n)}function Fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}function bE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kp(t,e,n,r){var i=t.updateQueue;eo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(d=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=_t({},f,d);break e;case 2:eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ua|=o,t.lanes=o,t.memoizedState=f}}function kE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var wf={},Qi=Ko(wf),Oh=Ko(wf),Mh=Ko(wf);function _a(t){if(t===wf)throw Error(H(174));return t}function Yv(t,e){switch(Ge(Mh,e),Ge(Oh,t),Ge(Qi,wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:h_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=h_(e,t)}nt(Qi),Ge(Qi,e)}function uu(){nt(Qi),nt(Oh),nt(Mh)}function xC(t){_a(Mh.current);var e=_a(Qi.current),n=h_(e,t.type);e!==n&&(Ge(Oh,t),Ge(Qi,n))}function Qv(t){Oh.current===t&&(nt(Qi),nt(Oh))}var dt=Ko(0);function Dp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yg=[];function Jv(){for(var t=0;t<Yg.length;t++)Yg[t]._workInProgressVersionPrimary=null;Yg.length=0}var Ud=js.ReactCurrentDispatcher,Qg=js.ReactCurrentBatchConfig,Fa=0,yt=null,Kt=null,rn=null,Op=!1,Wc=!1,Nh=0,cL=0;function An(){throw Error(H(321))}function Zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mi(t[n],e[n]))return!1;return!0}function e1(t,e,n,r,i,s){if(Fa=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ud.current=t===null||t.memoizedState===null?pL:mL,t=n(r,i),Wc){s=0;do{if(Wc=!1,Nh=0,25<=s)throw Error(H(301));s+=1,rn=Kt=null,e.updateQueue=null,Ud.current=gL,t=n(r,i)}while(Wc)}if(Ud.current=Mp,e=Kt!==null&&Kt.next!==null,Fa=0,rn=Kt=yt=null,Op=!1,e)throw Error(H(300));return t}function t1(){var t=Nh!==0;return Nh=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?yt.memoizedState=rn=t:rn=rn.next=t,rn}function di(){if(Kt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=rn===null?yt.memoizedState:rn.next;if(e!==null)rn=e,Kt=t;else{if(t===null)throw Error(H(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},rn===null?yt.memoizedState=rn=t:rn=rn.next=t}return rn}function Vh(t,e){return typeof e=="function"?e(t):e}function Jg(t){var e=di(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Fa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,yt.lanes|=c,Ua|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Mi(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Ua|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=di(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mi(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PC(){}function AC(t,e){var n=yt,r=di(),i=e(),s=!Mi(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,n1(RC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,Lh(9,CC.bind(null,n,r,i,e),void 0,null),an===null)throw Error(H(349));Fa&30||IC(n,e,i)}return i}function IC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CC(t,e,n,r){e.value=n,e.getSnapshot=r,bC(e)&&kC(t)}function RC(t,e,n){return n(function(){bC(e)&&kC(t)})}function bC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mi(t,n)}catch{return!0}}function kC(t){var e=Rs(t,1);e!==null&&Di(e,t,1,-1)}function DE(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:t},e.queue=t,t=t.dispatch=dL.bind(null,yt,t),[e.memoizedState,t]}function Lh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DC(){return di().memoizedState}function jd(t,e,n,r){var i=Bi();yt.flags|=t,i.memoizedState=Lh(1|e,n,void 0,r===void 0?null:r)}function Dm(t,e,n,r){var i=di();r=r===void 0?null:r;var s=void 0;if(Kt!==null){var o=Kt.memoizedState;if(s=o.destroy,r!==null&&Zv(r,o.deps)){i.memoizedState=Lh(e,n,s,r);return}}yt.flags|=t,i.memoizedState=Lh(1|e,n,s,r)}function OE(t,e){return jd(8390656,8,t,e)}function n1(t,e){return Dm(2048,8,t,e)}function OC(t,e){return Dm(4,2,t,e)}function MC(t,e){return Dm(4,4,t,e)}function NC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VC(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4,4,NC.bind(null,e,t),n)}function r1(){}function LC(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FC(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UC(t,e,n){return Fa&21?(Mi(n,e)||(n=WI(),yt.lanes|=n,Ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function hL(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Qg.transition;Qg.transition={};try{t(!1),e()}finally{Fe=n,Qg.transition=r}}function jC(){return di().memoizedState}function fL(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zC(t))BC(e,n);else if(n=EC(t,e,n,r),n!==null){var i=Zn();Di(n,t,r,i),$C(n,e,r)}}function dL(t,e,n){var r=So(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zC(t))BC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mi(a,o)){var l=e.interleaved;l===null?(i.next=i,Kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EC(t,e,i,r),n!==null&&(i=Zn(),Di(n,t,r,i),$C(n,e,r))}}function zC(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function BC(t,e){Wc=Op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}var Mp={readContext:fi,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},pL={readContext:fi,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:OE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,NC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fL.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:DE,useDebugValue:r1,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=DE(!1),e=t[0];return t=hL.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Bi();if(ut){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),an===null)throw Error(H(349));Fa&30||IC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,OE(RC.bind(null,r,s,t),[t]),r.flags|=2048,Lh(9,CC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bi(),e=an.identifierPrefix;if(ut){var n=ws,r=vs;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mL={readContext:fi,useCallback:LC,useContext:fi,useEffect:n1,useImperativeHandle:VC,useInsertionEffect:OC,useLayoutEffect:MC,useMemo:FC,useReducer:Jg,useRef:DC,useState:function(){return Jg(Vh)},useDebugValue:r1,useDeferredValue:function(t){var e=di();return UC(e,Kt.memoizedState,t)},useTransition:function(){var t=Jg(Vh)[0],e=di().memoizedState;return[t,e]},useMutableSource:PC,useSyncExternalStore:AC,useId:jC,unstable_isNewReconciler:!1},gL={readContext:fi,useCallback:LC,useContext:fi,useEffect:n1,useImperativeHandle:VC,useInsertionEffect:OC,useLayoutEffect:MC,useMemo:FC,useReducer:Zg,useRef:DC,useState:function(){return Zg(Vh)},useDebugValue:r1,useDeferredValue:function(t){var e=di();return Kt===null?e.memoizedState=t:UC(e,Kt.memoizedState,t)},useTransition:function(){var t=Zg(Vh)[0],e=di().memoizedState;return[t,e]},useMutableSource:PC,useSyncExternalStore:AC,useId:jC,unstable_isNewReconciler:!1};function xi(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function D_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Om={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),i=So(t),s=xs(r,i);s.payload=e,n!=null&&(s.callback=n),e=To(t,s,i),e!==null&&(Di(e,t,i,r),Fd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),i=So(t),s=xs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=To(t,s,i),e!==null&&(Di(e,t,i,r),Fd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=So(t),i=xs(n,r);i.tag=2,e!=null&&(i.callback=e),e=To(t,i,r),e!==null&&(Di(e,t,r,n),Fd(e,t,r))}};function ME(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rh(n,r)||!Rh(i,s):!0}function WC(t,e,n){var r=!1,i=Vo,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(i=gr(e)?Va:Fn.current,r=e.contextTypes,s=(r=r!=null)?ou(t,i):Vo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function NE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Om.enqueueReplaceState(e,e.state,null)}function O_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fi(s):(s=gr(e)?Va:Fn.current,i.context=ou(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(D_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Om.enqueueReplaceState(i,i.state,null),kp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cu(t,e){try{var n="",r=e;do n+=WN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ey(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function M_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yL=typeof WeakMap=="function"?WeakMap:Map;function HC(t,e,n){n=xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vp||(Vp=!0,W_=r),M_(t,e)},n}function qC(t,e,n){n=xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){M_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){M_(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function VE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kL.bind(null,t,e,n),e.then(t,t))}function LE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xs(-1,1),e.tag=2,To(n,e,1))),n.lanes|=1),t)}var _L=js.ReactCurrentOwner,dr=!1;function Gn(t,e,n,r){e.child=t===null?TC(e,null,n,r):lu(e,t.child,n,r)}function UE(t,e,n,r,i){n=n.render;var s=e.ref;return ql(e,i),r=e1(t,e,n,r,s,i),n=t1(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(ut&&n&&Bv(e),e.flags|=1,Gn(t,e,r,i),e.child)}function jE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GC(t,e,s,r,i)):(t=Wd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rh,n(o,r)&&t.ref===e.ref)return bs(t,e,i)}return e.flags|=1,t=xo(s,r),t.ref=e.ref,t.return=e,e.child=t}function GC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rh(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,bs(t,e,i)}return N_(t,e,n,r,i)}function KC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Dl,kr),kr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Dl,kr),kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Dl,kr),kr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(Dl,kr),kr|=r;return Gn(t,e,i,n),e.child}function XC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N_(t,e,n,r,i){var s=gr(n)?Va:Fn.current;return s=ou(e,s),ql(e,i),n=e1(t,e,n,r,s,i),r=t1(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(ut&&r&&Bv(e),e.flags|=1,Gn(t,e,n,i),e.child)}function zE(t,e,n,r,i){if(gr(n)){var s=!0;Ap(e)}else s=!1;if(ql(e,i),e.stateNode===null)zd(t,e),WC(e,n,r),O_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fi(u):(u=gr(n)?Va:Fn.current,u=ou(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&NE(e,o,r,u),eo=!1;var d=e.memoizedState;o.state=d,kp(e,r,o,i),l=e.memoizedState,a!==r||d!==l||mr.current||eo?(typeof c=="function"&&(D_(e,n,c,r),l=e.memoizedState),(a=eo||ME(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xi(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=gr(n)?Va:Fn.current,l=ou(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&NE(e,o,r,l),eo=!1,d=e.memoizedState,o.state=d,kp(e,r,o,i);var y=e.memoizedState;a!==f||d!==y||mr.current||eo?(typeof p=="function"&&(D_(e,n,p,r),y=e.memoizedState),(u=eo||ME(e,n,u,r,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return V_(t,e,n,r,s,i)}function V_(t,e,n,r,i,s){XC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AE(e,n,!1),bs(t,e,s);r=e.stateNode,_L.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lu(e,t.child,null,s),e.child=lu(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&AE(e,n,!0),e.child}function YC(t){var e=t.stateNode;e.pendingContext?PE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(t,e.context,!1),Yv(t,e.containerInfo)}function BE(t,e,n,r,i){return au(),Wv(i),e.flags|=256,Gn(t,e,n,r),e.child}var L_={dehydrated:null,treeContext:null,retryLane:0};function F_(t){return{baseLanes:t,cachePool:null,transitions:null}}function QC(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(dt,i&1),t===null)return b_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vm(o,r,0,null),t=Pa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=F_(n),e.memoizedState=L_,t):i1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xo(a,s):(s=Pa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?F_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=L_,r}return s=t.child,t=s.sibling,r=xo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function i1(t,e){return e=Vm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&Wv(r),lu(e,t.child,null,n),t=i1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ey(Error(H(422))),ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vm({mode:"visible",children:r.children},i,0,null),s=Pa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lu(e,t.child,null,o),e.child.memoizedState=F_(o),e.memoizedState=L_,s);if(!(e.mode&1))return ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=ey(s,r,void 0),ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,dr||a){if(r=an,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rs(t,i),Di(r,t,i,-1))}return c1(),r=ey(Error(H(421))),ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fr=wo(i.nextSibling),jr=e,ut=!0,Ai=null,t!==null&&(ei[ti++]=vs,ei[ti++]=ws,ei[ti++]=La,vs=t.id,ws=t.overflow,La=e),e=i1(e,r.children),e.flags|=4096,e)}function $E(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),k_(t.return,e,n)}function ty(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$E(t,n,e);else if(t.tag===19)$E(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ty(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ty(e,!0,n,null,s);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wL(t,e,n){switch(e.tag){case 3:YC(e),au();break;case 5:xC(e);break;case 1:gr(e.type)&&Ap(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Rp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?QC(t,e,n):(Ge(dt,dt.current&1),t=bs(t,e,n),t!==null?t.sibling:null);Ge(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,KC(t,e,n)}return bs(t,e,n)}var ZC,U_,eR,tR;ZC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U_=function(){};eR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_a(Qi.current);var s=null;switch(n){case"input":i=a_(t,i),r=a_(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=c_(t,i),r=c_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xp)}f_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tR=function(t,e,n,r){n!==r&&(e.flags|=4)};function uc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TL(t,e,n){var r=e.pendingProps;switch($v(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return gr(e.type)&&Pp(),In(e),null;case 3:return r=e.stateNode,uu(),nt(mr),nt(Fn),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ai!==null&&(G_(Ai),Ai=null))),U_(t,e),In(e),null;case 5:Qv(e);var i=_a(Mh.current);if(n=e.type,t!==null&&e.stateNode!=null)eR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return In(e),null}if(t=_a(Qi.current),sd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qi]=e,r[Dh]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Tc.length;i++)et(Tc[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":JT(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":eE(r,s),et("invalid",r)}f_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":Yf(r),ZT(r,s,!0);break;case"textarea":Yf(r),tE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[Dh]=r,ZC(t,e,!1,!1),e.stateNode=t;e:{switch(o=d_(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tc.length;i++)et(Tc[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":JT(t,r),i=a_(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),et("invalid",t);break;case"textarea":eE(t,r),i=c_(t,r),et("invalid",t);break;default:i=r}f_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sh(t,l):typeof l=="number"&&Sh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&Cv(t,s,l,o))}switch(n){case"input":Yf(t),ZT(t,r,!1);break;case"textarea":Yf(t),tE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)tR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=_a(Mh.current),_a(Qi.current),sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(s=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return In(e),null;case 13:if(nt(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Fr!==null&&e.mode&1&&!(e.flags&128))vC(),au(),e.flags|=98560,s=!1;else if(s=sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[qi]=e}else au(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else Ai!==null&&(G_(Ai),Ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Qt===0&&(Qt=3):c1())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return uu(),U_(t,e),t===null&&bh(e.stateNode.containerInfo),In(e),null;case 10:return Gv(e.type._context),In(e),null;case 17:return gr(e.type)&&Pp(),In(e),null;case 19:if(nt(dt),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)uc(s,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dp(t),o!==null){for(e.flags|=128,uc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Dt()>hu&&(e.flags|=128,r=!0,uc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return In(e),null}else 2*Dt()-s.renderingStartTime>hu&&n!==1073741824&&(e.flags|=128,r=!0,uc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,n=dt.current,Ge(dt,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return u1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function EL(t,e){switch($v(e),e.tag){case 1:return gr(e.type)&&Pp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uu(),nt(mr),nt(Fn),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qv(e),null;case 13:if(nt(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));au()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(dt),null;case 4:return uu(),null;case 10:return Gv(e.type._context),null;case 22:case 23:return u1(),null;case 24:return null;default:return null}}var ld=!1,On=!1,SL=typeof WeakSet=="function"?WeakSet:Set,Y=null;function kl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function j_(t,e,n){try{n()}catch(r){xt(t,e,r)}}var WE=!1;function xL(t,e){if(S_=Tp,t=oC(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(x_={focusedElem:t,selectionRange:n},Tp=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,E=y.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xi(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(A){xt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=WE,WE=!1,y}function Hc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&j_(e,n,s)}i=i.next}while(i!==r)}}function Mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function z_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nR(t){var e=t.alternate;e!==null&&(t.alternate=null,nR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[Dh],delete e[I_],delete e[oL],delete e[aL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rR(t){return t.tag===5||t.tag===3||t.tag===4}function HE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xp));else if(r!==4&&(t=t.child,t!==null))for(B_(t,e,n),t=t.sibling;t!==null;)B_(t,e,n),t=t.sibling}function $_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($_(t,e,n),t=t.sibling;t!==null;)$_(t,e,n),t=t.sibling}var pn=null,Pi=!1;function Xs(t,e,n){for(n=n.child;n!==null;)iR(t,e,n),n=n.sibling}function iR(t,e,n){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Am,n)}catch{}switch(n.tag){case 5:On||kl(n,e);case 6:var r=pn,i=Pi;pn=null,Xs(t,e,n),pn=r,Pi=i,pn!==null&&(Pi?(t=pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(Pi?(t=pn,n=n.stateNode,t.nodeType===8?Kg(t.parentNode,n):t.nodeType===1&&Kg(t,n),Ih(t)):Kg(pn,n.stateNode));break;case 4:r=pn,i=Pi,pn=n.stateNode.containerInfo,Pi=!0,Xs(t,e,n),pn=r,Pi=i;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j_(n,e,o),i=i.next}while(i!==r)}Xs(t,e,n);break;case 1:if(!On&&(kl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Xs(t,e,n);break;case 21:Xs(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,Xs(t,e,n),On=r):Xs(t,e,n);break;default:Xs(t,e,n)}}function qE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SL),e.forEach(function(r){var i=OL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ti(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pn=a.stateNode,Pi=!1;break e;case 3:pn=a.stateNode.containerInfo,Pi=!0;break e;case 4:pn=a.stateNode.containerInfo,Pi=!0;break e}a=a.return}if(pn===null)throw Error(H(160));iR(s,o,i),pn=null,Pi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sR(e,t),e=e.sibling}function sR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ti(e,t),zi(t),r&4){try{Hc(3,t,t.return),Mm(3,t)}catch(g){xt(t,t.return,g)}try{Hc(5,t,t.return)}catch(g){xt(t,t.return,g)}}break;case 1:Ti(e,t),zi(t),r&512&&n!==null&&kl(n,n.return);break;case 5:if(Ti(e,t),zi(t),r&512&&n!==null&&kl(n,n.return),t.flags&32){var i=t.stateNode;try{Sh(i,"")}catch(g){xt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&II(i,s),d_(a,o);var u=d_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?DI(i,f):c==="dangerouslySetInnerHTML"?bI(i,f):c==="children"?Sh(i,f):Cv(i,c,f,u)}switch(a){case"input":l_(i,s);break;case"textarea":CI(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Bl(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Bl(i,!!s.multiple,s.defaultValue,!0):Bl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dh]=s}catch(g){xt(t,t.return,g)}}break;case 6:if(Ti(e,t),zi(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){xt(t,t.return,g)}}break;case 3:if(Ti(e,t),zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ih(e.containerInfo)}catch(g){xt(t,t.return,g)}break;case 4:Ti(e,t),zi(t);break;case 13:Ti(e,t),zi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(a1=Dt())),r&4&&qE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(On=(u=On)||c,Ti(e,t),On=u):Ti(e,t),zi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(f=Y=c;Y!==null;){switch(d=Y,p=d.child,d.tag){case 0:case 11:case 14:case 15:Hc(4,d,d.return);break;case 1:kl(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){xt(r,n,g)}}break;case 5:kl(d,d.return);break;case 22:if(d.memoizedState!==null){KE(f);continue}}p!==null?(p.return=d,Y=p):KE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kI("display",o))}catch(g){xt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ti(e,t),zi(t),r&4&&qE(t);break;case 21:break;default:Ti(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rR(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sh(i,""),r.flags&=-33);var s=HE(t);$_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=HE(t);B_(t,a,o);break;default:throw Error(H(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PL(t,e,n){Y=t,oR(t)}function oR(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ld;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||On;a=ld;var u=On;if(ld=o,(On=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?XE(i):l!==null?(l.return=o,Y=l):XE(i);for(;s!==null;)Y=s,oR(s),s=s.sibling;Y=i,ld=a,On=u}GE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):GE(t)}}function GE(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||Mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ih(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}On||e.flags&512&&z_(e)}catch(d){xt(e,e.return,d)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function KE(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function XE(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mm(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{z_(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{z_(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var AL=Math.ceil,Np=js.ReactCurrentDispatcher,s1=js.ReactCurrentOwner,ui=js.ReactCurrentBatchConfig,Oe=0,an=null,Bt=null,vn=0,kr=0,Dl=Ko(0),Qt=0,Fh=null,Ua=0,Nm=0,o1=0,qc=null,fr=null,a1=0,hu=1/0,ps=null,Vp=!1,W_=null,Eo=null,ud=!1,lo=null,Lp=0,Gc=0,H_=null,Bd=-1,$d=0;function Zn(){return Oe&6?Dt():Bd!==-1?Bd:Bd=Dt()}function So(t){return t.mode&1?Oe&2&&vn!==0?vn&-vn:uL.transition!==null?($d===0&&($d=WI()),$d):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:QI(t.type)),t):1}function Di(t,e,n,r){if(50<Gc)throw Gc=0,H_=null,Error(H(185));yf(t,n,r),(!(Oe&2)||t!==an)&&(t===an&&(!(Oe&2)&&(Nm|=n),Qt===4&&no(t,vn)),yr(t,r),n===1&&Oe===0&&!(e.mode&1)&&(hu=Dt()+500,km&&Xo()))}function yr(t,e){var n=t.callbackNode;uV(t,e);var r=wp(t,t===an?vn:0);if(r===0)n!==null&&iE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iE(n),e===1)t.tag===0?lL(YE.bind(null,t)):gC(YE.bind(null,t)),iL(function(){!(Oe&6)&&Xo()}),n=null;else{switch(HI(r)){case 1:n=Ov;break;case 4:n=BI;break;case 16:n=vp;break;case 536870912:n=$I;break;default:n=vp}n=pR(n,aR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aR(t,e){if(Bd=-1,$d=0,Oe&6)throw Error(H(327));var n=t.callbackNode;if(Gl()&&t.callbackNode!==n)return null;var r=wp(t,t===an?vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fp(t,r);else{e=r;var i=Oe;Oe|=2;var s=uR();(an!==t||vn!==e)&&(ps=null,hu=Dt()+500,xa(t,e));do try{RL();break}catch(a){lR(t,a)}while(!0);qv(),Np.current=s,Oe=i,Bt!==null?e=0:(an=null,vn=0,e=Qt)}if(e!==0){if(e===2&&(i=__(t),i!==0&&(r=i,e=q_(t,i))),e===1)throw n=Fh,xa(t,0),no(t,r),yr(t,Dt()),n;if(e===6)no(t,r);else{if(i=t.current.alternate,!(r&30)&&!IL(i)&&(e=Fp(t,r),e===2&&(s=__(t),s!==0&&(r=s,e=q_(t,s))),e===1))throw n=Fh,xa(t,0),no(t,r),yr(t,Dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ca(t,fr,ps);break;case 3:if(no(t,r),(r&130023424)===r&&(e=a1+500-Dt(),10<e)){if(wp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=A_(ca.bind(null,t,fr,ps),e);break}ca(t,fr,ps);break;case 4:if(no(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ki(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AL(r/1960))-r,10<r){t.timeoutHandle=A_(ca.bind(null,t,fr,ps),r);break}ca(t,fr,ps);break;case 5:ca(t,fr,ps);break;default:throw Error(H(329))}}}return yr(t,Dt()),t.callbackNode===n?aR.bind(null,t):null}function q_(t,e){var n=qc;return t.current.memoizedState.isDehydrated&&(xa(t,e).flags|=256),t=Fp(t,e),t!==2&&(e=fr,fr=n,e!==null&&G_(e)),t}function G_(t){fr===null?fr=t:fr.push.apply(fr,t)}function IL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~o1,e&=~Nm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ki(e),r=1<<n;t[n]=-1,e&=~r}}function YE(t){if(Oe&6)throw Error(H(327));Gl();var e=wp(t,0);if(!(e&1))return yr(t,Dt()),null;var n=Fp(t,e);if(t.tag!==0&&n===2){var r=__(t);r!==0&&(e=r,n=q_(t,r))}if(n===1)throw n=Fh,xa(t,0),no(t,e),yr(t,Dt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ca(t,fr,ps),yr(t,Dt()),null}function l1(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(hu=Dt()+500,km&&Xo())}}function ja(t){lo!==null&&lo.tag===0&&!(Oe&6)&&Gl();var e=Oe;Oe|=1;var n=ui.transition,r=Fe;try{if(ui.transition=null,Fe=1,t)return t()}finally{Fe=r,ui.transition=n,Oe=e,!(Oe&6)&&Xo()}}function u1(){kr=Dl.current,nt(Dl)}function xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rL(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch($v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pp();break;case 3:uu(),nt(mr),nt(Fn),Jv();break;case 5:Qv(r);break;case 4:uu();break;case 13:nt(dt);break;case 19:nt(dt);break;case 10:Gv(r.type._context);break;case 22:case 23:u1()}n=n.return}if(an=t,Bt=t=xo(t.current,null),vn=kr=e,Qt=0,Fh=null,o1=Nm=Ua=0,fr=qc=null,ya!==null){for(e=0;e<ya.length;e++)if(n=ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ya=null}return t}function lR(t,e){do{var n=Bt;try{if(qv(),Ud.current=Mp,Op){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Op=!1}if(Fa=0,rn=Kt=yt=null,Wc=!1,Nh=0,s1.current=null,n===null||n.return===null){Qt=1,Fh=e,Bt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=LE(o);if(p!==null){p.flags&=-257,FE(p,o,a,s,e),p.mode&1&&VE(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){VE(s,u,e),c1();break e}l=Error(H(426))}}else if(ut&&a.mode&1){var E=LE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),FE(E,o,a,s,e),Wv(cu(l,a));break e}}s=l=cu(l,a),Qt!==4&&(Qt=2),qc===null?qc=[s]:qc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=HC(s,l,e);bE(s,v);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Eo===null||!Eo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=qC(s,a,e);bE(s,A);break e}}s=s.return}while(s!==null)}hR(n)}catch(C){e=C,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function uR(){var t=Np.current;return Np.current=Mp,t===null?Mp:t}function c1(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),an===null||!(Ua&268435455)&&!(Nm&268435455)||no(an,vn)}function Fp(t,e){var n=Oe;Oe|=2;var r=uR();(an!==t||vn!==e)&&(ps=null,xa(t,e));do try{CL();break}catch(i){lR(t,i)}while(!0);if(qv(),Oe=n,Np.current=r,Bt!==null)throw Error(H(261));return an=null,vn=0,Qt}function CL(){for(;Bt!==null;)cR(Bt)}function RL(){for(;Bt!==null&&!eV();)cR(Bt)}function cR(t){var e=dR(t.alternate,t,kr);t.memoizedProps=t.pendingProps,e===null?hR(t):Bt=e,s1.current=null}function hR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EL(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Bt=null;return}}else if(n=TL(n,e,kr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Qt===0&&(Qt=5)}function ca(t,e,n){var r=Fe,i=ui.transition;try{ui.transition=null,Fe=1,bL(t,e,n,r)}finally{ui.transition=i,Fe=r}return null}function bL(t,e,n,r){do Gl();while(lo!==null);if(Oe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cV(t,s),t===an&&(Bt=an=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,pR(vp,function(){return Gl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var o=Fe;Fe=1;var a=Oe;Oe|=4,s1.current=null,xL(t,n),sR(n,t),YV(x_),Tp=!!S_,x_=S_=null,t.current=n,PL(n),tV(),Oe=a,Fe=o,ui.transition=s}else t.current=n;if(ud&&(ud=!1,lo=t,Lp=i),s=t.pendingLanes,s===0&&(Eo=null),iV(n.stateNode),yr(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vp)throw Vp=!1,t=W_,W_=null,t;return Lp&1&&t.tag!==0&&Gl(),s=t.pendingLanes,s&1?t===H_?Gc++:(Gc=0,H_=t):Gc=0,Xo(),null}function Gl(){if(lo!==null){var t=HI(Lp),e=ui.transition,n=Fe;try{if(ui.transition=null,Fe=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,Lp=0,Oe&6)throw Error(H(331));var i=Oe;for(Oe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Hc(8,c,s)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var d=c.sibling,p=c.return;if(nR(c),c===u){Y=null;break}if(d!==null){d.return=p,Y=d;break}Y=p}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Y=v;break e}Y=s.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Y=S;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mm(9,a)}}catch(C){xt(a,a.return,C)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(Oe=i,Xo(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Am,t)}catch{}r=!0}return r}finally{Fe=n,ui.transition=e}}return!1}function QE(t,e,n){e=cu(n,e),e=HC(t,e,1),t=To(t,e,1),e=Zn(),t!==null&&(yf(t,1,e),yr(t,e))}function xt(t,e,n){if(t.tag===3)QE(t,t,n);else for(;e!==null;){if(e.tag===3){QE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=cu(n,t),t=qC(e,t,1),e=To(e,t,1),t=Zn(),e!==null&&(yf(e,1,t),yr(e,t));break}}e=e.return}}function kL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(vn&n)===n&&(Qt===4||Qt===3&&(vn&130023424)===vn&&500>Dt()-a1?xa(t,0):o1|=n),yr(t,e)}function fR(t,e){e===0&&(t.mode&1?(e=Zf,Zf<<=1,!(Zf&130023424)&&(Zf=4194304)):e=1);var n=Zn();t=Rs(t,e),t!==null&&(yf(t,e,n),yr(t,n))}function DL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fR(t,n)}function OL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),fR(t,n)}var dR;dR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,wL(t,e,n);dr=!!(t.flags&131072)}else dr=!1,ut&&e.flags&1048576&&yC(e,Cp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zd(t,e),t=e.pendingProps;var i=ou(e,Fn.current);ql(e,n),i=e1(null,e,r,t,i,n);var s=t1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(s=!0,Ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xv(e),i.updater=Om,e.stateNode=i,i._reactInternals=e,O_(e,r,t,n),e=V_(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&Bv(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NL(r),t=xi(r,t),i){case 0:e=N_(null,e,r,t,n);break e;case 1:e=zE(null,e,r,t,n);break e;case 11:e=UE(null,e,r,t,n);break e;case 14:e=jE(null,e,r,xi(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),N_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),zE(t,e,r,i,n);case 3:e:{if(YC(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SC(t,e),kp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cu(Error(H(423)),e),e=BE(t,e,r,n,i);break e}else if(r!==i){i=cu(Error(H(424)),e),e=BE(t,e,r,n,i);break e}else for(Fr=wo(e.stateNode.containerInfo.firstChild),jr=e,ut=!0,Ai=null,n=TC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(au(),r===i){e=bs(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return xC(e),t===null&&b_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,P_(r,i)?o=null:s!==null&&P_(r,s)&&(e.flags|=32),XC(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&b_(e),null;case 13:return QC(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lu(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),UE(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(Rp,r._currentValue),r._currentValue=o,s!==null)if(Mi(s.value,o)){if(s.children===i.children&&!mr.current){e=bs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),k_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),k_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ql(e,n),i=fi(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=xi(r,e.pendingProps),i=xi(r.type,i),jE(t,e,r,i,n);case 15:return GC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),zd(t,e),e.tag=1,gr(r)?(t=!0,Ap(e)):t=!1,ql(e,n),WC(e,r,i),O_(e,r,i,n),V_(null,e,r,!0,t,n);case 19:return JC(t,e,n);case 22:return KC(t,e,n)}throw Error(H(156,e.tag))};function pR(t,e){return zI(t,e)}function ML(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,n,r){return new ML(t,e,n,r)}function h1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NL(t){if(typeof t=="function")return h1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===kv)return 14}return 2}function xo(t,e){var n=t.alternate;return n===null?(n=si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case El:return Pa(n.children,i,s,e);case Rv:o=8,i|=8;break;case r_:return t=si(12,n,e,i|2),t.elementType=r_,t.lanes=s,t;case i_:return t=si(13,n,e,i),t.elementType=i_,t.lanes=s,t;case s_:return t=si(19,n,e,i),t.elementType=s_,t.lanes=s,t;case xI:return Vm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EI:o=10;break e;case SI:o=9;break e;case bv:o=11;break e;case kv:o=14;break e;case Zs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=si(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pa(t,e,n,r){return t=si(7,t,r,e),t.lanes=n,t}function Vm(t,e,n,r){return t=si(22,t,r,e),t.elementType=xI,t.lanes=n,t.stateNode={isHidden:!1},t}function ny(t,e,n){return t=si(6,t,null,e),t.lanes=n,t}function ry(t,e,n){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f1(t,e,n,r,i,s,o,a,l){return t=new VL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=si(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(s),t}function LL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mR(t){if(!t)return Vo;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(gr(n))return mC(t,n,e)}return e}function gR(t,e,n,r,i,s,o,a,l){return t=f1(n,r,!0,t,i,s,o,a,l),t.context=mR(null),n=t.current,r=Zn(),i=So(n),s=xs(r,i),s.callback=e??null,To(n,s,i),t.current.lanes=i,yf(t,i,r),yr(t,r),t}function Lm(t,e,n,r){var i=e.current,s=Zn(),o=So(i);return n=mR(n),e.context===null?e.context=n:e.pendingContext=n,e=xs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=To(i,e,o),t!==null&&(Di(t,i,o,s),Fd(t,i,o)),o}function Up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d1(t,e){JE(t,e),(t=t.alternate)&&JE(t,e)}function FL(){return null}var yR=typeof reportError=="function"?reportError:function(t){console.error(t)};function p1(t){this._internalRoot=t}Fm.prototype.render=p1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Lm(t,e,null,null)};Fm.prototype.unmount=p1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){Lm(null,t,null,null)}),e[Cs]=null}};function Fm(t){this._internalRoot=t}Fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=KI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&YI(t)}};function m1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZE(){}function UL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Up(o);s.call(u)}}var o=gR(e,r,t,0,null,!1,!1,"",ZE);return t._reactRootContainer=o,t[Cs]=o.current,bh(t.nodeType===8?t.parentNode:t),ja(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Up(l);a.call(u)}}var l=f1(t,0,!1,null,null,!1,!1,"",ZE);return t._reactRootContainer=l,t[Cs]=l.current,bh(t.nodeType===8?t.parentNode:t),ja(function(){Lm(e,l,n,r)}),l}function jm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Up(o);a.call(l)}}Lm(e,o,t,i)}else o=UL(n,e,t,i,r);return Up(o)}qI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wc(e.pendingLanes);n!==0&&(Mv(e,n|1),yr(e,Dt()),!(Oe&6)&&(hu=Dt()+500,Xo()))}break;case 13:ja(function(){var r=Rs(t,1);if(r!==null){var i=Zn();Di(r,t,1,i)}}),d1(t,1)}};Nv=function(t){if(t.tag===13){var e=Rs(t,134217728);if(e!==null){var n=Zn();Di(e,t,134217728,n)}d1(t,134217728)}};GI=function(t){if(t.tag===13){var e=So(t),n=Rs(t,e);if(n!==null){var r=Zn();Di(n,t,e,r)}d1(t,e)}};KI=function(){return Fe};XI=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};m_=function(t,e,n){switch(e){case"input":if(l_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bm(r);if(!i)throw Error(H(90));AI(r),l_(r,i)}}}break;case"textarea":CI(t,n);break;case"select":e=n.value,e!=null&&Bl(t,!!n.multiple,e,!1)}};NI=l1;VI=ja;var jL={usingClientEntryPoint:!1,Events:[vf,Al,bm,OI,MI,l1]},cc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zL={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UI(t),t===null?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||FL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Am=cd.inject(zL),Yi=cd}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jL;Hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(e))throw Error(H(200));return LL(t,e,null,n)};Hr.createRoot=function(t,e){if(!m1(t))throw Error(H(299));var n=!1,r="",i=yR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f1(t,1,!1,null,null,n,!1,r,i),t[Cs]=e.current,bh(t.nodeType===8?t.parentNode:t),new p1(e)};Hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=UI(e),t=t===null?null:t.stateNode,t};Hr.flushSync=function(t){return ja(t)};Hr.hydrate=function(t,e,n){if(!Um(e))throw Error(H(200));return jm(null,t,e,!0,n)};Hr.hydrateRoot=function(t,e,n){if(!m1(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gR(e,null,t,1,n??null,i,!1,s,o),t[Cs]=e.current,bh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fm(e)};Hr.render=function(t,e,n){if(!Um(e))throw Error(H(200));return jm(null,t,e,!1,n)};Hr.unmountComponentAtNode=function(t){if(!Um(t))throw Error(H(40));return t._reactRootContainer?(ja(function(){jm(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};Hr.unstable_batchedUpdates=l1;Hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Um(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return jm(t,e,n,!1,r)};Hr.version="18.3.1-next-f1338f8080-20240426";function _R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_R)}catch(t){console.error(t)}}_R(),_I.exports=Hr;var BL=_I.exports,eS=BL;t_.createRoot=eS.createRoot,t_.hydrateRoot=eS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const tS="popstate";function $L(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return K_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jp(i)}return HL(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WL(){return Math.random().toString(36).substr(2,8)}function nS(t,e){return{usr:t.state,key:t.key,idx:e}}function K_(t,e,n,r){return n===void 0&&(n=null),Uh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:n,key:e&&e.key||r||WL()})}function jp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=uo.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Uh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=uo.Pop;let E=c(),v=E==null?null:E-u;u=E,l&&l({action:a,location:g.location,delta:v})}function d(E,v){a=uo.Push;let _=K_(g.location,E,v);u=c()+1;let S=nS(_,u),A=g.createHref(_);try{o.pushState(S,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function p(E,v){a=uo.Replace;let _=K_(g.location,E,v);u=c();let S=nS(_,u),A=g.createHref(_);o.replaceState(S,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function y(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:jp(E);return _=_.replace(/ $/,"%20"),At(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tS,f),l=E,()=>{i.removeEventListener(tS,f),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let v=y(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(E){return o.go(E)}};return g}var rS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rS||(rS={}));function qL(t,e,n){return n===void 0&&(n="/"),GL(t,e,n)}function GL(t,e,n,r){let i=typeof e=="string"?Nu(e):e,s=fu(i.pathname||"/",n);if(s==null)return null;let o=wR(t);KL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=s3(s);a=r3(o[l],u)}return a}function wR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Po([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wR(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:t3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of TR(s.path))i(s,o,l)}),e}function TR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=TR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XL=/^:[\w-]+$/,YL=3,QL=2,JL=1,ZL=10,e3=-2,iS=t=>t==="*";function t3(t,e){let n=t.split("/"),r=n.length;return n.some(iS)&&(r+=e3),e&&(r+=QL),n.filter(i=>!iS(i)).reduce((i,s)=>i+(XL.test(s)?YL:s===""?JL:ZL),r)}function n3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r3(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=X_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Po([s,f.pathname]),pathnameBase:u3(Po([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=Po([s,f.pathnameBase]))}return o}function X_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return p&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function i3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nu(t):t;return{pathname:n?n.startsWith("/")?n:a3(n,e):e,search:c3(r),hash:h3(i)}}function a3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ER(t,e){let n=l3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nu(t):(i=Uh({},t),At(!i.pathname||!i.pathname.includes("?"),iy("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),iy("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),iy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=o3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),u3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xR=["post","put","patch","delete"];new Set(xR);const d3=["get",...xR];new Set(d3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}const zm=V.createContext(null),PR=V.createContext(null),Yo=V.createContext(null),Bm=V.createContext(null),Za=V.createContext({outlet:null,matches:[],isDataRoute:!1}),AR=V.createContext(null);function p3(t,e){let{relative:n}=e===void 0?{}:e;Tf()||At(!1);let{basename:r,navigator:i}=V.useContext(Yo),{hash:s,pathname:o,search:a}=$m(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Po([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Tf(){return V.useContext(Bm)!=null}function Ef(){return Tf()||At(!1),V.useContext(Bm).location}function IR(t){V.useContext(Yo).static||V.useLayoutEffect(t)}function m3(){let{isDataRoute:t}=V.useContext(Za);return t?C3():g3()}function g3(){Tf()||At(!1);let t=V.useContext(zm),{basename:e,future:n,navigator:r}=V.useContext(Yo),{matches:i}=V.useContext(Za),{pathname:s}=Ef(),o=JSON.stringify(ER(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return IR(()=>{a.current=!0}),V.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=SR(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Po([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function $m(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Yo),{matches:i}=V.useContext(Za),{pathname:s}=Ef(),o=JSON.stringify(ER(i,r.v7_relativeSplatPath));return V.useMemo(()=>SR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function y3(t,e){return _3(t,e)}function _3(t,e,n,r){Tf()||At(!1);let{navigator:i}=V.useContext(Yo),{matches:s}=V.useContext(Za),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ef(),c;if(e){var f;let E=typeof e=="string"?Nu(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||At(!1),c=E}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=qL(t,{pathname:p}),g=S3(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Po([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Po([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&g?V.createElement(Bm.Provider,{value:{location:jh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:uo.Pop}},g):g}function v3(){let t=I3(),e=f3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const w3=V.createElement(v3,null);class T3 extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Za.Provider,{value:this.props.routeContext},V.createElement(AR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E3(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(zm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Za.Provider,{value:e},r)}function S3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||At(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let p,y=!1,g=null,E=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||w3,l&&(u<0&&d===0?(R3("route-fallback"),y=!0,E=null):u===d&&(y=!0,E=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),_=()=>{let S;return p?S=g:y?S=E:f.route.Component?S=V.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,V.createElement(E3,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?V.createElement(T3,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var CR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CR||{}),RR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(RR||{});function x3(t){let e=V.useContext(zm);return e||At(!1),e}function P3(t){let e=V.useContext(PR);return e||At(!1),e}function A3(t){let e=V.useContext(Za);return e||At(!1),e}function bR(t){let e=A3(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function I3(){var t;let e=V.useContext(AR),n=P3(),r=bR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function C3(){let{router:t}=x3(CR.UseNavigateStable),e=bR(RR.UseNavigateStable),n=V.useRef(!1);return IR(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jh({fromRouteId:e},s)))},[t,e])}const sS={};function R3(t,e,n){sS[t]||(sS[t]=!0)}function b3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ec(t){At(!1)}function k3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=uo.Pop,navigator:s,static:o=!1,future:a}=t;Tf()&&At(!1);let l=e.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:s,static:o,future:jh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Nu(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:y="default"}=r,g=V.useMemo(()=>{let E=fu(c,l);return E==null?null:{location:{pathname:E,search:f,hash:d,state:p,key:y},navigationType:i}},[l,c,f,d,p,y,i]);return g==null?null:V.createElement(Yo.Provider,{value:u},V.createElement(Bm.Provider,{children:n,value:g}))}function D3(t){let{children:e,location:n}=t;return y3(Y_(e),n)}new Promise(()=>{});function Y_(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,Y_(r.props.children,s));return}r.type!==Ec&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Y_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function kR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M3(t,e){return t.button===0&&(!e||e==="_self")&&!O3(t)}const N3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],L3="6";try{window.__reactRouterVersion=L3}catch{}const F3=V.createContext({isTransitioning:!1}),U3="startTransition",oS=kN[U3];function j3(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=$L({window:i,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=V.useCallback(f=>{u&&oS?oS(()=>l(f)):l(f)},[l,u]);return V.useLayoutEffect(()=>o.listen(c),[o,c]),V.useEffect(()=>b3(r),[r]),V.createElement(k3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=kR(e,N3),{basename:p}=V.useContext(Yo),y,g=!1;if(typeof u=="string"&&B3.test(u)&&(y=u,z3))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=fu(A.pathname,p);A.origin===S.origin&&C!=null?u=C+A.search+A.hash:g=!0}catch{}let E=p3(u,{relative:i}),v=W3(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(S){r&&r(S),S.defaultPrevented||v(S)}return V.createElement("a",zp({},d,{href:y||E,onClick:g||s?r:_,ref:n,target:l}))}),aS=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,f=kR(e,V3),d=$m(l,{relative:f.relative}),p=Ef(),y=V.useContext(PR),{navigator:g,basename:E}=V.useContext(Yo),v=y!=null&&H3(d)&&u===!0,_=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,S=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&E&&(A=fu(A,E)||A);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=S===_||!o&&S.startsWith(_)&&S.charAt(C)==="/",x=A!=null&&(A===_||!o&&A.startsWith(_)&&A.charAt(_.length)==="/"),T={isActive:O,isPending:x,isTransitioning:v},P=O?r:void 0,I;typeof s=="function"?I=s(T):I=[s,O?"active":null,x?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(T):a;return V.createElement(Kc,zp({},f,{"aria-current":P,className:I,ref:n,style:k,to:l,viewTransition:u}),typeof c=="function"?c(T):c)});var Q_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q_||(Q_={}));var lS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lS||(lS={}));function $3(t){let e=V.useContext(zm);return e||At(!1),e}function W3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=m3(),u=Ef(),c=$m(t,{relative:o});return V.useCallback(f=>{if(M3(f,n)){f.preventDefault();let d=r!==void 0?r:jp(u)===jp(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function H3(t,e){e===void 0&&(e={});let n=V.useContext(F3);n==null&&At(!1);let{basename:r}=$3(Q_.useViewTransitionState),i=$m(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=fu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return X_(i.pathname,o)!=null||X_(i.pathname,s)!=null}/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>V.createElement("svg",{ref:l,...G3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DR("lucide",i),...a},[...o.map(([u,c])=>V.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=(t,e)=>{const n=V.forwardRef(({className:r,...i},s)=>V.createElement(K3,{ref:s,iconNode:e,className:DR(`lucide-${q3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=cs("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=cs("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=cs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=cs("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=cs("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=cs("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=cs("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=cs("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=cs("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=cs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function OR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iF(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OR(t))&&(r&&(r+=" "),r+=e);return r}const sF=()=>{const[t,e]=V.useState(!1),n=[{href:"/#quien-soy",text:"Quién Soy"},{href:"/#playlist",text:"Playlist"},{href:"/cancion-semanal",text:"Canción Semanal"},{href:"/contacto",text:"Contacto"}],r=()=>{e(!1)};return N.jsxs("header",{className:"backdrop-blur-sm sticky top-0 z-40 border-b border-brand-purple/20",children:[N.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[N.jsx(Kc,{to:"/",className:"flex-shrink-0",children:N.jsx("img",{src:"/assets/logo.svg",alt:"Logo Universo 8090",className:"h-8 md:h-10"})}),N.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:n.map(i=>N.jsx(aS,{to:i.href,onClick:()=>{i.href.startsWith("/#")&&setTimeout(()=>{var s;(s=document.querySelector(i.href.substring(1)))==null||s.scrollIntoView()},0)},className:"text-gray-300 hover:text-brand-cyan transition-colors",children:i.text},i.text))}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("a",{href:"/#player",className:"btn btn-primary hidden sm:inline-flex items-center gap-2",children:[N.jsx(uS,{size:20}),"Escuchar en Vivo"]}),N.jsx("button",{className:"md:hidden z-50",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?N.jsx(rF,{size:28}):N.jsx(Q3,{size:28})})]})]}),N.jsx("div",{className:iF("fixed inset-0 bg-brand-dark z-40 transform md:hidden transition-transform duration-300 ease-in-out",t?"translate-x-0":"translate-x-full"),children:N.jsxs("nav",{className:"flex flex-col items-center justify-center h-full space-y-8",children:[n.map(i=>N.jsx(aS,{to:i.href,onClick:r,className:"text-2xl font-title text-gray-300 hover:text-brand-cyan transition-colors",children:i.text},i.text)),N.jsxs("a",{href:"/#player",onClick:r,className:"btn btn-primary mt-8 inline-flex items-center gap-2",children:[N.jsx(uS,{size:20}),"Escuchar en Vivo"]})]})})]})},oF=()=>N.jsx("footer",{className:"bg-gray-900/50 border-t border-brand-purple/20",children:N.jsxs("div",{className:"container mx-auto px-6 py-8 text-center text-gray-400",children:[N.jsx(Kc,{to:"/",className:"inline-block mb-4",children:N.jsx("img",{src:"/assets/logo.svg",alt:"Logo Universo 8090",className:"h-8"})}),N.jsx("p",{className:"mb-4",children:"Lunes a Viernes de 21:00 a 22:00 hs."}),N.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[N.jsx(Kc,{to:"/archivo",className:"hover:text-brand-cyan transition-colors",children:"Archivo"}),N.jsx(Kc,{to:"/contacto",className:"hover:text-brand-cyan transition-colors",children:"Contacto"})]}),N.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," Universo 8090. Todos los derechos reservados."]})]})});function aF({children:t,className:e="",colors:n=["#ffaa40","#9c40ff","#ffaa40"],animationSpeed:r=8,showBorder:i=!1}){const s={backgroundImage:`linear-gradient(to right, ${n.join(", ")})`,animationDuration:`${r}s`};return N.jsxs("div",{className:`relative mx-auto flex max-w-fit flex-row items-center justify-center rounded-[1.25rem] font-medium backdrop-blur transition-shadow duration-500 overflow-hidden cursor-pointer ${e}`,children:[i&&N.jsx("div",{className:"absolute inset-0 bg-cover z-0 pointer-events-none animate-gradient",style:{...s,backgroundSize:"300% 100%"},children:N.jsx("div",{className:"absolute inset-0 bg-black rounded-[1.25rem] z-[-1]",style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}),N.jsx("div",{className:"inline-block relative z-2 text-transparent bg-cover animate-gradient",style:{...s,backgroundClip:"text",WebkitBackgroundClip:"text",backgroundSize:"300% 100%"},children:t})]})}function ms(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var zr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},du={duration:.5,overwrite:!1,delay:0},g1,wn,ct,oi=1e8,We=1/oi,J_=Math.PI*2,lF=J_/4,uF=0,NR=Math.sqrt,cF=Math.cos,hF=Math.sin,ln=function(e){return typeof e=="string"},Pt=function(e){return typeof e=="function"},ks=function(e){return typeof e=="number"},y1=function(e){return typeof e>"u"},as=function(e){return typeof e=="object"},_r=function(e){return e!==!1},_1=function(){return typeof window<"u"},hd=function(e){return Pt(e)||ln(e)},VR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ln=Array.isArray,Z_=/(?:-?\.?\d|\.)+/gi,LR=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ol=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sy=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,FR=/[+-]=-?[.\d]+/,UR=/[^,'"\[\]\s]+/gi,fF=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,pt,$i,e0,v1,$r={},Bp={},jR,zR=function(e){return(Bp=pu(e,$r))&&Er},w1=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},zh=function(e,n){return!n&&console.warn(e)},BR=function(e,n){return e&&($r[e]=n)&&Bp&&(Bp[e]=n)||$r},Bh=function(){return 0},dF={suppressEvents:!0,isStart:!0,kill:!1},Hd={suppressEvents:!0,kill:!1},pF={suppressEvents:!0},T1={},Ao=[],t0={},$R,Or={},oy={},cS=30,qd=[],E1="",S1=function(e){var n=e[0],r,i;if(as(n)||Pt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=qd.length;i--&&!qd[i].targetTest(n););r=qd[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new db(e[i],r)))||e.splice(i,1);return e},Aa=function(e){return e._gsap||S1(ai(e))[0]._gsap},WR=function(e,n,r){return(r=e[n])&&Pt(r)?e[n]():y1(r)&&e.getAttribute&&e.getAttribute(n)||r},vr=function(e,n){return(e=e.split(",")).forEach(n)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},zt=function(e){return Math.round(e*1e7)/1e7||0},Kl=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},mF=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},$p=function(){var e=Ao.length,n=Ao.slice(0),r,i;for(t0={},Ao.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},x1=function(e){return!!(e._initted||e._startAt||e.add)},HR=function(e,n,r,i){Ao.length&&!wn&&$p(),e.render(n,r,!!(wn&&n<0&&x1(e))),Ao.length&&!wn&&$p()},qR=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(UR).length<2?n:ln(e)?e.trim():e},GR=function(e){return e},Wr=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},gF=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},pu=function(e,n){for(var r in n)e[r]=n[r];return e},hS=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=as(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Wp=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Xc=function(e){var n=e.parent||pt,r=e.keyframes?gF(Ln(e.keyframes)):Wr;if(_r(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},yF=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},KR=function(e,n,r,i,s){var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Wm=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Lo=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ia=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_F=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},n0=function(e,n,r,i){return e._startAt&&(wn?e._startAt.revert(Hd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},vF=function t(e){return!e||e._ts&&t(e.parent)},fS=function(e){return e._repeat?mu(e._tTime,e=e.duration()+e._rDelay)*e:0},mu=function(e,n){var r=Math.floor(e=zt(e/n));return e&&r===e?r-1:r},Hp=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Hm=function(e){return e._end=zt(e._start+(e._tDur/Math.abs(e._ts||e._rts||We)||0))},qm=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=zt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Hm(e),r._dirty||Ia(r,e)),e},XR=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Hp(e.rawTime(),n),(!n._dur||Sf(0,n.totalDuration(),r)-n._tTime>We)&&n.render(r,!0)),Ia(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-We}},Gi=function(e,n,r,i){return n.parent&&Lo(n),n._start=zt((ks(r)?r:r||e!==pt?Jr(e,r,n):e._time)+n._delay),n._end=zt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),KR(e,n,"_first","_last",e._sort?"_start":0),r0(n)||(e._recent=n),i||XR(e,n),e._ts<0&&qm(e,e._tTime),e},YR=function(e,n){return($r.ScrollTrigger||w1("scrollTrigger",n))&&$r.ScrollTrigger.create(n,e)},QR=function(e,n,r,i,s){if(A1(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!wn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&$R!==Nr.frame)return Ao.push(e),e._lazy=[s,i],1},wF=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},r0=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},TF=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&wF(e)&&!(!e._initted&&r0(e))||(e._ts<0||e._dp._ts<0)&&!r0(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Sf(0,e._tDur,n),c=mu(l,a),e._yoyo&&c&1&&(o=1-o),c!==mu(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||wn||i||e._zTime===We||!n&&e._zTime){if(!e._initted&&QR(e,n,i,r,l))return;for(f=e._zTime,e._zTime=n||(r?We:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&n0(e,n,r,!0),e._onUpdate&&!r&&Ur(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Ur(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Lo(e,1),!r&&!wn&&(Ur(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},EF=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},gu=function(e,n,r,i){var s=e._repeat,o=zt(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:zt(o*(s+1)+e._rDelay*s):o,a>0&&!i&&qm(e,e._tTime=e._tDur*a),e.parent&&Hm(e),r||Ia(e.parent,e),e},dS=function(e){return e instanceof Yn?Ia(e):gu(e,e._dur)},SF={_start:0,endTime:Bh,totalDuration:Bh},Jr=function t(e,n,r){var i=e.labels,s=e._recent||SF,o=e.duration()>=oi?s.endTime(!1):e._dur,a,l,u;return ln(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(Ln(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},Yc=function(e,n,r){var i=ks(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=_r(l.vars.inherit)&&l.parent;o.immediateRender=_r(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new jt(n[0],o,n[s+1])},Qo=function(e,n){return e||e===0?n(e):n},Sf=function(e,n,r){return r<e?e:r>n?n:r},Nn=function(e,n){return!ln(e)||!(n=fF.exec(e))?"":n[1]},xF=function(e,n,r){return Qo(r,function(i){return Sf(e,n,i)})},i0=[].slice,JR=function(e,n){return e&&as(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&as(e[0]))&&!e.nodeType&&e!==$i},PF=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return ln(i)&&!n||JR(i,1)?(s=r).push.apply(s,ai(i)):r.push(i)})||r},ai=function(e,n,r){return ct&&!n&&ct.selector?ct.selector(e):ln(e)&&!r&&(e0||!yu())?i0.call((n||v1).querySelectorAll(e),0):Ln(e)?PF(e,r):JR(e)?i0.call(e,0):e?[e]:[]},s0=function(e){return e=ai(e)[0]||zh("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return ai(n,r.querySelectorAll?r:r===e?zh("Invalid scope")||v1.createElement("div"):e)}},ZR=function(e){return e.sort(function(){return .5-Math.random()})},eb=function(e){if(Pt(e))return e;var n=as(e)?e:{each:e},r=Ca(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=n.axis,c=i,f=i;return ln(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(d,p,y){var g=(y||n).length,E=o[g],v,_,S,A,C,O,x,T,P;if(!E){if(P=n.grid==="auto"?0:(n.grid||[1,oi])[1],!P){for(x=-oi;x<(x=y[P++].getBoundingClientRect().left)&&P<g;);P<g&&P--}for(E=o[g]=[],v=l?Math.min(P,g)*c-.5:i%P,_=P===oi?0:l?g*f/P-.5:i/P|0,x=0,T=oi,O=0;O<g;O++)S=O%P-v,A=_-(O/P|0),E[O]=C=u?Math.abs(u==="y"?A:S):NR(S*S+A*A),C>x&&(x=C),C<T&&(T=C);i==="random"&&ZR(E),E.max=x-T,E.min=T,E.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(P>g?g-1:u?u==="y"?g/P:P:Math.max(P,g/P))||0)*(i==="edges"?-1:1),E.b=g<0?s-g:s,E.u=Nn(n.amount||n.each)||0,r=r&&g<0?cb(r):r}return g=(E[d]-E.min)/E.max||0,zt(E.b+(r?r(g):g)*E.v)+E.u}},o0=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=zt(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(ks(r)?0:Nn(r))}},tb=function(e,n){var r=Ln(e),i,s;return!r&&as(e)&&(i=r=e.radius||oi,e.values?(e=ai(e.values),(s=!ks(e[0]))&&(i*=i)):e=o0(e.increment)),Qo(n,r?Pt(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=oi,c=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!i||u<=i?e[c]:o,s||c===o||ks(o)?c:c+Nn(o)}:o0(e))},nb=function(e,n,r,i){return Qo(Ln(e)?!n:r===!0?!!(r=0):!i,function(){return Ln(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},AF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},IF=function(e,n){return function(r){return e(parseFloat(r))+(n||Nn(r))}},CF=function(e,n,r){return ib(e,n,0,1,r)},rb=function(e,n,r){return Qo(r,function(i){return e[~~n(i)]})},RF=function t(e,n,r){var i=n-e;return Ln(e)?rb(e,t(0,e.length),n):Qo(r,function(s){return(i+(s-e)%i)%i+e})},bF=function t(e,n,r){var i=n-e,s=i*2;return Ln(e)?rb(e,t(0,e.length-1),n):Qo(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},$h=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?UR:Z_),r+=e.substr(n,i-n)+nb(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},ib=function(e,n,r,i,s){var o=n-e,a=i-r;return Qo(s,function(l){return r+((l-e)/o*a||0)})},kF=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=ln(e),a={},l,u,c,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Ln(e)&&!Ln(n)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,s=function(y){y*=f;var g=Math.min(d,~~y);return c[g](y-g)},r=n}else i||(e=pu(Ln(e)?[]:{},e));if(!c){for(l in n)P1.call(a,e,l,"get",n[l]);s=function(y){return R1(y,a)||(o?e.p:e)}}}return Qo(r,s)},pS=function(e,n,r){var i=e.labels,s=oi,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ur=function(e,n,r){var i=e.vars,s=i[n],o=ct,a=e._ctx,l,u,c;if(s)return l=i[n+"Params"],u=i.callbackScope||e,r&&Ao.length&&$p(),a&&(ct=a),c=l?s.apply(u,l):s.call(u),ct=o,c},Sc=function(e){return Lo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!wn),e.progress()<1&&Ur(e,"onInterrupt"),e},Ml,sb=[],ob=function(e){if(e)if(e=!e.name&&e.default||e,_1()||e.headless){var n=e.name,r=Pt(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:Bh,render:R1,add:P1,kill:GF,modifier:qF,rawVars:0},o={targetTest:0,get:0,getSetter:C1,aliases:{},register:0};if(yu(),e!==i){if(Or[n])return;Wr(i,Wr(Wp(e,s),o)),pu(i.prototype,pu(s,Wp(e,o))),Or[i.prop=n]=i,e.targetTest&&(qd.push(i),T1[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}BR(n,i),e.register&&e.register(Er,i,wr)}else sb.push(e)},$e=255,xc={aqua:[0,$e,$e],lime:[0,$e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$e],navy:[0,0,128],white:[$e,$e,$e],olive:[128,128,0],yellow:[$e,$e,0],orange:[$e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$e,0,0],pink:[$e,192,203],cyan:[0,$e,$e],transparent:[$e,$e,$e,0]},ay=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*$e+.5|0},ab=function(e,n,r){var i=e?ks(e)?[e>>16,e>>8&$e,e&$e]:0:xc.black,s,o,a,l,u,c,f,d,p,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),xc[e])i=xc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&$e,i&$e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&$e,e&$e]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(Z_),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=ay(l+1/3,s,o),i[1]=ay(l,s,o),i[2]=ay(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(LR),r&&i.length<4&&(i[3]=1),i}else i=e.match(Z_)||xc.transparent;i=i.map(Number)}return n&&!y&&(s=i[0]/$e,o=i[1]/$e,a=i[2]/$e,f=Math.max(s,o,a),d=Math.min(s,o,a),c=(f+d)/2,f===d?l=u=0:(p=f-d,u=c>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},lb=function(e){var n=[],r=[],i=-1;return e.split(Io).forEach(function(s){var o=s.match(Ol)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},mS=function(e,n,r){var i="",s=(e+i).match(Io),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(d){return(d=ab(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=lb(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(Io,"1").split(Ol),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(Io),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},Io=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in xc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),DF=/hsl[a]?\(/,ub=function(e){var n=e.join(" "),r;if(Io.lastIndex=0,Io.test(n))return r=DF.test(n),e[1]=mS(e[1],r),e[0]=mS(e[0],r,lb(e[1])),!0},Wh,Nr=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,d,p,y=function g(E){var v=t()-i,_=E===!0,S,A,C,O;if((v>e||v<0)&&(r+=v-n),i+=v,C=i-r,S=C-o,(S>0||_)&&(O=++f.frame,d=C-f.time*1e3,f.time=C=C/1e3,o+=S+(S>=s?4:s-S),A=1),_||(l=u(g)),A)for(p=0;p<a.length;p++)a[p](C,d,O,E)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(E){return d/(1e3/(E||60))},wake:function(){jR&&(!e0&&_1()&&($i=e0=window,v1=$i.document||{},$r.gsap=Er,($i.gsapVersions||($i.gsapVersions=[])).push(Er.version),zR(Bp||$i.GreenSockGlobals||!$i.gsap&&$i||{}),sb.forEach(ob)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(E){return setTimeout(E,o-f.time*1e3+1|0)},Wh=1,y(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Wh=0,u=Bh},lagSmoothing:function(E,v){e=E||1/0,n=Math.min(v||33,e)},fps:function(E){s=1e3/(E||240),o=f.time*1e3+s},add:function(E,v,_){var S=v?function(A,C,O,x){E(A,C,O,x),f.remove(S)}:E;return f.remove(E),a[_?"unshift":"push"](S),yu(),S},remove:function(E,v){~(v=a.indexOf(E))&&a.splice(v,1)&&p>=v&&p--},_listeners:a},f}(),yu=function(){return!Wh&&Nr.wake()},Ie={},OF=/^[\d.\-M][\d.\-,\s]/,MF=/["']/g,NF=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[i]=isNaN(u)?u.replace(MF,"").trim():+u,i=l.substr(a+1).trim();return n},VF=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},LF=function(e){var n=(e+"").split("("),r=Ie[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[NF(n[1])]:VF(e).split(",").map(qR)):Ie._CE&&OF.test(e)?Ie._CE("",e):r},cb=function(e){return function(n){return 1-e(1-n)}},hb=function t(e,n){for(var r=e._first,i;r;)r instanceof Yn?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Ca=function(e,n){return e&&(Pt(e)?e:Ie[e]||LF(e))||n},el=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return vr(e,function(a){Ie[a]=$r[a]=s,Ie[o=a.toLowerCase()]=r;for(var l in s)Ie[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Ie[a+"."+l]=s[l]}),s},fb=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},ly=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/J_*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*hF((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:fb(a);return s=J_/s,l.config=function(u,c){return t(e,u,c)},l},uy=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:fb(r);return i.config=function(s){return t(e,s)},i};vr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;el(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ie.Linear.easeNone=Ie.none=Ie.Linear.easeIn;el("Elastic",ly("in"),ly("out"),ly());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};el("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);el("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});el("Circ",function(t){return-(NR(1-t*t)-1)});el("Sine",function(t){return t===1?1:-cF(t*lF)+1});el("Back",uy("in"),uy("out"),uy());Ie.SteppedEase=Ie.steps=$r.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-We;return function(a){return((i*Sf(0,o,a)|0)+s)*r}}};du.ease=Ie["quad.out"];vr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return E1+=t+","+t+"Params,"});var db=function(e,n){this.id=uF++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:WR,this.set=n?n.getSetter:C1},Hh=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,gu(this,+n.duration,1,1),this.data=n.data,ct&&(this._ctx=ct,ct.data.push(this)),Wh||Nr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,gu(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(yu(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(qm(this,r),!s._dp||s.parent||XR(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Gi(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===We||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),HR(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+fS(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+fS(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?mu(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-We?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Hp(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-We?0:this._rts,this.totalTime(Sf(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Hm(this),_F(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==We&&(this._tTime-=We)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Gi(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(_r(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Hp(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=pF);var i=wn;return wn=r,x1(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),wn=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,dS(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,dS(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Jr(this,r),_r(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,_r(i)),this._dur||(this._zTime=-We),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-We:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-We,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-We)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Pt(r)?r:GR,a=function(){var u=i.then;i.then=null,Pt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Sc(this)},t}();Wr(Hh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-We,_prom:0,_ps:!1,_rts:1});var Yn=function(t){MR(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=_r(r.sortChildren),pt&&Gi(r.parent||pt,ms(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&YR(ms(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Yc(0,arguments,this),this},n.from=function(i,s,o){return Yc(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Yc(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Xc(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new jt(i,s,Jr(this,o),1),this},n.call=function(i,s,o){return Gi(this,jt.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new jt(i,o,Jr(this,l)),this},n.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,Xc(o).immediateRender=_r(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},n.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,Xc(a).immediateRender=_r(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:zt(i),f=this._zTime<0!=i<0&&(this._initted||!u),d,p,y,g,E,v,_,S,A,C,O,x;if(this!==pt&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),d=c,A=this._start,S=this._ts,v=!S,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(O=this._yoyo,E=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(E*100+i,s,o);if(d=zt(c%E),c===l?(g=this._repeat,d=u):(C=zt(c/E),g=~~C,g&&g===C&&(d=u,g--),d>u&&(d=u)),C=mu(this._tTime,E),!a&&this._tTime&&C!==g&&this._tTime-C*E-this._dur<=0&&(C=g),O&&g&1&&(d=u-d,x=1),g!==C&&!this._lock){var T=O&&C&1,P=T===(O&&g&1);if(g<C&&(T=!T),a=T?0:c%u?u:c,this._lock=1,this.render(a||(x?0:zt(g*E)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&Ur(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,P&&(this._lock=2,a=T?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;hb(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=EF(this,zt(a),zt(d)),_&&(c-=d-(d=_._start))),this._tTime=c,this._time=d,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&c&&!s&&!C&&(Ur(this,"onStart"),this._tTime!==c))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(y=p._next,(p._act||d>=p._start)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!v){_=0,y&&(c+=this._zTime=-We);break}}p=y}else{p=this._last;for(var I=i<0?i:d;p;){if(y=p._prev,(p._act||I<=p._end)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(I-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(I-p._start)*p._ts,s,o||wn&&x1(p)),d!==this._time||!this._ts&&!v){_=0,y&&(c+=this._zTime=I?-We:We);break}}p=y}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-We)._zTime=d>=a?1:-1,this._ts))return this._start=A,Hm(this),this.render(i,s,o);this._onUpdate&&!s&&Ur(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(A===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Lo(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(Ur(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(ks(s)||(s=Jr(this,s,i)),!(i instanceof Hh)){if(Ln(i))return i.forEach(function(a){return o.add(a,s)}),this;if(ln(i))return this.addLabel(i,s);if(Pt(i))i=jt.delayedCall(0,i);else return this}return this!==i?Gi(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-oi);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof jt?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return ln(i)?this.removeLabel(i):Pt(i)?this.killTweensOf(i):(i.parent===this&&Wm(this,i),i===this._recent&&(this._recent=this._last),Ia(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=zt(Nr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=Jr(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=jt.delayedCall(0,s||Bh,o);return a.data="isPause",this._hasPause=1,Gi(this,a,Jr(this,i))},n.removePause=function(i){var s=this._first;for(i=Jr(this,i);s;)s._start===i&&s.data==="isPause"&&Lo(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)co!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=ai(i),l=this._first,u=ks(s),c;l;)l instanceof jt?mF(l._targets,a)&&(u?(!co||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=Jr(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,p,y=jt.to(o,Wr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||We,onStart:function(){if(o.pause(),!p){var E=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==E&&gu(y,E,0,1).render(y._time,!0,!0),p=1}c&&c.apply(y,f||[])}},s));return d?y.render(0):y},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Wr({startAt:{time:Jr(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),pS(this,Jr(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),pS(this,Jr(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+We)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Ia(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ia(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=oi,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Gi(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;gu(o,o===pt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(pt._ts&&(HR(pt,Hp(i,pt)),$R=Nr.frame),Nr.frame>=cS){cS+=zr.autoSleep||120;var s=pt._first;if((!s||!s._ts)&&zr.autoSleep&&Nr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Nr.sleep()}}},e}(Hh);Wr(Yn.prototype,{_lock:0,_hasPause:0,_forcing:0});var FF=function(e,n,r,i,s,o,a){var l=new wr(this._pt,e,n,0,1,vb,null,s),u=0,c=0,f,d,p,y,g,E,v,_;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=$h(i)),o&&(_=[r,i],o(_,e,n),r=_[0],i=_[1]),d=r.match(sy)||[];f=sy.exec(i);)y=f[0],g=i.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==d[c++]&&(E=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:g||c===1?g:",",s:E,c:y.charAt(1)==="="?Kl(E,y)-E:parseFloat(y)-E,m:p&&p<4?Math.round:0},u=sy.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(FR.test(i)||v)&&(l.e=0),this._pt=l,l},P1=function(e,n,r,i,s,o,a,l,u,c){Pt(i)&&(i=i(s||0,e,o));var f=e[n],d=r!=="get"?r:Pt(f)?u?e[n.indexOf("set")||!Pt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=Pt(f)?u?$F:yb:I1,y;if(ln(i)&&(~i.indexOf("random(")&&(i=$h(i)),i.charAt(1)==="="&&(y=Kl(d,i)+(Nn(d)||0),(y||y===0)&&(i=y))),!c||d!==i||a0)return!isNaN(d*i)&&i!==""?(y=new wr(this._pt,e,n,+d||0,i-(d||0),typeof f=="boolean"?HF:_b,0,p),u&&(y.fp=u),a&&y.modifier(a,this,e),this._pt=y):(!f&&!(n in e)&&w1(n,i),FF.call(this,e,n,d,i,p,l||zr.stringFilter,u))},UF=function(e,n,r,i,s){if(Pt(e)&&(e=Qc(e,s,n,r,i)),!as(e)||e.style&&e.nodeType||Ln(e)||VR(e))return ln(e)?Qc(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=Qc(e[a],s,n,r,i);return o},pb=function(e,n,r,i,s,o){var a,l,u,c;if(Or[e]&&(a=new Or[e]).init(s,a.rawVars?n[e]:UF(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new wr(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Ml))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},co,a0,A1=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,y=e._dur,g=e._startAt,E=e._targets,v=e.parent,_=v&&v.data==="nested"?v.vars.targets:E,S=e._overwrite==="auto"&&!g1,A=e.timeline,C,O,x,T,P,I,k,D,b,B,ee,ae,q;if(A&&(!d||!s)&&(s="none"),e._ease=Ca(s,du.ease),e._yEase=f?cb(Ca(f===!0?s:f,du.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!A&&!!i.runBackwards,!A||d&&!i.stagger){if(D=E[0]?Aa(E[0]).harness:0,ae=D&&i[D.prop],C=Wp(i,T1),g&&(g._zTime<0&&g.progress(1),n<0&&c&&a&&!p?g.render(-1,!0):g.revert(c&&y?Hd:dF),g._lazy=0),o){if(Lo(e._startAt=jt.set(E,Wr({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!g&&_r(l),startAt:null,delay:0,onUpdate:u&&function(){return Ur(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wn||!a&&!p)&&e._startAt.revert(Hd),a&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&y&&!g){if(n&&(a=!1),x=Wr({overwrite:!1,data:"isFromStart",lazy:a&&!g&&_r(l),immediateRender:a,stagger:0,parent:v},C),ae&&(x[D.prop]=ae),Lo(e._startAt=jt.set(E,x)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wn?e._startAt.revert(Hd):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,We,We);else if(!n)return}for(e._pt=e._ptCache=0,l=y&&_r(l)||l&&!y,O=0;O<E.length;O++){if(P=E[O],k=P._gsap||S1(E)[O]._gsap,e._ptLookup[O]=B={},t0[k.id]&&Ao.length&&$p(),ee=_===E?O:_.indexOf(P),D&&(b=new D).init(P,ae||C,e,ee,_)!==!1&&(e._pt=T=new wr(e._pt,P,b.name,0,1,b.render,b,0,b.priority),b._props.forEach(function(j){B[j]=T}),b.priority&&(I=1)),!D||ae)for(x in C)Or[x]&&(b=pb(x,C,e,ee,P,_))?b.priority&&(I=1):B[x]=T=P1.call(e,P,x,"get",C[x],ee,_,0,i.stringFilter);e._op&&e._op[O]&&e.kill(P,e._op[O]),S&&e._pt&&(co=e,pt.killTweensOf(P,B,e.globalTime(n)),q=!e.parent,co=0),e._pt&&l&&(t0[k.id]=1)}I&&wb(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!q,d&&n<=0&&A.render(oi,!0,!0)},jF=function(e,n,r,i,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,f,d,p;if(!u)for(u=e._ptCache[n]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return a0=1,e.vars[n]="+=0",A1(e,a),a0=0,l?zh(n+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)f=u[p],c=f._pt||f,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=bt(r)+Nn(f.e)),f.b&&(f.b=c.s+Nn(f.b))},zF=function(e,n){var r=e[0]?Aa(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=pu({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},BF=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Ln(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},Qc=function(e,n,r,i,s){return Pt(e)?e.call(n,r,i,s):ln(e)&&~e.indexOf("random(")?$h(e):e},mb=E1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gb={};vr(mb+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return gb[t]=1});var jt=function(t){MR(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Xc(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,y=l.keyframes,g=l.defaults,E=l.scrollTrigger,v=l.yoyoEase,_=i.parent||pt,S=(Ln(r)||VR(r)?ks(r[0]):"length"in i)?[r]:ai(r),A,C,O,x,T,P,I,k;if(a._targets=S.length?S1(S):zh("GSAP target "+r+" not found. https://gsap.com",!zr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,y||d||hd(u)||hd(c)){if(i=a.vars,A=a.timeline=new Yn({data:"nested",defaults:g||{},targets:_&&_.data==="nested"?_.vars.targets:S}),A.kill(),A.parent=A._dp=ms(a),A._start=0,d||hd(u)||hd(c)){if(x=S.length,I=d&&eb(d),as(d))for(T in d)~mb.indexOf(T)&&(k||(k={}),k[T]=d[T]);for(C=0;C<x;C++)O=Wp(i,gb),O.stagger=0,v&&(O.yoyoEase=v),k&&pu(O,k),P=S[C],O.duration=+Qc(u,ms(a),C,P,S),O.delay=(+Qc(c,ms(a),C,P,S)||0)-a._delay,!d&&x===1&&O.delay&&(a._delay=c=O.delay,a._start+=c,O.delay=0),A.to(P,O,I?I(C,P,S):0),A._ease=Ie.none;A.duration()?u=c=0:a.timeline=0}else if(y){Xc(Wr(A.vars.defaults,{ease:"none"})),A._ease=Ca(y.ease||i.ease||"none");var D=0,b,B,ee;if(Ln(y))y.forEach(function(ae){return A.to(S,ae,">")}),A.duration();else{O={};for(T in y)T==="ease"||T==="easeEach"||BF(T,y[T],O,y.easeEach);for(T in O)for(b=O[T].sort(function(ae,q){return ae.t-q.t}),D=0,C=0;C<b.length;C++)B=b[C],ee={ease:B.e,duration:(B.t-(C?b[C-1].t:0))/100*u},ee[T]=B.v,A.to(S,ee,D),D+=ee.duration;A.duration()<u&&A.to({},{duration:u-A.duration()})}}u||a.duration(u=A.duration())}else a.timeline=0;return p===!0&&!g1&&(co=ms(a),pt.killTweensOf(S),co=0),Gi(_,ms(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!y&&a._start===zt(_._time)&&_r(f)&&vF(ms(a))&&_.data!=="nested")&&(a._tTime=-We,a.render(Math.max(0,-c)||0)),E&&YR(ms(a),E),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-We&&!c?l:i<We?0:i,d,p,y,g,E,v,_,S,A;if(!u)TF(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(d=f,S=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(g*100+i,s,o);if(d=zt(f%g),f===l?(y=this._repeat,d=u):(E=zt(f/g),y=~~E,y&&y===E?(d=u,y--):d>u&&(d=u)),v=this._yoyo&&y&1,v&&(A=this._yEase,d=u-d),E=mu(this._tTime,g),d===a&&!o&&this._initted&&y===E)return this._tTime=f,this;y!==E&&(S&&this._yEase&&hb(S,v),this.vars.repeatRefresh&&!v&&!this._lock&&d!==g&&this._initted&&(this._lock=o=1,this.render(zt(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(QR(this,c?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&y!==E))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(A||this._ease)(d/u),this._from&&(this.ratio=_=1-_),!a&&f&&!s&&!E&&(Ur(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(_,p.d),p=p._next;S&&S.render(i<0?i:S._dur*S._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&n0(this,i,s,o),Ur(this,"onUpdate")),this._repeat&&y!==E&&this.vars.onRepeat&&!s&&this.parent&&Ur(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&n0(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Lo(this,1),!s&&!(c&&!a)&&(f||a||v)&&(Ur(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){Wh||Nr.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||A1(this,u),c=this._ease(u/this._dur),jF(this,i,s,o,a,c,u,l)?this.resetTo(i,s,o,a,1):(qm(this,0),this.parent||KR(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Sc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!wn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,co&&co.vars.overwrite!==!0)._first||Sc(this),this.parent&&o!==this.timeline.totalDuration()&&gu(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?ai(i):a,u=this._ptLookup,c=this._pt,f,d,p,y,g,E,v;if((!s||s==="all")&&yF(a,l))return s==="all"&&(this._pt=0),Sc(this);for(f=this._op=this._op||[],s!=="all"&&(ln(s)&&(g={},vr(s,function(_){return g[_]=1}),s=g),s=zF(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){d=u[v],s==="all"?(f[v]=s,y=d,p={}):(p=f[v]=f[v]||{},y=s);for(g in y)E=d&&d[g],E&&((!("kill"in E.d)||E.d.kill(g)===!0)&&Wm(this,E,"_pt"),delete d[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&c&&Sc(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Yc(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Yc(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return pt.killTweensOf(i,s,o)},e}(Hh);Wr(jt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});vr("staggerTo,staggerFrom,staggerFromTo",function(t){jt[t]=function(){var e=new Yn,n=i0.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var I1=function(e,n,r){return e[n]=r},yb=function(e,n,r){return e[n](r)},$F=function(e,n,r,i){return e[n](i.fp,r)},WF=function(e,n,r){return e.setAttribute(n,r)},C1=function(e,n){return Pt(e[n])?yb:y1(e[n])&&e.setAttribute?WF:I1},_b=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},HF=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},vb=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},R1=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},qF=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},GF=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Wm(this,n,"_pt"):n.dep||(r=1),n=i;return!r},KF=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},wb=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},wr=function(){function t(n,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||_b,this.d=l||this,this.set=u||I1,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=KF,this.m=r,this.mt=s,this.tween=i},t}();vr(E1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return T1[t]=1});$r.TweenMax=$r.TweenLite=jt;$r.TimelineLite=$r.TimelineMax=Yn;pt=new Yn({sortChildren:!1,defaults:du,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});zr.stringFilter=ub;var Ra=[],Gd={},XF=[],gS=0,YF=0,cy=function(e){return(Gd[e]||XF).map(function(n){return n()})},l0=function(){var e=Date.now(),n=[];e-gS>2&&(cy("matchMediaInit"),Ra.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=$i.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),cy("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),gS=e,cy("matchMedia"))},Tb=function(){function t(n,r){this.selector=r&&s0(r),this.data=[],this._r=[],this.isReverted=!1,this.id=YF++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Pt(r)&&(s=i,i=r,r=Pt);var o=this,a=function(){var u=ct,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=s0(s)),ct=o,f=i.apply(o,arguments),Pt(f)&&o._r.push(f),ct=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===Pt?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=ct;ct=null,r(this),ct=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof jt&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=s.data.length;l--;)u=s.data[l],u instanceof Yn?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof jt)&&u.revert&&u.revert(r);s._r.forEach(function(c){return c(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Ra.length;o--;)Ra[o].id===this.id&&Ra.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),QF=function(){function t(n){this.contexts=[],this.scope=n,ct&&ct.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){as(r)||(r={matches:r});var o=new Tb(0,s||this.scope),a=o.conditions={},l,u,c;ct&&!o.selector&&(o.selector=ct.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=$i.matchMedia(r[u]),l&&(Ra.indexOf(o)<0&&Ra.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(l0):l.addEventListener("change",l0)));return c&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),qp={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return ob(i)})},timeline:function(e){return new Yn(e)},getTweensOf:function(e,n){return pt.getTweensOf(e,n)},getProperty:function(e,n,r,i){ln(e)&&(e=ai(e)[0]);var s=Aa(e||{}).get,o=r?GR:qR;return r==="native"&&(r=""),e&&(n?o((Or[n]&&Or[n].get||s)(e,n,r,i)):function(a,l,u){return o((Or[a]&&Or[a].get||s)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=ai(e),e.length>1){var i=e.map(function(c){return Er.quickSetter(c,n,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=Or[n],a=Aa(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;Ml._pt=0,f.init(e,r?c+r:c,Ml,0,[e]),f.render(1,f),Ml._pt&&R1(1,Ml)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var i,s=Er.to(e,Wr((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,u,c){return s.resetTo(n,l,u,c)};return o.tween=s,o},isTweening:function(e){return pt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ca(e.ease,du.ease)),hS(du,e||{})},config:function(e){return hS(zr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Or[a]&&!$r[a]&&zh(n+" effect requires "+a+" plugin.")}),oy[n]=function(a,l,u){return r(ai(a),Wr(l||{},s),u)},o&&(Yn.prototype[n]=function(a,l,u){return this.add(oy[n](a,as(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){Ie[e]=Ca(n)},parseEase:function(e,n){return arguments.length?Ca(e,n):Ie},getById:function(e){return pt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Yn(e),i,s;for(r.smoothChildTiming=_r(e.smoothChildTiming),pt.remove(r),r._dp=0,r._time=r._tTime=pt._time,i=pt._first;i;)s=i._next,(n||!(!i._dur&&i instanceof jt&&i.vars.onComplete===i._targets[0]))&&Gi(r,i,i._start-i._delay),i=s;return Gi(pt,r,0),r},context:function(e,n){return e?new Tb(e,n):ct},matchMedia:function(e){return new QF(e)},matchMediaRefresh:function(){return Ra.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||l0()},addEventListener:function(e,n){var r=Gd[e]||(Gd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Gd[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:RF,wrapYoyo:bF,distribute:eb,random:nb,snap:tb,normalize:CF,getUnit:Nn,clamp:xF,splitColor:ab,toArray:ai,selector:s0,mapRange:ib,pipe:AF,unitize:IF,interpolate:kF,shuffle:ZR},install:zR,effects:oy,ticker:Nr,updateRoot:Yn.updateRoot,plugins:Or,globalTimeline:pt,core:{PropTween:wr,globals:BR,Tween:jt,Timeline:Yn,Animation:Hh,getCache:Aa,_removeLinkedListItem:Wm,reverting:function(){return wn},context:function(e){return e&&ct&&(ct.data.push(e),e._ctx=ct),ct},suppressOverwrites:function(e){return g1=e}}};vr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return qp[t]=jt[t]});Nr.add(Yn.updateRoot);Ml=qp.to({},{duration:0});var JF=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ZF=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=JF(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},hy=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(ln(s)&&(l={},vr(s,function(c){return l[c]=1}),s=l),n){l={};for(u in s)l[u]=n(s[u]);s=l}ZF(a,s)}}}},Er=qp.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)wn?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},hy("roundProps",o0),hy("modifiers"),hy("snap",tb))||qp;jt.version=Yn.version=Er.version="3.13.0";jR=1;_1()&&yu();Ie.Power0;Ie.Power1;Ie.Power2;Ie.Power3;Ie.Power4;Ie.Linear;Ie.Quad;Ie.Cubic;Ie.Quart;Ie.Quint;Ie.Strong;Ie.Elastic;Ie.Back;Ie.SteppedEase;Ie.Bounce;Ie.Sine;Ie.Expo;Ie.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yS,ho,Xl,b1,va,_S,k1,e4=function(){return typeof window<"u"},Ds={},ha=180/Math.PI,Yl=Math.PI/180,ul=Math.atan2,vS=1e8,D1=/([A-Z])/g,t4=/(left|right|width|margin|padding|x)/i,n4=/[\s,\(]\S/,Ki={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},u0=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},r4=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},i4=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},s4=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Eb=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Sb=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},o4=function(e,n,r){return e.style[n]=r},a4=function(e,n,r){return e.style.setProperty(n,r)},l4=function(e,n,r){return e._gsap[n]=r},u4=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},c4=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},h4=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},gt="transform",Tr=gt+"Origin",f4=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Ds&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ki[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=ys(i,a)}):this.tfm[e]=o.x?o[e]:ys(i,e),e===Tr&&(this.tfm.zOrigin=o.zOrigin);else return Ki.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(gt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Tr,n,"")),e=gt}(s||n)&&this.props.push(e,n,s[e])},xb=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},d4=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(D1,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=k1(),(!s||!s.isStart)&&!r[gt]&&(xb(r),i.zOrigin&&r[Tr]&&(r[Tr]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Pb=function(e,n){var r={target:e,props:[],revert:d4,save:f4};return e._gsap||Er.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},Ab,c0=function(e,n){var r=ho.createElementNS?ho.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ho.createElement(e);return r&&r.style?r:ho.createElement(e)},li=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(D1,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,_u(n)||n,1)||""},wS="O,Moz,ms,Ms,Webkit".split(","),_u=function(e,n,r){var i=n||va,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(wS[o]+e in s););return o<0?null:(o===3?"ms":o>=0?wS[o]:"")+e},h0=function(){e4()&&window.document&&(yS=window,ho=yS.document,Xl=ho.documentElement,va=c0("div")||{style:{}},c0("div"),gt=_u(gt),Tr=gt+"Origin",va.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ab=!!_u("perspective"),k1=Er.core.reverting,b1=1)},TS=function(e){var n=e.ownerSVGElement,r=c0("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Xl.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Xl.removeChild(r),s},ES=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Ib=function(e){var n,r;try{n=e.getBBox()}catch{n=TS(e),r=1}return n&&(n.width||n.height)||r||(n=TS(e)),n&&!n.width&&!n.x&&!n.y?{x:+ES(e,["x","cx","x1"])||0,y:+ES(e,["y","cy","y1"])||0,width:0,height:0}:n},Cb=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ib(e))},za=function(e,n){if(n){var r=e.style,i;n in Ds&&n!==Tr&&(n=gt),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(D1,"-$1").toLowerCase())):r.removeAttribute(n)}},fo=function(e,n,r,i,s,o){var a=new wr(e._pt,n,r,0,1,o?Sb:Eb);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},SS={deg:1,rad:1,turn:1},p4={grid:1,flex:1},Fo=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=va.style,l=t4.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",y,g,E,v;if(i===o||!s||SS[i]||SS[o])return s;if(o!=="px"&&!d&&(s=t(e,n,r,"px")),v=e.getCTM&&Cb(e),(p||o==="%")&&(Ds[n]||~n.indexOf("adius")))return y=v?e.getBBox()[l?"width":"height"]:e[c],bt(p?s/y*f:s/100*y);if(a[l?"width":"height"]=f+(d?o:i),g=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,v&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===ho||!g.appendChild)&&(g=ho.body),E=g._gsap,E&&p&&E.width&&l&&E.time===Nr.time&&!E.uncache)return bt(s/E.width*f);if(p&&(n==="height"||n==="width")){var _=e.style[n];e.style[n]=f+i,y=e[c],_?e.style[n]=_:za(e,n)}else(p||o==="%")&&!p4[li(g,"display")]&&(a.position=li(e,"position")),g===e&&(a.position="static"),g.appendChild(va),y=va[c],g.removeChild(va),a.position="absolute";return l&&p&&(E=Aa(g),E.time=Nr.time,E.width=g[c]),bt(d?y*s/f:y&&s?f/y*s:0)},ys=function(e,n,r,i){var s;return b1||h0(),n in Ki&&n!=="transform"&&(n=Ki[n],~n.indexOf(",")&&(n=n.split(",")[0])),Ds[n]&&n!=="transform"?(s=Gh(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Kp(li(e,Tr))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Gp[n]&&Gp[n](e,n,r)||li(e,n)||WR(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Fo(e,n,s,r)+r:s},m4=function(e,n,r,i){if(!r||r==="none"){var s=_u(n,e,1),o=s&&li(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=li(e,"borderTopColor"))}var a=new wr(this._pt,e.style,n,0,1,vb),l=0,u=0,c,f,d,p,y,g,E,v,_,S,A,C;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=li(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(g=e.style[n],e.style[n]=i,i=li(e,n)||i,g?e.style[n]=g:za(e,n)),c=[r,i],ub(c),r=c[0],i=c[1],d=r.match(Ol)||[],C=i.match(Ol)||[],C.length){for(;f=Ol.exec(i);)E=f[0],_=i.substring(l,f.index),y?y=(y+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(y=1),E!==(g=d[u++]||"")&&(p=parseFloat(g)||0,A=g.substr((p+"").length),E.charAt(1)==="="&&(E=Kl(p,E)+A),v=parseFloat(E),S=E.substr((v+"").length),l=Ol.lastIndex-S.length,S||(S=S||zr.units[n]||A,l===i.length&&(i+=S,a.e+=S)),A!==S&&(p=Fo(e,n,g,S)||0),a._pt={_next:a._pt,p:_||u===1?_:",",s:p,c:v-p,m:y&&y<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?Sb:Eb;return FR.test(i)&&(a.e=0),this._pt=a,a},xS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},g4=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=xS[r]||r,n[1]=xS[i]||i,n.join(" ")},y4=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],Ds[a]&&(l=1,a=a==="transformOrigin"?Tr:gt),za(r,a);l&&(za(r,gt),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Gh(r,1),o.uncache=1,xb(i)))}},Gp={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new wr(e._pt,n,r,0,0,y4);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},qh=[1,0,0,1,0,0],Rb={},bb=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},PS=function(e){var n=li(e,gt);return bb(n)?qh:n.substr(7).match(LR).map(bt)},O1=function(e,n){var r=e._gsap||Aa(e),i=e.style,s=PS(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?qh:s):(s===qh&&!e.offsetParent&&e!==Xl&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Xl.appendChild(e)),s=PS(e),l?i.display=l:za(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Xl.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},f0=function(e,n,r,i,s,o){var a=e._gsap,l=s||O1(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],y=l[1],g=l[2],E=l[3],v=l[4],_=l[5],S=n.split(" "),A=parseFloat(S[0])||0,C=parseFloat(S[1])||0,O,x,T,P;r?l!==qh&&(x=p*E-y*g)&&(T=A*(E/x)+C*(-g/x)+(g*_-E*v)/x,P=A*(-y/x)+C*(p/x)-(p*_-y*v)/x,A=T,C=P):(O=Ib(e),A=O.x+(~S[0].indexOf("%")?A/100*O.width:A),C=O.y+(~(S[1]||S[0]).indexOf("%")?C/100*O.height:C)),i||i!==!1&&a.smooth?(v=A-u,_=C-c,a.xOffset=f+(v*p+_*g)-v,a.yOffset=d+(v*y+_*E)-_):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=C,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[Tr]="0px 0px",o&&(fo(o,a,"xOrigin",u,A),fo(o,a,"yOrigin",c,C),fo(o,a,"xOffset",f,a.xOffset),fo(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+C)},Gh=function(e,n){var r=e._gsap||new db(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=li(e,Tr)||"0",c,f,d,p,y,g,E,v,_,S,A,C,O,x,T,P,I,k,D,b,B,ee,ae,q,j,W,M,J,de,Ke,pe,be;return c=f=d=g=E=v=_=S=A=0,p=y=1,r.svg=!!(e.getCTM&&Cb(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[gt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[gt]!=="none"?l[gt]:"")),i.scale=i.rotate=i.translate="none"),x=O1(e,r.svg),r.svg&&(r.uncache?(j=e.getBBox(),u=r.xOrigin-j.x+"px "+(r.yOrigin-j.y)+"px",q=""):q=!n&&e.getAttribute("data-svg-origin"),f0(e,q||u,!!q||r.originIsAbsolute,r.smooth!==!1,x)),C=r.xOrigin||0,O=r.yOrigin||0,x!==qh&&(k=x[0],D=x[1],b=x[2],B=x[3],c=ee=x[4],f=ae=x[5],x.length===6?(p=Math.sqrt(k*k+D*D),y=Math.sqrt(B*B+b*b),g=k||D?ul(D,k)*ha:0,_=b||B?ul(b,B)*ha+g:0,_&&(y*=Math.abs(Math.cos(_*Yl))),r.svg&&(c-=C-(C*k+O*b),f-=O-(C*D+O*B))):(be=x[6],Ke=x[7],M=x[8],J=x[9],de=x[10],pe=x[11],c=x[12],f=x[13],d=x[14],T=ul(be,de),E=T*ha,T&&(P=Math.cos(-T),I=Math.sin(-T),q=ee*P+M*I,j=ae*P+J*I,W=be*P+de*I,M=ee*-I+M*P,J=ae*-I+J*P,de=be*-I+de*P,pe=Ke*-I+pe*P,ee=q,ae=j,be=W),T=ul(-b,de),v=T*ha,T&&(P=Math.cos(-T),I=Math.sin(-T),q=k*P-M*I,j=D*P-J*I,W=b*P-de*I,pe=B*I+pe*P,k=q,D=j,b=W),T=ul(D,k),g=T*ha,T&&(P=Math.cos(T),I=Math.sin(T),q=k*P+D*I,j=ee*P+ae*I,D=D*P-k*I,ae=ae*P-ee*I,k=q,ee=j),E&&Math.abs(E)+Math.abs(g)>359.9&&(E=g=0,v=180-v),p=bt(Math.sqrt(k*k+D*D+b*b)),y=bt(Math.sqrt(ae*ae+be*be)),T=ul(ee,ae),_=Math.abs(T)>2e-4?T*ha:0,A=pe?1/(pe<0?-pe:pe):0),r.svg&&(q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!bb(li(e,gt)),q&&e.setAttribute("transform",q))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(p*=-1,_+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,_+=_<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=bt(p),r.scaleY=bt(y),r.rotation=bt(g)+a,r.rotationX=bt(E)+a,r.rotationY=bt(v)+a,r.skewX=_+a,r.skewY=S+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Tr]=Kp(u)),r.xOffset=r.yOffset=0,r.force3D=zr.force3D,r.renderTransform=r.svg?v4:Ab?kb:_4,r.uncache=0,r},Kp=function(e){return(e=e.split(" "))[0]+" "+e[1]},fy=function(e,n,r){var i=Nn(n);return bt(parseFloat(n)+parseFloat(Fo(e,"x",r+"px",i)))+i},_4=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,kb(e,n)},oa="0deg",hc="0px",aa=") ",kb=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,y=r.scaleX,g=r.scaleY,E=r.transformPerspective,v=r.force3D,_=r.target,S=r.zOrigin,A="",C=v==="auto"&&e&&e!==1||v===!0;if(S&&(f!==oa||c!==oa)){var O=parseFloat(c)*Yl,x=Math.sin(O),T=Math.cos(O),P;O=parseFloat(f)*Yl,P=Math.cos(O),o=fy(_,o,x*P*-S),a=fy(_,a,-Math.sin(O)*-S),l=fy(_,l,T*P*-S+S)}E!==hc&&(A+="perspective("+E+aa),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(C||o!==hc||a!==hc||l!==hc)&&(A+=l!==hc||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+aa),u!==oa&&(A+="rotate("+u+aa),c!==oa&&(A+="rotateY("+c+aa),f!==oa&&(A+="rotateX("+f+aa),(d!==oa||p!==oa)&&(A+="skew("+d+", "+p+aa),(y!==1||g!==1)&&(A+="scale("+y+", "+g+aa),_.style[gt]=A||"translate(0, 0)"},v4=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,y=r.xOrigin,g=r.yOrigin,E=r.xOffset,v=r.yOffset,_=r.forceCSS,S=parseFloat(o),A=parseFloat(a),C,O,x,T,P;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=Yl,u*=Yl,C=Math.cos(l)*f,O=Math.sin(l)*f,x=Math.sin(l-u)*-d,T=Math.cos(l-u)*d,u&&(c*=Yl,P=Math.tan(u-c),P=Math.sqrt(1+P*P),x*=P,T*=P,c&&(P=Math.tan(c),P=Math.sqrt(1+P*P),C*=P,O*=P)),C=bt(C),O=bt(O),x=bt(x),T=bt(T)):(C=f,T=d,O=x=0),(S&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(S=Fo(p,"x",o,"px"),A=Fo(p,"y",a,"px")),(y||g||E||v)&&(S=bt(S+y-(y*C+g*x)+E),A=bt(A+g-(y*O+g*T)+v)),(i||s)&&(P=p.getBBox(),S=bt(S+i/100*P.width),A=bt(A+s/100*P.height)),P="matrix("+C+","+O+","+x+","+T+","+S+","+A+")",p.setAttribute("transform",P),_&&(p.style[gt]=P)},w4=function(e,n,r,i,s){var o=360,a=ln(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?ha:1),u=l-i,c=i+u+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*vS)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*vS)%o-~~(u/o)*o)),e._pt=d=new wr(e._pt,n,r,i,u,r4),d.e=c,d.u="deg",e._props.push(r),d},AS=function(e,n){for(var r in n)e[r]=n[r];return e},T4=function(e,n,r){var i=AS({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,p,y;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[gt]=n,a=Gh(r,1),za(r,gt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[gt],o[gt]=n,a=Gh(r,1),o[gt]=u);for(l in Ds)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(p=Nn(u),y=Nn(c),f=p!==y?Fo(r,l,u,y):parseFloat(u),d=parseFloat(c),e._pt=new wr(e._pt,a,l,f,d-f,u0),e._pt.u=y||0,e._props.push(l));AS(a,i)};vr("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Gp[e>1?"border"+t:t]=function(a,l,u,c,f){var d,p;if(arguments.length<4)return d=o.map(function(y){return ys(a,y,u)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},o.forEach(function(y,g){return p[y]=d[g]=d[g]||d[(g-1)/2|0]}),a.init(l,p,f)}});var Db={name:"css",register:h0,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,p,y,g,E,v,_,S,A,C,O,x,T;b1||h0(),this.styles=this.styles||Pb(e),T=this.styles.props,this.tween=r;for(g in n)if(g!=="autoRound"&&(c=n[g],!(Or[g]&&pb(g,n,r,i,e,s)))){if(p=typeof c,y=Gp[g],p==="function"&&(c=c.call(r,i,e,s),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=$h(c)),y)y(this,e,g,c,r)&&(x=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),c+="",Io.lastIndex=0,Io.test(u)||(E=Nn(u),v=Nn(c)),v?E!==v&&(u=Fo(e,g,u,v)+v):E&&(c+=E),this.add(a,"setProperty",u,c,i,s,0,0,g),o.push(g),T.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(u=typeof l[g]=="function"?l[g].call(r,i,e,s):l[g],ln(u)&&~u.indexOf("random(")&&(u=$h(u)),Nn(u+"")||u==="auto"||(u+=zr.units[g]||Nn(ys(e,g))||""),(u+"").charAt(1)==="="&&(u=ys(e,g))):u=ys(e,g),d=parseFloat(u),_=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),_&&(c=c.substr(2)),f=parseFloat(c),g in Ki&&(g==="autoAlpha"&&(d===1&&ys(e,"visibility")==="hidden"&&f&&(d=0),T.push("visibility",0,a.visibility),fo(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Ki[g],~g.indexOf(",")&&(g=g.split(",")[0]))),S=g in Ds,S){if(this.styles.save(g),p==="string"&&c.substring(0,6)==="var(--"&&(c=li(e,c.substring(4,c.indexOf(")"))),f=parseFloat(c)),A||(C=e._gsap,C.renderTransform&&!n.parseTransform||Gh(e,n.parseTransform),O=n.smoothOrigin!==!1&&C.smooth,A=this._pt=new wr(this._pt,a,gt,0,1,C.renderTransform,C,0,-1),A.dep=1),g==="scale")this._pt=new wr(this._pt,C,"scaleY",C.scaleY,(_?Kl(C.scaleY,_+f):f)-C.scaleY||0,u0),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){T.push(Tr,0,a[Tr]),c=g4(c),C.svg?f0(e,c,0,O,0,this):(v=parseFloat(c.split(" ")[2])||0,v!==C.zOrigin&&fo(this,C,"zOrigin",C.zOrigin,v),fo(this,a,g,Kp(u),Kp(c)));continue}else if(g==="svgOrigin"){f0(e,c,1,O,0,this);continue}else if(g in Rb){w4(this,C,g,d,_?Kl(d,_+c):c);continue}else if(g==="smoothOrigin"){fo(this,C,"smooth",C.smooth,c);continue}else if(g==="force3D"){C[g]=c;continue}else if(g==="transform"){T4(this,c,e);continue}}else g in a||(g=_u(g)||g);if(S||(f||f===0)&&(d||d===0)&&!n4.test(c)&&g in a)E=(u+"").substr((d+"").length),f||(f=0),v=Nn(c)||(g in zr.units?zr.units[g]:E),E!==v&&(d=Fo(e,g,u,v)),this._pt=new wr(this._pt,S?C:a,g,d,(_?Kl(d,_+f):f)-d,!S&&(v==="px"||g==="zIndex")&&n.autoRound!==!1?s4:u0),this._pt.u=v||0,E!==v&&v!=="%"&&(this._pt.b=u,this._pt.r=i4);else if(g in a)m4.call(this,e,g,u,_?_+c:c);else if(g in e)this.add(e,g,u||e[g],_?_+c:c,i,s);else if(g!=="parseTransform"){w1(g,c);continue}S||(g in a?T.push(g,0,a[g]):typeof e[g]=="function"?T.push(g,2,e[g]()):T.push(g,1,u||e[g])),o.push(g)}}x&&wb(this)},render:function(e,n){if(n.tween._time||!k1())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:ys,aliases:Ki,getSetter:function(e,n,r){var i=Ki[n];return i&&i.indexOf(",")<0&&(n=i),n in Ds&&n!==Tr&&(e._gsap.x||ys(e,"x"))?r&&_S===r?n==="scale"?u4:l4:(_S=r||{})&&(n==="scale"?c4:h4):e.style&&!y1(e.style[n])?o4:~n.indexOf("-")?a4:C1(e,n)},core:{_removeProperty:za,_getMatrix:O1}};Er.utils.checkPrefix=_u;Er.core.getStyleSaver=Pb;(function(t,e,n,r){var i=vr(t+","+e+","+n,function(s){Ds[s]=1});vr(e,function(s){zr.units[s]="deg",Rb[s]=1}),Ki[i[13]]=t+","+e,vr(r,function(s){var o=s.split(":");Ki[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");vr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){zr.units[t]="px"});Er.registerPlugin(Db);var Jc=Er.registerPlugin(Db)||Er;Jc.core.Tween;function E4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S4(t,e,n){return e&&E4(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _n,Kd,Vr,po,mo,Ql,Ob,fa,Zc,Mb,Ts,Ei,Nb,Vb=function(){return _n||typeof window<"u"&&(_n=window.gsap)&&_n.registerPlugin&&_n},Lb=1,Nl=[],ve=[],Ji=[],eh=Date.now,d0=function(e,n){return n},x4=function(){var e=Zc.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,ve),i.push.apply(i,Ji),ve=r,Ji=i,d0=function(o,a){return n[o](a)}},Co=function(e,n){return~Ji.indexOf(e)&&Ji[Ji.indexOf(e)+1][n]},th=function(e){return!!~Mb.indexOf(e)},Hn=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:i!==!1,capture:!!s})},Bn=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},fd="scrollLeft",dd="scrollTop",p0=function(){return Ts&&Ts.isPressed||ve.cache++},Xp=function(e,n){var r=function i(s){if(s||s===0){Lb&&(Vr.history.scrollRestoration="manual");var o=Ts&&Ts.isPressed;s=i.v=Math.round(s)||(Ts&&Ts.iOS?1:0),e(s),i.cacheID=ve.cache,o&&d0("ss",s)}else(n||ve.cache!==i.cacheID||d0("ref"))&&(i.cacheID=ve.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Qn={s:fd,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Xp(function(t){return arguments.length?Vr.scrollTo(t,Xt.sc()):Vr.pageXOffset||po[fd]||mo[fd]||Ql[fd]||0})},Xt={s:dd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Qn,sc:Xp(function(t){return arguments.length?Vr.scrollTo(Qn.sc(),t):Vr.pageYOffset||po[dd]||mo[dd]||Ql[dd]||0})},cr=function(e,n){return(n&&n._ctx&&n._ctx.selector||_n.utils.toArray)(e)[0]||(typeof e=="string"&&_n.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},P4=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},Uo=function(e,n){var r=n.s,i=n.sc;th(e)&&(e=po.scrollingElement||mo);var s=ve.indexOf(e),o=i===Xt.sc?1:2;!~s&&(s=ve.push(e)-1),ve[s+o]||Hn(e,"scroll",p0);var a=ve[s+o],l=a||(ve[s+o]=Xp(Co(e,r),!0)||(th(e)?i:Xp(function(u){return arguments.length?e[r]=u:e[r]})));return l.target=e,a||(l.smooth=_n.getProperty(e,"scrollBehavior")==="smooth"),l},m0=function(e,n,r){var i=e,s=e,o=eh(),a=o,l=n||50,u=Math.max(500,l*3),c=function(y,g){var E=eh();g||E-o>l?(s=i,i=y,a=o,o=E):r?i+=y:i=s+(y-s)/(E-a)*(o-a)},f=function(){s=i=r?0:i,a=o=0},d=function(y){var g=a,E=s,v=eh();return(y||y===0)&&y!==i&&c(y),o===a||v-a>u?0:(i+(r?E:-E))/((r?v:o)-g)*1e3};return{update:c,reset:f,getVelocity:d}},fc=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},IS=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},Fb=function(){Zc=_n.core.globals().ScrollTrigger,Zc&&Zc.core&&x4()},Ub=function(e){return _n=e||Vb(),!Kd&&_n&&typeof document<"u"&&document.body&&(Vr=window,po=document,mo=po.documentElement,Ql=po.body,Mb=[Vr,po,mo,Ql],_n.utils.clamp,Nb=_n.core.context||function(){},fa="onpointerenter"in Ql?"pointer":"mouse",Ob=Ot.isTouch=Vr.matchMedia&&Vr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Vr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ei=Ot.eventTypes=("ontouchstart"in mo?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in mo?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Lb=0},500),Fb(),Kd=1),Kd};Qn.op=Xt;ve.cache=0;var Ot=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){Kd||Ub(_n)||console.warn("Please gsap.registerPlugin(Observer)"),Zc||Fb();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,u=r.debounce,c=r.preventDefault,f=r.onStop,d=r.onStopDelay,p=r.ignore,y=r.wheelSpeed,g=r.event,E=r.onDragStart,v=r.onDragEnd,_=r.onDrag,S=r.onPress,A=r.onRelease,C=r.onRight,O=r.onLeft,x=r.onUp,T=r.onDown,P=r.onChangeX,I=r.onChangeY,k=r.onChange,D=r.onToggleX,b=r.onToggleY,B=r.onHover,ee=r.onHoverEnd,ae=r.onMove,q=r.ignoreCheck,j=r.isNormalizer,W=r.onGestureStart,M=r.onGestureEnd,J=r.onWheel,de=r.onEnable,Ke=r.onDisable,pe=r.onClick,be=r.scrollSpeed,ke=r.capture,Ce=r.allowClicks,Xe=r.lockAxis,Ye=r.onLockAxis;this.target=a=cr(a)||mo,this.vars=r,p&&(p=_n.utils.toArray(p)),i=i||1e-9,s=s||0,y=y||1,be=be||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(Vr.getComputedStyle(Ql).lineHeight)||22);var Vi,un,cn,Te,it,Sn,hn,U=this,xn=0,He=0,st=r.passive||!c&&r.passive!==!1,je=Uo(a,Qn),pi=Uo(a,Xt),mi=je(),hs=pi(),ot=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Ei[0]==="pointerdown",gi=th(a),at=a.ownerDocument||po,zn=[0,0,0],nr=[0,0,0],yi=0,Bs=function(){return yi=eh()},ft=function(re,De){return(U.event=re)&&p&&P4(re.target,p)||De&&ot&&re.pointerType!=="touch"||q&&q(re,De)},Li=function(){U._vx.reset(),U._vy.reset(),un.pause(),f&&f(U)},Sr=function(){var re=U.deltaX=IS(zn),De=U.deltaY=IS(nr),K=Math.abs(re)>=i,ce=Math.abs(De)>=i;k&&(K||ce)&&k(U,re,De,zn,nr),K&&(C&&U.deltaX>0&&C(U),O&&U.deltaX<0&&O(U),P&&P(U),D&&U.deltaX<0!=xn<0&&D(U),xn=U.deltaX,zn[0]=zn[1]=zn[2]=0),ce&&(T&&U.deltaY>0&&T(U),x&&U.deltaY<0&&x(U),I&&I(U),b&&U.deltaY<0!=He<0&&b(U),He=U.deltaY,nr[0]=nr[1]=nr[2]=0),(Te||cn)&&(ae&&ae(U),cn&&(E&&cn===1&&E(U),_&&_(U),cn=0),Te=!1),Sn&&!(Sn=!1)&&Ye&&Ye(U),it&&(J(U),it=!1),Vi=0},Fi=function(re,De,K){zn[K]+=re,nr[K]+=De,U._vx.update(re),U._vy.update(De),u?Vi||(Vi=requestAnimationFrame(Sr)):Sr()},rr=function(re,De){Xe&&!hn&&(U.axis=hn=Math.abs(re)>Math.abs(De)?"x":"y",Sn=!0),hn!=="y"&&(zn[2]+=re,U._vx.update(re,!0)),hn!=="x"&&(nr[2]+=De,U._vy.update(De,!0)),u?Vi||(Vi=requestAnimationFrame(Sr)):Sr()},_i=function(re){if(!ft(re,1)){re=fc(re,c);var De=re.clientX,K=re.clientY,ce=De-U.x,te=K-U.y,ue=U.isDragging;U.x=De,U.y=K,(ue||(ce||te)&&(Math.abs(U.startX-De)>=s||Math.abs(U.startY-K)>=s))&&(cn=ue?2:1,ue||(U.isDragging=!0),rr(ce,te))}},Gr=U.onPress=function(ie){ft(ie,1)||ie&&ie.button||(U.axis=hn=null,un.pause(),U.isPressed=!0,ie=fc(ie),xn=He=0,U.startX=U.x=ie.clientX,U.startY=U.y=ie.clientY,U._vx.reset(),U._vy.reset(),Hn(j?a:at,Ei[1],_i,st,!0),U.deltaX=U.deltaY=0,S&&S(U))},me=U.onRelease=function(ie){if(!ft(ie,1)){Bn(j?a:at,Ei[1],_i,!0);var re=!isNaN(U.y-U.startY),De=U.isDragging,K=De&&(Math.abs(U.x-U.startX)>3||Math.abs(U.y-U.startY)>3),ce=fc(ie);!K&&re&&(U._vx.reset(),U._vy.reset(),c&&Ce&&_n.delayedCall(.08,function(){if(eh()-yi>300&&!ie.defaultPrevented){if(ie.target.click)ie.target.click();else if(at.createEvent){var te=at.createEvent("MouseEvents");te.initMouseEvent("click",!0,!0,Vr,1,ce.screenX,ce.screenY,ce.clientX,ce.clientY,!1,!1,!1,!1,0,null),ie.target.dispatchEvent(te)}}})),U.isDragging=U.isGesturing=U.isPressed=!1,f&&De&&!j&&un.restart(!0),cn&&Sr(),v&&De&&v(U),A&&A(U,K)}},xr=function(re){return re.touches&&re.touches.length>1&&(U.isGesturing=!0)&&W(re,U.isDragging)},ir=function(){return(U.isGesturing=!1)||M(U)},ze=function(re){if(!ft(re)){var De=je(),K=pi();Fi((De-mi)*be,(K-hs)*be,1),mi=De,hs=K,f&&un.restart(!0)}},sr=function(re){if(!ft(re)){re=fc(re,c),J&&(it=!0);var De=(re.deltaMode===1?l:re.deltaMode===2?Vr.innerHeight:1)*y;Fi(re.deltaX*De,re.deltaY*De,0),f&&!j&&un.restart(!0)}},Pr=function(re){if(!ft(re)){var De=re.clientX,K=re.clientY,ce=De-U.x,te=K-U.y;U.x=De,U.y=K,Te=!0,f&&un.restart(!0),(ce||te)&&rr(ce,te)}},Kr=function(re){U.event=re,B(U)},vi=function(re){U.event=re,ee(U)},ta=function(re){return ft(re)||fc(re,c)&&pe(U)};un=U._dc=_n.delayedCall(d||.25,Li).pause(),U.deltaX=U.deltaY=0,U._vx=m0(0,50,!0),U._vy=m0(0,50,!0),U.scrollX=je,U.scrollY=pi,U.isDragging=U.isGesturing=U.isPressed=!1,Nb(this),U.enable=function(ie){return U.isEnabled||(Hn(gi?at:a,"scroll",p0),o.indexOf("scroll")>=0&&Hn(gi?at:a,"scroll",ze,st,ke),o.indexOf("wheel")>=0&&Hn(a,"wheel",sr,st,ke),(o.indexOf("touch")>=0&&Ob||o.indexOf("pointer")>=0)&&(Hn(a,Ei[0],Gr,st,ke),Hn(at,Ei[2],me),Hn(at,Ei[3],me),Ce&&Hn(a,"click",Bs,!0,!0),pe&&Hn(a,"click",ta),W&&Hn(at,"gesturestart",xr),M&&Hn(at,"gestureend",ir),B&&Hn(a,fa+"enter",Kr),ee&&Hn(a,fa+"leave",vi),ae&&Hn(a,fa+"move",Pr)),U.isEnabled=!0,U.isDragging=U.isGesturing=U.isPressed=Te=cn=!1,U._vx.reset(),U._vy.reset(),mi=je(),hs=pi(),ie&&ie.type&&Gr(ie),de&&de(U)),U},U.disable=function(){U.isEnabled&&(Nl.filter(function(ie){return ie!==U&&th(ie.target)}).length||Bn(gi?at:a,"scroll",p0),U.isPressed&&(U._vx.reset(),U._vy.reset(),Bn(j?a:at,Ei[1],_i,!0)),Bn(gi?at:a,"scroll",ze,ke),Bn(a,"wheel",sr,ke),Bn(a,Ei[0],Gr,ke),Bn(at,Ei[2],me),Bn(at,Ei[3],me),Bn(a,"click",Bs,!0),Bn(a,"click",ta),Bn(at,"gesturestart",xr),Bn(at,"gestureend",ir),Bn(a,fa+"enter",Kr),Bn(a,fa+"leave",vi),Bn(a,fa+"move",Pr),U.isEnabled=U.isPressed=U.isDragging=!1,Ke&&Ke(U))},U.kill=U.revert=function(){U.disable();var ie=Nl.indexOf(U);ie>=0&&Nl.splice(ie,1),Ts===U&&(Ts=0)},Nl.push(U),j&&th(a)&&(Ts=U),U.enable(g)},S4(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();Ot.version="3.13.0";Ot.create=function(t){return new Ot(t)};Ot.register=Ub;Ot.getAll=function(){return Nl.slice()};Ot.getById=function(t){return Nl.filter(function(e){return e.vars.id===t})[0]};Vb()&&_n.registerPlugin(Ot);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Q,pl,_e,qe,Mr,Ve,M1,Yp,Kh,nh,Pc,pd,bn,Gm,g0,Kn,CS,RS,ml,jb,dy,zb,qn,y0,Bb,$b,Qs,_0,N1,Jl,V1,Qp,v0,py,md=1,kn=Date.now,my=kn(),ci=0,Ac=0,bS=function(e,n,r){var i=Dr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},kS=function(e,n){return n&&(!Dr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},A4=function t(){return Ac&&requestAnimationFrame(t)},DS=function(){return Gm=1},OS=function(){return Gm=0},Wi=function(e){return e},Ic=function(e){return Math.round(e*1e5)/1e5||0},Wb=function(){return typeof window<"u"},Hb=function(){return Q||Wb()&&(Q=window.gsap)&&Q.registerPlugin&&Q},Ba=function(e){return!!~M1.indexOf(e)},qb=function(e){return(e==="Height"?V1:_e["inner"+e])||Mr["client"+e]||Ve["client"+e]},Gb=function(e){return Co(e,"getBoundingClientRect")||(Ba(e)?function(){return Zd.width=_e.innerWidth,Zd.height=V1,Zd}:function(){return _s(e)})},I4=function(e,n,r){var i=r.d,s=r.d2,o=r.a;return(o=Co(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?qb(s):e["client"+s])||0}},C4=function(e,n){return!n||~Ji.indexOf(e)?Gb(e):function(){return Zd}},Xi=function(e,n){var r=n.s,i=n.d2,s=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=Co(e,r))?o()-Gb(e)()[s]:Ba(e)?(Mr[r]||Ve[r])-qb(i):e[r]-e["offset"+i])},gd=function(e,n){for(var r=0;r<ml.length;r+=3)(!n||~n.indexOf(ml[r+1]))&&e(ml[r],ml[r+1],ml[r+2])},Dr=function(e){return typeof e=="string"},Vn=function(e){return typeof e=="function"},Cc=function(e){return typeof e=="number"},da=function(e){return typeof e=="object"},dc=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},gy=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},cl=Math.abs,Kb="left",Xb="top",L1="right",F1="bottom",ba="width",ka="height",rh="Right",ih="Left",sh="Top",oh="Bottom",Ft="padding",ni="margin",vu="Width",U1="Height",Gt="px",ri=function(e){return _e.getComputedStyle(e)},R4=function(e){var n=ri(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},MS=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},_s=function(e,n){var r=n&&ri(e)[g0]!=="matrix(1, 0, 0, 1, 0, 0)"&&Q.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Jp=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},Yb=function(e){var n=[],r=e.labels,i=e.duration(),s;for(s in r)n.push(r[s]/i);return n},b4=function(e){return function(n){return Q.utils.snap(Yb(e),n)}},j1=function(e){var n=Q.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return n(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=n(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:n(s<0?i-e:i+e)}},k4=function(e){return function(n,r){return j1(Yb(e))(n,r.direction)}},yd=function(e,n,r,i){return r.split(",").forEach(function(s){return e(n,s,i)})},tn=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:!i,capture:!!s})},en=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},_d=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},NS={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},vd={toggleActions:"play",anticipatePin:0},Zp={top:0,left:0,center:.5,bottom:1,right:1},Xd=function(e,n){if(Dr(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Zp?Zp[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},wd=function(e,n,r,i,s,o,a,l){var u=s.startColor,c=s.endColor,f=s.fontSize,d=s.indent,p=s.fontWeight,y=qe.createElement("div"),g=Ba(r)||Co(r,"pinType")==="fixed",E=e.indexOf("scroller")!==-1,v=g?Ve:r,_=e.indexOf("start")!==-1,S=_?u:c,A="border-color:"+S+";font-size:"+f+";color:"+S+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return A+="position:"+((E||l)&&g?"fixed;":"absolute;"),(E||l||!g)&&(A+=(i===Xt?L1:F1)+":"+(o+parseFloat(d))+"px;"),a&&(A+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),y._isStart=_,y.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),y.style.cssText=A,y.innerText=n||n===0?e+"-"+n:e,v.children[0]?v.insertBefore(y,v.children[0]):v.appendChild(y),y._offset=y["offset"+i.op.d2],Yd(y,0,i,_),y},Yd=function(e,n,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+vu]=1,s["border"+a+vu]=0,s[r.p]=n+"px",Q.set(e,s)},ye=[],w0={},Xh,VS=function(){return kn()-ci>34&&(Xh||(Xh=requestAnimationFrame(Ps)))},hl=function(){(!qn||!qn.isPressed||qn.startX>Ve.clientWidth)&&(ve.cache++,qn?Xh||(Xh=requestAnimationFrame(Ps)):Ps(),ci||Wa("scrollStart"),ci=kn())},yy=function(){$b=_e.innerWidth,Bb=_e.innerHeight},Rc=function(e){ve.cache++,(e===!0||!bn&&!zb&&!qe.fullscreenElement&&!qe.webkitFullscreenElement&&(!y0||$b!==_e.innerWidth||Math.abs(_e.innerHeight-Bb)>_e.innerHeight*.25))&&Yp.restart(!0)},$a={},D4=[],Qb=function t(){return en(we,"scrollEnd",t)||wa(!0)},Wa=function(e){return $a[e]&&$a[e].map(function(n){return n()})||D4},br=[],Jb=function(e){for(var n=0;n<br.length;n+=5)(!e||br[n+4]&&br[n+4].query===e)&&(br[n].style.cssText=br[n+1],br[n].getBBox&&br[n].setAttribute("transform",br[n+2]||""),br[n+3].uncache=1)},z1=function(e,n){var r;for(Kn=0;Kn<ye.length;Kn++)r=ye[Kn],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Qp=!0,n&&Jb(n),n||Wa("revert")},Zb=function(e,n){ve.cache++,(n||!Xn)&&ve.forEach(function(r){return Vn(r)&&r.cacheID++&&(r.rec=0)}),Dr(e)&&(_e.history.scrollRestoration=N1=e)},Xn,Da=0,LS,O4=function(){if(LS!==Da){var e=LS=Da;requestAnimationFrame(function(){return e===Da&&wa(!0)})}},ek=function(){Ve.appendChild(Jl),V1=!qn&&Jl.offsetHeight||_e.innerHeight,Ve.removeChild(Jl)},FS=function(e){return Kh(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},wa=function(e,n){if(Mr=qe.documentElement,Ve=qe.body,M1=[_e,qe,Mr,Ve],ci&&!e&&!Qp){tn(we,"scrollEnd",Qb);return}ek(),Xn=we.isRefreshing=!0,ve.forEach(function(i){return Vn(i)&&++i.cacheID&&(i.rec=i())});var r=Wa("refreshInit");jb&&we.sort(),n||z1(),ve.forEach(function(i){Vn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),ye.slice(0).forEach(function(i){return i.refresh()}),Qp=!1,ye.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),v0=1,FS(!0),ye.forEach(function(i){var s=Xi(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),FS(!1),v0=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),ve.forEach(function(i){Vn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),Zb(N1,1),Yp.pause(),Da++,Xn=2,Ps(2),ye.forEach(function(i){return Vn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Xn=we.isRefreshing=!1,Wa("refresh")},T0=0,Qd=1,ah,Ps=function(e){if(e===2||!Xn&&!Qp){we.isUpdating=!0,ah&&ah.update(0);var n=ye.length,r=kn(),i=r-my>=50,s=n&&ye[0].scroll();if(Qd=T0>s?-1:1,Xn||(T0=s),i&&(ci&&!Gm&&r-ci>200&&(ci=0,Wa("scrollEnd")),Pc=my,my=r),Qd<0){for(Kn=n;Kn-- >0;)ye[Kn]&&ye[Kn].update(0,i);Qd=1}else for(Kn=0;Kn<n;Kn++)ye[Kn]&&ye[Kn].update(0,i);we.isUpdating=!1}Xh=0},E0=[Kb,Xb,F1,L1,ni+oh,ni+rh,ni+sh,ni+ih,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Jd=E0.concat([ba,ka,"boxSizing","max"+vu,"max"+U1,"position",ni,Ft,Ft+sh,Ft+rh,Ft+oh,Ft+ih]),M4=function(e,n,r){Zl(r);var i=e._gsap;if(i.spacerIsNative)Zl(i.spacerState);else if(e._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(e,n),s.removeChild(n))}e._gsap.swappedIn=!1},_y=function(e,n,r,i){if(!e._gsap.swappedIn){for(var s=E0.length,o=n.style,a=e.style,l;s--;)l=E0[s],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[F1]=a[L1]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[ba]=Jp(e,Qn)+Gt,o[ka]=Jp(e,Xt)+Gt,o[Ft]=a[ni]=a[Xb]=a[Kb]="0",Zl(i),a[ba]=a["max"+vu]=r[ba],a[ka]=a["max"+U1]=r[ka],a[Ft]=r[Ft],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},N4=/([A-Z])/g,Zl=function(e){if(e){var n=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||Q.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?n[s]=o:n[s]&&n.removeProperty(s.replace(N4,"-$1").toLowerCase())}},Td=function(e){for(var n=Jd.length,r=e.style,i=[],s=0;s<n;s++)i.push(Jd[s],r[Jd[s]]);return i.t=e,i},V4=function(e,n,r){for(var i=[],s=e.length,o=r?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in n?n[a]:e[o+1]);return i.t=e.t,i},Zd={left:0,top:0},US=function(e,n,r,i,s,o,a,l,u,c,f,d,p,y){Vn(e)&&(e=e(l)),Dr(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?Xd("0"+e.substr(3),r):0));var g=p?p.time():0,E,v,_;if(p&&p.seek(0),isNaN(e)||(e=+e),Cc(e))p&&(e=Q.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),a&&Yd(a,r,i,!0);else{Vn(n)&&(n=n(l));var S=(e||"0").split(" "),A,C,O,x;_=cr(n,l)||Ve,A=_s(_)||{},(!A||!A.left&&!A.top)&&ri(_).display==="none"&&(x=_.style.display,_.style.display="block",A=_s(_),x?_.style.display=x:_.style.removeProperty("display")),C=Xd(S[0],A[i.d]),O=Xd(S[1]||"0",r),e=A[i.p]-u[i.p]-c+C+s-O,a&&Yd(a,O,i,r-O<20||a._isStart&&O>20),r-=r-O}if(y&&(l[y]=e||-.001,e<0&&(e=0)),o){var T=e+r,P=o._isStart;E="scroll"+i.d2,Yd(o,T,i,P&&T>20||!P&&(f?Math.max(Ve[E],Mr[E]):o.parentNode[E])<=T+1),f&&(u=_s(a),f&&(o.style[i.op.p]=u[i.op.p]-i.op.m-o._offset+Gt))}return p&&_&&(E=_s(_),p.seek(d),v=_s(_),p._caScrollDist=E[i.p]-v[i.p],e=e/p._caScrollDist*d),p&&p.seek(g),p?e:Math.round(e)},L4=/(webkit|moz|length|cssText|inset)/i,jS=function(e,n,r,i){if(e.parentNode!==n){var s=e.style,o,a;if(n===Ve){e._stOrig=s.cssText,a=ri(e);for(o in a)!+o&&!L4.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;Q.core.getCache(e).uncache=1,n.appendChild(e)}},tk=function(e,n,r){var i=n,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=Math.round(o),i}},Ed=function(e,n,r){var i={};i[n.p]="+="+r,Q.set(e,i)},zS=function(e,n){var r=Uo(e,n),i="_scroll"+n.p2,s=function o(a,l,u,c,f){var d=o.tween,p=l.onComplete,y={};u=u||r();var g=tk(r,u,function(){d.kill(),o.tween=0});return f=c&&f||0,c=c||a-u,d&&d.kill(),l[i]=a,l.inherit=!1,l.modifiers=y,y[i]=function(){return g(u+c*d.ratio+f*d.ratio*d.ratio)},l.onUpdate=function(){ve.cache++,o.tween&&Ps()},l.onComplete=function(){o.tween=0,p&&p.call(d)},d=o.tween=Q.to(e,l),d};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},tn(e,"wheel",r.wheelHandler),we.isTouch&&tn(e,"touchmove",r.wheelHandler),s},we=function(){function t(n,r){pl||t.register(Q)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),_0(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ac){this.update=this.refresh=this.kill=Wi;return}r=MS(Dr(r)||Cc(r)||r.nodeType?{trigger:r}:r,vd);var s=r,o=s.onUpdate,a=s.toggleClass,l=s.id,u=s.onToggle,c=s.onRefresh,f=s.scrub,d=s.trigger,p=s.pin,y=s.pinSpacing,g=s.invalidateOnRefresh,E=s.anticipatePin,v=s.onScrubComplete,_=s.onSnapComplete,S=s.once,A=s.snap,C=s.pinReparent,O=s.pinSpacer,x=s.containerAnimation,T=s.fastScrollEnd,P=s.preventOverlaps,I=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Qn:Xt,k=!f&&f!==0,D=cr(r.scroller||_e),b=Q.core.getCache(D),B=Ba(D),ee=("pinType"in r?r.pinType:Co(D,"pinType")||B&&"fixed")==="fixed",ae=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],q=k&&r.toggleActions.split(" "),j="markers"in r?r.markers:vd.markers,W=B?0:parseFloat(ri(D)["border"+I.p2+vu])||0,M=this,J=r.onRefreshInit&&function(){return r.onRefreshInit(M)},de=I4(D,B,I),Ke=C4(D,B),pe=0,be=0,ke=0,Ce=Uo(D,I),Xe,Ye,Vi,un,cn,Te,it,Sn,hn,U,xn,He,st,je,pi,mi,hs,ot,gi,at,zn,nr,yi,Bs,ft,Li,Sr,Fi,rr,_i,Gr,me,xr,ir,ze,sr,Pr,Kr,vi;if(M._startClamp=M._endClamp=!1,M._dir=I,E*=45,M.scroller=D,M.scroll=x?x.time.bind(x):Ce,un=Ce(),M.vars=r,i=i||r.animation,"refreshPriority"in r&&(jb=1,r.refreshPriority===-9999&&(ah=M)),b.tweenScroll=b.tweenScroll||{top:zS(D,Xt),left:zS(D,Qn)},M.tweenTo=Xe=b.tweenScroll[I.p],M.scrubDuration=function(K){xr=Cc(K)&&K,xr?me?me.duration(K):me=Q.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:xr,paused:!0,onComplete:function(){return v&&v(M)}}):(me&&me.progress(1).kill(),me=0)},i&&(i.vars.lazy=!1,i._initted&&!M.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),M.animation=i.pause(),i.scrollTrigger=M,M.scrubDuration(f),_i=0,l||(l=i.vars.id)),A&&((!da(A)||A.push)&&(A={snapTo:A}),"scrollBehavior"in Ve.style&&Q.set(B?[Ve,Mr]:D,{scrollBehavior:"auto"}),ve.forEach(function(K){return Vn(K)&&K.target===(B?qe.scrollingElement||Mr:D)&&(K.smooth=!1)}),Vi=Vn(A.snapTo)?A.snapTo:A.snapTo==="labels"?b4(i):A.snapTo==="labelsDirectional"?k4(i):A.directional!==!1?function(K,ce){return j1(A.snapTo)(K,kn()-be<500?0:ce.direction)}:Q.utils.snap(A.snapTo),ir=A.duration||{min:.1,max:2},ir=da(ir)?nh(ir.min,ir.max):nh(ir,ir),ze=Q.delayedCall(A.delay||xr/2||.1,function(){var K=Ce(),ce=kn()-be<500,te=Xe.tween;if((ce||Math.abs(M.getVelocity())<10)&&!te&&!Gm&&pe!==K){var ue=(K-Te)/je,lt=i&&!k?i.totalProgress():ue,Ee=ce?0:(lt-Gr)/(kn()-Pc)*1e3||0,Ne=Q.utils.clamp(-ue,1-ue,cl(Ee/2)*Ee/.185),Wt=ue+(A.inertia===!1?0:Ne),Qe,Ue,Me=A,or=Me.onStart,Je=Me.onInterrupt,Pn=Me.onComplete;if(Qe=Vi(Wt,M),Cc(Qe)||(Qe=Wt),Ue=Math.max(0,Math.round(Te+Qe*je)),K<=it&&K>=Te&&Ue!==K){if(te&&!te._initted&&te.data<=cl(Ue-K))return;A.inertia===!1&&(Ne=Qe-ue),Xe(Ue,{duration:ir(cl(Math.max(cl(Wt-lt),cl(Qe-lt))*.185/Ee/.05||0)),ease:A.ease||"power3",data:cl(Ue-K),onInterrupt:function(){return ze.restart(!0)&&Je&&Je(M)},onComplete:function(){M.update(),pe=Ce(),i&&!k&&(me?me.resetTo("totalProgress",Qe,i._tTime/i._tDur):i.progress(Qe)),_i=Gr=i&&!k?i.totalProgress():M.progress,_&&_(M),Pn&&Pn(M)}},K,Ne*je,Ue-K-Ne*je),or&&or(M,Xe.tween)}}else M.isActive&&pe!==K&&ze.restart(!0)}).pause()),l&&(w0[l]=M),d=M.trigger=cr(d||p!==!0&&p),vi=d&&d._gsap&&d._gsap.stRevert,vi&&(vi=vi(M)),p=p===!0?d:cr(p),Dr(a)&&(a={targets:d,className:a}),p&&(y===!1||y===ni||(y=!y&&p.parentNode&&p.parentNode.style&&ri(p.parentNode).display==="flex"?!1:Ft),M.pin=p,Ye=Q.core.getCache(p),Ye.spacer?pi=Ye.pinState:(O&&(O=cr(O),O&&!O.nodeType&&(O=O.current||O.nativeElement),Ye.spacerIsNative=!!O,O&&(Ye.spacerState=Td(O))),Ye.spacer=ot=O||qe.createElement("div"),ot.classList.add("pin-spacer"),l&&ot.classList.add("pin-spacer-"+l),Ye.pinState=pi=Td(p)),r.force3D!==!1&&Q.set(p,{force3D:!0}),M.spacer=ot=Ye.spacer,rr=ri(p),Bs=rr[y+I.os2],at=Q.getProperty(p),zn=Q.quickSetter(p,I.a,Gt),_y(p,ot,rr),hs=Td(p)),j){He=da(j)?MS(j,NS):NS,U=wd("scroller-start",l,D,I,He,0),xn=wd("scroller-end",l,D,I,He,0,U),gi=U["offset"+I.op.d2];var ta=cr(Co(D,"content")||D);Sn=this.markerStart=wd("start",l,ta,I,He,gi,0,x),hn=this.markerEnd=wd("end",l,ta,I,He,gi,0,x),x&&(Kr=Q.quickSetter([Sn,hn],I.a,Gt)),!ee&&!(Ji.length&&Co(D,"fixedMarkers")===!0)&&(R4(B?Ve:D),Q.set([U,xn],{force3D:!0}),Li=Q.quickSetter(U,I.a,Gt),Fi=Q.quickSetter(xn,I.a,Gt))}if(x){var ie=x.vars.onUpdate,re=x.vars.onUpdateParams;x.eventCallback("onUpdate",function(){M.update(0,0,1),ie&&ie.apply(x,re||[])})}if(M.previous=function(){return ye[ye.indexOf(M)-1]},M.next=function(){return ye[ye.indexOf(M)+1]},M.revert=function(K,ce){if(!ce)return M.kill(!0);var te=K!==!1||!M.enabled,ue=bn;te!==M.isReverted&&(te&&(sr=Math.max(Ce(),M.scroll.rec||0),ke=M.progress,Pr=i&&i.progress()),Sn&&[Sn,hn,U,xn].forEach(function(lt){return lt.style.display=te?"none":"block"}),te&&(bn=M,M.update(te)),p&&(!C||!M.isActive)&&(te?M4(p,ot,pi):_y(p,ot,ri(p),ft)),te||M.update(te),bn=ue,M.isReverted=te)},M.refresh=function(K,ce,te,ue){if(!((bn||!M.enabled)&&!ce)){if(p&&K&&ci){tn(t,"scrollEnd",Qb);return}!Xn&&J&&J(M),bn=M,Xe.tween&&!te&&(Xe.tween.kill(),Xe.tween=0),me&&me.pause(),g&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(wi){return wi.vars.immediateRender&&wi.render(0,!0,!0)})),M.isReverted||M.revert(!0,!0),M._subPinOffset=!1;var lt=de(),Ee=Ke(),Ne=x?x.duration():Xi(D,I),Wt=je<=.01||!je,Qe=0,Ue=ue||0,Me=da(te)?te.end:r.end,or=r.endTrigger||d,Je=da(te)?te.start:r.start||(r.start===0||!d?0:p?"0 0":"0 100%"),Pn=M.pinnedContainer=r.pinnedContainer&&cr(r.pinnedContainer,M),Xr=d&&Math.max(0,ye.indexOf(M))||0,wt=Xr,Mt,Nt,Ar,Yr,Vt,It,Ir,sl,Gu,fs,ar,$s,na;for(j&&da(te)&&($s=Q.getProperty(U,I.p),na=Q.getProperty(xn,I.p));wt-- >0;)It=ye[wt],It.end||It.refresh(0,1)||(bn=M),Ir=It.pin,Ir&&(Ir===d||Ir===p||Ir===Pn)&&!It.isReverted&&(fs||(fs=[]),fs.unshift(It),It.revert(!0,!0)),It!==ye[wt]&&(Xr--,wt--);for(Vn(Je)&&(Je=Je(M)),Je=bS(Je,"start",M),Te=US(Je,d,lt,I,Ce(),Sn,U,M,Ee,W,ee,Ne,x,M._startClamp&&"_startClamp")||(p?-.001:0),Vn(Me)&&(Me=Me(M)),Dr(Me)&&!Me.indexOf("+=")&&(~Me.indexOf(" ")?Me=(Dr(Je)?Je.split(" ")[0]:"")+Me:(Qe=Xd(Me.substr(2),lt),Me=Dr(Je)?Je:(x?Q.utils.mapRange(0,x.duration(),x.scrollTrigger.start,x.scrollTrigger.end,Te):Te)+Qe,or=d)),Me=bS(Me,"end",M),it=Math.max(Te,US(Me||(or?"100% 0":Ne),or,lt,I,Ce()+Qe,hn,xn,M,Ee,W,ee,Ne,x,M._endClamp&&"_endClamp"))||-.001,Qe=0,wt=Xr;wt--;)It=ye[wt],Ir=It.pin,Ir&&It.start-It._pinPush<=Te&&!x&&It.end>0&&(Mt=It.end-(M._startClamp?Math.max(0,It.start):It.start),(Ir===d&&It.start-It._pinPush<Te||Ir===Pn)&&isNaN(Je)&&(Qe+=Mt*(1-It.progress)),Ir===p&&(Ue+=Mt));if(Te+=Qe,it+=Qe,M._startClamp&&(M._startClamp+=Qe),M._endClamp&&!Xn&&(M._endClamp=it||-.001,it=Math.min(it,Xi(D,I))),je=it-Te||(Te-=.01)&&.001,Wt&&(ke=Q.utils.clamp(0,1,Q.utils.normalize(Te,it,sr))),M._pinPush=Ue,Sn&&Qe&&(Mt={},Mt[I.a]="+="+Qe,Pn&&(Mt[I.p]="-="+Ce()),Q.set([Sn,hn],Mt)),p&&!(v0&&M.end>=Xi(D,I)))Mt=ri(p),Yr=I===Xt,Ar=Ce(),nr=parseFloat(at(I.a))+Ue,!Ne&&it>1&&(ar=(B?qe.scrollingElement||Mr:D).style,ar={style:ar,value:ar["overflow"+I.a.toUpperCase()]},B&&ri(Ve)["overflow"+I.a.toUpperCase()]!=="scroll"&&(ar.style["overflow"+I.a.toUpperCase()]="scroll")),_y(p,ot,Mt),hs=Td(p),Nt=_s(p,!0),sl=ee&&Uo(D,Yr?Qn:Xt)(),y?(ft=[y+I.os2,je+Ue+Gt],ft.t=ot,wt=y===Ft?Jp(p,I)+je+Ue:0,wt&&(ft.push(I.d,wt+Gt),ot.style.flexBasis!=="auto"&&(ot.style.flexBasis=wt+Gt)),Zl(ft),Pn&&ye.forEach(function(wi){wi.pin===Pn&&wi.vars.pinSpacing!==!1&&(wi._subPinOffset=!0)}),ee&&Ce(sr)):(wt=Jp(p,I),wt&&ot.style.flexBasis!=="auto"&&(ot.style.flexBasis=wt+Gt)),ee&&(Vt={top:Nt.top+(Yr?Ar-Te:sl)+Gt,left:Nt.left+(Yr?sl:Ar-Te)+Gt,boxSizing:"border-box",position:"fixed"},Vt[ba]=Vt["max"+vu]=Math.ceil(Nt.width)+Gt,Vt[ka]=Vt["max"+U1]=Math.ceil(Nt.height)+Gt,Vt[ni]=Vt[ni+sh]=Vt[ni+rh]=Vt[ni+oh]=Vt[ni+ih]="0",Vt[Ft]=Mt[Ft],Vt[Ft+sh]=Mt[Ft+sh],Vt[Ft+rh]=Mt[Ft+rh],Vt[Ft+oh]=Mt[Ft+oh],Vt[Ft+ih]=Mt[Ft+ih],mi=V4(pi,Vt,C),Xn&&Ce(0)),i?(Gu=i._initted,dy(1),i.render(i.duration(),!0,!0),yi=at(I.a)-nr+je+Ue,Sr=Math.abs(je-yi)>1,ee&&Sr&&mi.splice(mi.length-2,2),i.render(0,!0,!0),Gu||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),dy(0)):yi=je,ar&&(ar.value?ar.style["overflow"+I.a.toUpperCase()]=ar.value:ar.style.removeProperty("overflow-"+I.a));else if(d&&Ce()&&!x)for(Nt=d.parentNode;Nt&&Nt!==Ve;)Nt._pinOffset&&(Te-=Nt._pinOffset,it-=Nt._pinOffset),Nt=Nt.parentNode;fs&&fs.forEach(function(wi){return wi.revert(!1,!0)}),M.start=Te,M.end=it,un=cn=Xn?sr:Ce(),!x&&!Xn&&(un<sr&&Ce(sr),M.scroll.rec=0),M.revert(!1,!0),be=kn(),ze&&(pe=-1,ze.restart(!0)),bn=0,i&&k&&(i._initted||Pr)&&i.progress()!==Pr&&i.progress(Pr||0,!0).render(i.time(),!0,!0),(Wt||ke!==M.progress||x||g||i&&!i._initted)&&(i&&!k&&(i._initted||ke||i.vars.immediateRender!==!1)&&i.totalProgress(x&&Te<-.001&&!ke?Q.utils.normalize(Te,it,0):ke,!0),M.progress=Wt||(un-Te)/je===ke?0:ke),p&&y&&(ot._pinOffset=Math.round(M.progress*yi)),me&&me.invalidate(),isNaN($s)||($s-=Q.getProperty(U,I.p),na-=Q.getProperty(xn,I.p),Ed(U,I,$s),Ed(Sn,I,$s-(ue||0)),Ed(xn,I,na),Ed(hn,I,na-(ue||0))),Wt&&!Xn&&M.update(),c&&!Xn&&!st&&(st=!0,c(M),st=!1)}},M.getVelocity=function(){return(Ce()-cn)/(kn()-Pc)*1e3||0},M.endAnimation=function(){dc(M.callbackAnimation),i&&(me?me.progress(1):i.paused()?k||dc(i,M.direction<0,1):dc(i,i.reversed()))},M.labelToScroll=function(K){return i&&i.labels&&(Te||M.refresh()||Te)+i.labels[K]/i.duration()*je||0},M.getTrailing=function(K){var ce=ye.indexOf(M),te=M.direction>0?ye.slice(0,ce).reverse():ye.slice(ce+1);return(Dr(K)?te.filter(function(ue){return ue.vars.preventOverlaps===K}):te).filter(function(ue){return M.direction>0?ue.end<=Te:ue.start>=it})},M.update=function(K,ce,te){if(!(x&&!te&&!K)){var ue=Xn===!0?sr:M.scroll(),lt=K?0:(ue-Te)/je,Ee=lt<0?0:lt>1?1:lt||0,Ne=M.progress,Wt,Qe,Ue,Me,or,Je,Pn,Xr;if(ce&&(cn=un,un=x?Ce():ue,A&&(Gr=_i,_i=i&&!k?i.totalProgress():Ee)),E&&p&&!bn&&!md&&ci&&(!Ee&&Te<ue+(ue-cn)/(kn()-Pc)*E?Ee=1e-4:Ee===1&&it>ue+(ue-cn)/(kn()-Pc)*E&&(Ee=.9999)),Ee!==Ne&&M.enabled){if(Wt=M.isActive=!!Ee&&Ee<1,Qe=!!Ne&&Ne<1,Je=Wt!==Qe,or=Je||!!Ee!=!!Ne,M.direction=Ee>Ne?1:-1,M.progress=Ee,or&&!bn&&(Ue=Ee&&!Ne?0:Ee===1?1:Ne===1?2:3,k&&(Me=!Je&&q[Ue+1]!=="none"&&q[Ue+1]||q[Ue],Xr=i&&(Me==="complete"||Me==="reset"||Me in i))),P&&(Je||Xr)&&(Xr||f||!i)&&(Vn(P)?P(M):M.getTrailing(P).forEach(function(Ar){return Ar.endAnimation()})),k||(me&&!bn&&!md?(me._dp._time-me._start!==me._time&&me.render(me._dp._time-me._start),me.resetTo?me.resetTo("totalProgress",Ee,i._tTime/i._tDur):(me.vars.totalProgress=Ee,me.invalidate().restart())):i&&i.totalProgress(Ee,!!(bn&&(be||K)))),p){if(K&&y&&(ot.style[y+I.os2]=Bs),!ee)zn(Ic(nr+yi*Ee));else if(or){if(Pn=!K&&Ee>Ne&&it+1>ue&&ue+1>=Xi(D,I),C)if(!K&&(Wt||Pn)){var wt=_s(p,!0),Mt=ue-Te;jS(p,Ve,wt.top+(I===Xt?Mt:0)+Gt,wt.left+(I===Xt?0:Mt)+Gt)}else jS(p,ot);Zl(Wt||Pn?mi:hs),Sr&&Ee<1&&Wt||zn(nr+(Ee===1&&!Pn?yi:0))}}A&&!Xe.tween&&!bn&&!md&&ze.restart(!0),a&&(Je||S&&Ee&&(Ee<1||!py))&&Kh(a.targets).forEach(function(Ar){return Ar.classList[Wt||S?"add":"remove"](a.className)}),o&&!k&&!K&&o(M),or&&!bn?(k&&(Xr&&(Me==="complete"?i.pause().totalProgress(1):Me==="reset"?i.restart(!0).pause():Me==="restart"?i.restart(!0):i[Me]()),o&&o(M)),(Je||!py)&&(u&&Je&&gy(M,u),ae[Ue]&&gy(M,ae[Ue]),S&&(Ee===1?M.kill(!1,1):ae[Ue]=0),Je||(Ue=Ee===1?1:3,ae[Ue]&&gy(M,ae[Ue]))),T&&!Wt&&Math.abs(M.getVelocity())>(Cc(T)?T:2500)&&(dc(M.callbackAnimation),me?me.progress(1):dc(i,Me==="reverse"?1:!Ee,1))):k&&o&&!bn&&o(M)}if(Fi){var Nt=x?ue/x.duration()*(x._caScrollDist||0):ue;Li(Nt+(U._isFlipped?1:0)),Fi(Nt)}Kr&&Kr(-ue/x.duration()*(x._caScrollDist||0))}},M.enable=function(K,ce){M.enabled||(M.enabled=!0,tn(D,"resize",Rc),B||tn(D,"scroll",hl),J&&tn(t,"refreshInit",J),K!==!1&&(M.progress=ke=0,un=cn=pe=Ce()),ce!==!1&&M.refresh())},M.getTween=function(K){return K&&Xe?Xe.tween:me},M.setPositions=function(K,ce,te,ue){if(x){var lt=x.scrollTrigger,Ee=x.duration(),Ne=lt.end-lt.start;K=lt.start+Ne*K/Ee,ce=lt.start+Ne*ce/Ee}M.refresh(!1,!1,{start:kS(K,te&&!!M._startClamp),end:kS(ce,te&&!!M._endClamp)},ue),M.update()},M.adjustPinSpacing=function(K){if(ft&&K){var ce=ft.indexOf(I.d)+1;ft[ce]=parseFloat(ft[ce])+K+Gt,ft[1]=parseFloat(ft[1])+K+Gt,Zl(ft)}},M.disable=function(K,ce){if(M.enabled&&(K!==!1&&M.revert(!0,!0),M.enabled=M.isActive=!1,ce||me&&me.pause(),sr=0,Ye&&(Ye.uncache=1),J&&en(t,"refreshInit",J),ze&&(ze.pause(),Xe.tween&&Xe.tween.kill()&&(Xe.tween=0)),!B)){for(var te=ye.length;te--;)if(ye[te].scroller===D&&ye[te]!==M)return;en(D,"resize",Rc),B||en(D,"scroll",hl)}},M.kill=function(K,ce){M.disable(K,ce),me&&!ce&&me.kill(),l&&delete w0[l];var te=ye.indexOf(M);te>=0&&ye.splice(te,1),te===Kn&&Qd>0&&Kn--,te=0,ye.forEach(function(ue){return ue.scroller===M.scroller&&(te=1)}),te||Xn||(M.scroll.rec=0),i&&(i.scrollTrigger=null,K&&i.revert({kill:!1}),ce||i.kill()),Sn&&[Sn,hn,U,xn].forEach(function(ue){return ue.parentNode&&ue.parentNode.removeChild(ue)}),ah===M&&(ah=0),p&&(Ye&&(Ye.uncache=1),te=0,ye.forEach(function(ue){return ue.pin===p&&te++}),te||(Ye.spacer=0)),r.onKill&&r.onKill(M)},ye.push(M),M.enable(!1,!1),vi&&vi(M),i&&i.add&&!je){var De=M.update;M.update=function(){M.update=De,ve.cache++,Te||it||M.refresh()},Q.delayedCall(.01,M.update),je=.01,Te=it=0}else M.refresh();p&&O4()},t.register=function(r){return pl||(Q=r||Hb(),Wb()&&window.document&&t.enable(),pl=Ac),pl},t.defaults=function(r){if(r)for(var i in r)vd[i]=r[i];return vd},t.disable=function(r,i){Ac=0,ye.forEach(function(o){return o[i?"kill":"disable"](r)}),en(_e,"wheel",hl),en(qe,"scroll",hl),clearInterval(pd),en(qe,"touchcancel",Wi),en(Ve,"touchstart",Wi),yd(en,qe,"pointerdown,touchstart,mousedown",DS),yd(en,qe,"pointerup,touchend,mouseup",OS),Yp.kill(),gd(en);for(var s=0;s<ve.length;s+=3)_d(en,ve[s],ve[s+1]),_d(en,ve[s],ve[s+2])},t.enable=function(){if(_e=window,qe=document,Mr=qe.documentElement,Ve=qe.body,Q&&(Kh=Q.utils.toArray,nh=Q.utils.clamp,_0=Q.core.context||Wi,dy=Q.core.suppressOverwrites||Wi,N1=_e.history.scrollRestoration||"auto",T0=_e.pageYOffset||0,Q.core.globals("ScrollTrigger",t),Ve)){Ac=1,Jl=document.createElement("div"),Jl.style.height="100vh",Jl.style.position="absolute",ek(),A4(),Ot.register(Q),t.isTouch=Ot.isTouch,Qs=Ot.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),y0=Ot.isTouch===1,tn(_e,"wheel",hl),M1=[_e,qe,Mr,Ve],Q.matchMedia?(t.matchMedia=function(u){var c=Q.matchMedia(),f;for(f in u)c.add(f,u[f]);return c},Q.addEventListener("matchMediaInit",function(){return z1()}),Q.addEventListener("matchMediaRevert",function(){return Jb()}),Q.addEventListener("matchMedia",function(){wa(0,1),Wa("matchMedia")}),Q.matchMedia().add("(orientation: portrait)",function(){return yy(),yy})):console.warn("Requires GSAP 3.11.0 or later"),yy(),tn(qe,"scroll",hl);var r=Ve.hasAttribute("style"),i=Ve.style,s=i.borderTopStyle,o=Q.core.Animation.prototype,a,l;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=_s(Ve),Xt.m=Math.round(a.top+Xt.sc())||0,Qn.m=Math.round(a.left+Qn.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(Ve.setAttribute("style",""),Ve.removeAttribute("style")),pd=setInterval(VS,250),Q.delayedCall(.5,function(){return md=0}),tn(qe,"touchcancel",Wi),tn(Ve,"touchstart",Wi),yd(tn,qe,"pointerdown,touchstart,mousedown",DS),yd(tn,qe,"pointerup,touchend,mouseup",OS),g0=Q.utils.checkPrefix("transform"),Jd.push(g0),pl=kn(),Yp=Q.delayedCall(.2,wa).pause(),ml=[qe,"visibilitychange",function(){var u=_e.innerWidth,c=_e.innerHeight;qe.hidden?(CS=u,RS=c):(CS!==u||RS!==c)&&Rc()},qe,"DOMContentLoaded",wa,_e,"load",wa,_e,"resize",Rc],gd(tn),ye.forEach(function(u){return u.enable(0,1)}),l=0;l<ve.length;l+=3)_d(en,ve[l],ve[l+1]),_d(en,ve[l],ve[l+2])}},t.config=function(r){"limitCallbacks"in r&&(py=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(pd)||(pd=i)&&setInterval(VS,i),"ignoreMobileResize"in r&&(y0=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(gd(en)||gd(tn,r.autoRefreshEvents||"none"),zb=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var s=cr(r),o=ve.indexOf(s),a=Ba(s);~o&&ve.splice(o,a?6:2),i&&(a?Ji.unshift(_e,i,Ve,i,Mr,i):Ji.unshift(s,i))},t.clearMatchMedia=function(r){ye.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,s){var o=(Dr(r)?cr(r):r).getBoundingClientRect(),a=o[s?ba:ka]*i||0;return s?o.right-a>0&&o.left+a<_e.innerWidth:o.bottom-a>0&&o.top+a<_e.innerHeight},t.positionInViewport=function(r,i,s){Dr(r)&&(r=cr(r));var o=r.getBoundingClientRect(),a=o[s?ba:ka],l=i==null?a/2:i in Zp?Zp[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+l)/_e.innerWidth:(o.top+l)/_e.innerHeight},t.killAll=function(r){if(ye.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=$a.killAll||[];$a={},i.forEach(function(s){return s()})}},t}();we.version="3.13.0";we.saveStyles=function(t){return t?Kh(t).forEach(function(e){if(e&&e.style){var n=br.indexOf(e);n>=0&&br.splice(n,5),br.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Q.core.getCache(e),_0())}}):br};we.revert=function(t,e){return z1(!t,e)};we.create=function(t,e){return new we(t,e)};we.refresh=function(t){return t?Rc(!0):(pl||we.register())&&wa(!0)};we.update=function(t){return++ve.cache&&Ps(t===!0?2:0)};we.clearScrollMemory=Zb;we.maxScroll=function(t,e){return Xi(t,e?Qn:Xt)};we.getScrollFunc=function(t,e){return Uo(cr(t),e?Qn:Xt)};we.getById=function(t){return w0[t]};we.getAll=function(){return ye.filter(function(t){return t.vars.id!=="ScrollSmoother"})};we.isScrolling=function(){return!!ci};we.snapDirectional=j1;we.addEventListener=function(t,e){var n=$a[t]||($a[t]=[]);~n.indexOf(e)||n.push(e)};we.removeEventListener=function(t,e){var n=$a[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};we.batch=function(t,e){var n=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(u,c){var f=[],d=[],p=Q.delayedCall(i,function(){c(f,d),f=[],d=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),d.push(y),s<=f.length&&p.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&Vn(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Vn(s)&&(s=s(),tn(we,"refresh",function(){return s=e.batchMax()})),Kh(t).forEach(function(l){var u={};for(a in r)u[a]=r[a];u.trigger=l,n.push(we.create(u))}),n};var BS=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},vy=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Ot.isTouch?" pinch-zoom":""):"none",e===Mr&&t(Ve,n)},Sd={auto:1,scroll:1},F4=function(e){var n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Q.core.getCache(s),a=kn(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Ve&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Sd[(l=ri(s)).overflowY]||Sd[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!Ba(s)&&(Sd[(l=ri(s)).overflowY]||Sd[l.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},nk=function(e,n,r,i){return Ot.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&F4,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&tn(qe,Ot.eventTypes[0],WS,!1,!0)},onDisable:function(){return en(qe,Ot.eventTypes[0],WS,!0)}})},U4=/(input|label|select|textarea)/i,$S,WS=function(e){var n=U4.test(e.target.tagName);(n||$S)&&(e._gsapAllow=!0,$S=n)},j4=function(e){da(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,l,u=cr(e.target)||Mr,c=Q.core.globals().ScrollSmoother,f=c&&c.get(),d=Qs&&(e.content&&cr(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=Uo(u,Xt),y=Uo(u,Qn),g=1,E=(Ot.isTouch&&_e.visualViewport?_e.visualViewport.scale*_e.visualViewport.width:_e.outerWidth)/_e.innerWidth,v=0,_=Vn(i)?function(){return i(a)}:function(){return i||2.8},S,A,C=nk(u,e.type,!0,s),O=function(){return A=!1},x=Wi,T=Wi,P=function(){l=Xi(u,Xt),T=nh(Qs?1:0,l),r&&(x=nh(0,Xi(u,Qn))),S=Da},I=function(){d._gsap.y=Ic(parseFloat(d._gsap.y)+p.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},k=function(){if(A){requestAnimationFrame(O);var j=Ic(a.deltaY/2),W=T(p.v-j);if(d&&W!==p.v+p.offset){p.offset=W-p.v;var M=Ic((parseFloat(d&&d._gsap.y)||0)-p.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+M+", 0, 1)",d._gsap.y=M+"px",p.cacheID=ve.cache,Ps()}return!0}p.offset&&I(),A=!0},D,b,B,ee,ae=function(){P(),D.isActive()&&D.vars.scrollY>l&&(p()>l?D.progress(1)&&p(l):D.resetTo("scrollY",l))};return d&&Q.set(d,{y:"+=0"}),e.ignoreCheck=function(q){return Qs&&q.type==="touchmove"&&k()||g>1.05&&q.type!=="touchstart"||a.isGesturing||q.touches&&q.touches.length>1},e.onPress=function(){A=!1;var q=g;g=Ic((_e.visualViewport&&_e.visualViewport.scale||1)/E),D.pause(),q!==g&&vy(u,g>1.01?!0:r?!1:"x"),b=y(),B=p(),P(),S=Da},e.onRelease=e.onGestureStart=function(q,j){if(p.offset&&I(),!j)ee.restart(!0);else{ve.cache++;var W=_(),M,J;r&&(M=y(),J=M+W*.05*-q.velocityX/.227,W*=BS(y,M,J,Xi(u,Qn)),D.vars.scrollX=x(J)),M=p(),J=M+W*.05*-q.velocityY/.227,W*=BS(p,M,J,Xi(u,Xt)),D.vars.scrollY=T(J),D.invalidate().duration(W).play(.01),(Qs&&D.vars.scrollY>=l||M>=l-1)&&Q.to({},{onUpdate:ae,duration:W})}o&&o(q)},e.onWheel=function(){D._ts&&D.pause(),kn()-v>1e3&&(S=0,v=kn())},e.onChange=function(q,j,W,M,J){if(Da!==S&&P(),j&&r&&y(x(M[2]===j?b+(q.startX-q.x):y()+j-M[1])),W){p.offset&&I();var de=J[2]===W,Ke=de?B+q.startY-q.y:p()+W-J[1],pe=T(Ke);de&&Ke!==pe&&(B+=pe-Ke),p(pe)}(W||j)&&Ps()},e.onEnable=function(){vy(u,r?!1:"x"),we.addEventListener("refresh",ae),tn(_e,"resize",ae),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),C.enable()},e.onDisable=function(){vy(u,!0),en(_e,"resize",ae),we.removeEventListener("refresh",ae),C.kill()},e.lockAxis=e.lockAxis!==!1,a=new Ot(e),a.iOS=Qs,Qs&&!p()&&p(1),Qs&&Q.ticker.add(Wi),ee=a._dc,D=Q.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:tk(p,p(),function(){return D.pause()})},onUpdate:Ps,onComplete:ee.vars.onComplete}),a};we.sort=function(t){if(Vn(t))return ye.sort(t);var e=_e.pageYOffset||0;return we.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+_e.innerHeight}),ye.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};we.observe=function(t){return new Ot(t)};we.normalizeScroll=function(t){if(typeof t>"u")return qn;if(t===!0&&qn)return qn.enable();if(t===!1){qn&&qn.kill(),qn=t;return}var e=t instanceof Ot?t:j4(t);return qn&&qn.target===e.target&&qn.kill(),Ba(e.target)&&(qn=e),e};we.core={_getVelocityProp:m0,_inputObserver:nk,_scrollers:ve,_proxies:Ji,bridge:{ss:function(){ci||Wa("scrollStart"),ci=kn()},ref:function(){return bn}}};Hb()&&Q.registerPlugin(we);Jc.registerPlugin(we);const z4=({children:t,scrollContainerRef:e,enableBlur:n=!0,baseOpacity:r=.1,baseRotation:i=3,blurStrength:s=4,className:o=""})=>{const a=V.useRef(null),l=V.useMemo(()=>(typeof t=="string"?t:"").split(/(\s+)/).map((c,f)=>c.match(/^\s+$/)?c:N.jsx("span",{className:"inline-block word",children:c},f)),[t]);return V.useEffect(()=>{const u=a.current;if(!u)return;const c=e&&e.current?e.current:window;Jc.fromTo(u,{transformOrigin:"0% 50%",rotate:i},{ease:"none",rotate:0,scrollTrigger:{trigger:u,scroller:c,start:"top bottom",end:"bottom bottom",scrub:!0}});const f=u.querySelectorAll(".word");return Jc.fromTo(f,{opacity:r,willChange:"opacity"},{ease:"none",opacity:1,stagger:.05,scrollTrigger:{trigger:u,scroller:c,start:"top bottom-=20%",end:"bottom bottom",scrub:!0}}),n&&Jc.fromTo(f,{filter:`blur(${s}px)`},{ease:"none",filter:"blur(0px)",stagger:.05,scrollTrigger:{trigger:u,scroller:c,start:"top bottom-=20%",end:"bottom bottom",scrub:!0}}),()=>{we.getAll().forEach(d=>d.kill())}},[e,n,i,r,s]),N.jsx("div",{ref:a,className:o,children:l})},B4=()=>N.jsx("section",{id:"hero",className:"relative h-[50vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden",children:N.jsxs("div",{className:"relative z-20 px-6",children:[N.jsx(aF,{colors:["#FF2D95","#9B6CFC","#00E5FF","#9B6CFC","#FF2D95"],animationSpeed:5,className:"font-title text-5xl md:text-7xl lg:text-8xl tracking-widest uppercase",children:"Universo 8090"}),N.jsx(z4,{className:"mt-4 text-lg md:text-xl max-w-2xl mx-auto text-gray-300",children:"El viaje sonoro que te transporta a las décadas que cambiaron la música para siempre."})]})}),$4="3825581786",W4="osvaldobarrera86@gmail.com",H4="/assets/placeholder-locutor.jpg",q4="/assets/placeholder-cover.jpg",G4="Soy Osvaldo Barrera y te doy la bienvenida a Universo 8090. Cada noche, de 21 a 22, no solo recordamos: redescubrimos los himnos de los 80 y 90. Prepárate para las historias detrás de cada clásico, datos que te sorprenderán y la música que, lejos de ser un recuerdo, sigue más viva que nunca.",K4=`https://wa.me/${$4}`,X4=`mailto:${W4}`,rk=V.createContext({});function B1(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const $1=typeof window<"u",ik=$1?V.useLayoutEffect:V.useEffect,W1=V.createContext(null);function H1(t,e){t.indexOf(e)===-1&&t.push(e)}function Km(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Os=(t,e,n)=>n>e?e:n<t?t:n;let q1=()=>{};const Ms={},sk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ok(t){return typeof t=="object"&&t!==null}const ak=t=>/^0[^.\s]+$/u.test(t);function G1(t){let e;return()=>(e===void 0&&(e=t()),e)}const hi=t=>t,Y4=(t,e)=>n=>e(t(n)),xf=(...t)=>t.reduce(Y4),wu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class K1{constructor(){this.subscriptions=[]}add(e){return H1(this.subscriptions,e),()=>Km(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=t=>t*1e3,Zi=t=>t/1e3;function lk(t,e){return e?t*(1e3/e):0}const Q4=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},uk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,J4=1e-7,Z4=12;function e5(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=uk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>J4&&++a<Z4);return o}function Pf(t,e,n,r){if(t===e&&n===r)return hi;const i=s=>e5(s,0,1,t,n);return s=>s===0||s===1?s:uk(i(s),e,r)}const ck=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hk=t=>e=>1-t(1-e),fk=Pf(.33,1.53,.69,.99),X1=hk(fk),dk=ck(X1),pk=t=>(t*=2)<1?.5*X1(t):.5*(2-Math.pow(2,-10*(t-1))),Y1=t=>1-Math.sin(Math.acos(t)),mk=hk(Y1),gk=ck(Y1),t5=Pf(.42,0,1,1),n5=Pf(0,0,.58,1),yk=Pf(.42,0,.58,1),_k=t=>Array.isArray(t)&&typeof t[0]!="number";function vk(t,e){return _k(t)?t[Q4(0,t.length,e)]:t}const wk=t=>Array.isArray(t)&&typeof t[0]=="number",r5={linear:hi,easeIn:t5,easeInOut:yk,easeOut:n5,circIn:Y1,circInOut:gk,circOut:mk,backIn:X1,backInOut:dk,backOut:fk,anticipate:pk},i5=t=>typeof t=="string",HS=t=>{if(wk(t)){q1(t.length===4);const[e,n,r,i]=t;return Pf(e,n,r,i)}else if(i5(t))return r5[t];return t},xd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function s5(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,f=!1,d=!1)=>{const y=d&&i?n:r;return f&&o.add(c),y.has(c)||y.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const o5=40;function Tk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xd.reduce((S,A)=>(S[A]=s5(s),S),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:d,render:p,postRender:y}=o,g=()=>{const S=Ms.useManualTiming?i.timestamp:performance.now();n=!1,Ms.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,o5),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),p.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},E=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:xd.reduce((S,A)=>{const C=o[A];return S[A]=(O,x=!1,T=!1)=>(n||E(),C.schedule(O,x,T)),S},{}),cancel:S=>{for(let A=0;A<xd.length;A++)o[xd[A]].cancel(S)},state:i,steps:o}}const{schedule:rt,cancel:Ns,state:mn,steps:wy}=Tk(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0);let ep;function a5(){ep=void 0}const pr={now:()=>(ep===void 0&&pr.set(mn.isProcessing||Ms.useManualTiming?mn.timestamp:performance.now()),ep),set:t=>{ep=t,queueMicrotask(a5)}},Ek=t=>e=>typeof e=="string"&&e.startsWith(t),Q1=Ek("--"),l5=Ek("var(--"),J1=t=>l5(t)?u5.test(t.split("/*")[0].trim()):!1,u5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yh={...Vu,transform:t=>Os(0,1,t)},Pd={...Vu,default:1},lh=t=>Math.round(t*1e5)/1e5,Z1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c5(t){return t==null}const h5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ew=(t,e)=>n=>!!(typeof n=="string"&&h5.test(n)&&n.startsWith(t)||e&&!c5(n)&&Object.prototype.hasOwnProperty.call(n,e)),Sk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Z1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},f5=t=>Os(0,255,t),Ty={...Vu,transform:t=>Math.round(f5(t))},Ta={test:ew("rgb","red"),parse:Sk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ty.transform(t)+", "+Ty.transform(e)+", "+Ty.transform(n)+", "+lh(Yh.transform(r))+")"};function d5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const S0={test:ew("#"),parse:d5,transform:Ta.transform},Af=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Js=Af("deg"),es=Af("%"),le=Af("px"),p5=Af("vh"),m5=Af("vw"),qS={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},Vl={test:ew("hsl","hue"),parse:Sk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+es.transform(lh(e))+", "+es.transform(lh(n))+", "+lh(Yh.transform(r))+")"},Ut={test:t=>Ta.test(t)||S0.test(t)||Vl.test(t),parse:t=>Ta.test(t)?Ta.parse(t):Vl.test(t)?Vl.parse(t):S0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ta.transform(t):Vl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},g5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Z1))==null?void 0:e.length)||0)+(((n=t.match(g5))==null?void 0:n.length)||0)>0}const xk="number",Pk="color",_5="var",v5="var(",GS="${}",w5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(w5,l=>(Ut.test(l)?(r.color.push(s),i.push(Pk),n.push(Ut.parse(l))):l.startsWith(v5)?(r.var.push(s),i.push(_5),n.push(l)):(r.number.push(s),i.push(xk),n.push(parseFloat(l))),++s,GS)).split(GS);return{values:n,split:a,indexes:r,types:i}}function Ak(t){return Qh(t).values}function Ik(t){const{split:e,types:n}=Qh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===xk?s+=lh(i[o]):a===Pk?s+=Ut.transform(i[o]):s+=i[o]}return s}}const T5=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function E5(t){const e=Ak(t);return Ik(t)(e.map(T5))}const jo={test:y5,parse:Ak,createTransformer:Ik,getAnimatableNone:E5};function Ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function S5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Ey(l,a,t+1/3),s=Ey(l,a,t),o=Ey(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,Sy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},x5=[S0,Ta,Vl],P5=t=>x5.find(e=>e.test(t));function KS(t){const e=P5(t);if(!e)return!1;let n=e.parse(t);return e===Vl&&(n=S5(n)),n}const XS=(t,e)=>{const n=KS(t),r=KS(e);if(!n||!r)return em(t,e);const i={...n};return s=>(i.red=Sy(n.red,r.red,s),i.green=Sy(n.green,r.green,s),i.blue=Sy(n.blue,r.blue,s),i.alpha=ht(n.alpha,r.alpha,s),Ta.transform(i))},x0=new Set(["none","hidden"]);function A5(t,e){return x0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function I5(t,e){return n=>ht(t,e,n)}function tw(t){return typeof t=="number"?I5:typeof t=="string"?J1(t)?em:Ut.test(t)?XS:b5:Array.isArray(t)?Ck:typeof t=="object"?Ut.test(t)?XS:C5:em}function Ck(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>tw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function C5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function R5(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const b5=(t,e)=>{const n=jo.createTransformer(e),r=Qh(t),i=Qh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?x0.has(t)&&!i.values.length||x0.has(e)&&!r.values.length?A5(t,e):xf(Ck(R5(r,i),i.values),n):em(t,e)};function Rk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):tw(t)(t,e)}const k5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>Ns(e),now:()=>mn.isProcessing?mn.timestamp:pr.now()}},bk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tm=2e4;function nw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tm;)e+=n,r=t.next(e);return e>=tm?1/0:e}function kk(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(nw(r),tm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Zi(i)}}const D5=5;function Dk(t,e,n){const r=Math.max(e-D5,0);return lk(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xy=.001;function O5({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let i,s,o=1-e;o=Os(St.minDamping,St.maxDamping,o),t=Os(St.minDuration,St.maxDuration,Zi(t)),o<1?(i=u=>{const c=u*o,f=c*t,d=c-n,p=P0(u,o),y=Math.exp(-f);return xy-d/p*y},s=u=>{const f=u*o*t,d=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),g=P0(Math.pow(u,2),o);return(-i(u)+xy>0?-1:1)*((d-p)*y)/g}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-xy+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=N5(i,s,a);if(t=Oi(t),isNaN(l))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const M5=12;function N5(t,e,n){let r=n;for(let i=1;i<M5;i++)r=r-t(r)/e(r);return r}function P0(t,e){return t*Math.sqrt(1-e*e)}const V5=["duration","bounce"],L5=["stiffness","damping","mass"];function YS(t,e){return e.some(n=>t[n]!==void 0)}function F5(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!YS(t,L5)&&YS(t,V5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:St.mass,stiffness:i,damping:s}}else{const n=O5(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Jh(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=F5({...n,velocity:-Zi(n.velocity||0)}),y=d||0,g=u/(2*Math.sqrt(l*c)),E=o-s,v=Zi(Math.sqrt(l/c)),_=Math.abs(E)<5;r||(r=_?St.restSpeed.granular:St.restSpeed.default),i||(i=_?St.restDelta.granular:St.restDelta.default);let S;if(g<1){const C=P0(v,g);S=O=>{const x=Math.exp(-g*v*O);return o-x*((y+g*v*E)/C*Math.sin(C*O)+E*Math.cos(C*O))}}else if(g===1)S=C=>o-Math.exp(-v*C)*(E+(y+v*E)*C);else{const C=v*Math.sqrt(g*g-1);S=O=>{const x=Math.exp(-g*v*O),T=Math.min(C*O,300);return o-x*((y+g*v*E)*Math.sinh(T)+C*E*Math.cosh(T))/C}}const A={calculatedDuration:p&&f||null,next:C=>{const O=S(C);if(p)a.done=C>=f;else{let x=C===0?y:0;g<1&&(x=C===0?Oi(y):Dk(S,C,O));const T=Math.abs(x)<=r,P=Math.abs(o-O)<=i;a.done=T&&P}return a.value=a.done?o:O,a},toString:()=>{const C=Math.min(nw(A),tm),O=bk(x=>A.next(C*x).value,C,30);return C+"ms "+O},toTransition:()=>{}};return A}Jh.applyToOptions=t=>{const e=kk(t,100,Jh);return t.ease=e.ease,t.duration=Oi(e.duration),t.type="keyframes",t};function A0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=n*e;const E=f+g,v=o===void 0?E:o(E);v!==E&&(g=v-f);const _=T=>-g*Math.exp(-T/r),S=T=>v+_(T),A=T=>{const P=_(T),I=S(T);d.done=Math.abs(P)<=u,d.value=d.done?v:I};let C,O;const x=T=>{p(d.value)&&(C=T,O=Jh({keyframes:[d.value,y(d.value)],velocity:Dk(S,T,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return x(0),{calculatedDuration:null,next:T=>{let P=!1;return!O&&C===void 0&&(P=!0,A(T),x(T)),C!==void 0&&T>=C?O.next(T-C):(!P&&A(T),d)}}}function U5(t,e,n){const r=[],i=n||Ms.mix||Rk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hi:e;a=xf(l,a)}r.push(a)}return r}function Ok(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(q1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=U5(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=wu(t[f],t[f+1],c);return a[f](d)};return n?c=>u(Os(t[0],t[s-1],c)):u}function Mk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wu(0,e,r);t.push(ht(n,1,i))}}function Nk(t){const e=[0];return Mk(e,t.length-1),e}function j5(t,e){return t.map(n=>n*e)}function z5(t,e){return t.map(()=>e||yk).splice(0,t.length-1)}function uh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_k(r)?r.map(HS):HS(r),s={done:!1,value:e[0]},o=j5(n&&n.length===e.length?n:Nk(e),t),a=Ok(o,e,{ease:Array.isArray(i)?i:z5(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const B5=t=>t!==null;function rw(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(B5),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const $5={decay:A0,inertia:A0,tween:uh,keyframes:uh,spring:Jh};function Vk(t){typeof t.type=="string"&&(t.type=$5[t.type])}class iw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const W5=t=>t/100;class sw extends iw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==pr.now()&&this.tick(pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Vk(e);const{type:n=uh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||uh;l!==uh&&typeof a[0]!="number"&&(this.mixKeyframes=xf(W5,Rk(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=nw(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:d,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,A=r;if(f){const T=Math.min(this.currentTime,i)/a;let P=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(d==="reverse"?(I=1-I,p&&(I-=p/a)):d==="mirror"&&(A=o)),S=Os(0,1,I)*a}const C=_?{done:!1,value:c[0]}:A.next(S);s&&(C.value=s(C.value));let{done:O}=C;!_&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return x&&y!==A0&&(C.value=rw(c,this.options,E,this.speed)),g&&g(C.value),x&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Zi(this.calculatedDuration)}get time(){return Zi(this.currentTime)}set time(e){var n;e=Oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=k5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function H5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ea=t=>t*180/Math.PI,I0=t=>{const e=Ea(Math.atan2(t[1],t[0]));return C0(e)},q5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:I0,rotateZ:I0,skewX:t=>Ea(Math.atan(t[1])),skewY:t=>Ea(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},C0=t=>(t=t%360,t<0&&(t+=360),t),QS=I0,JS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JS,scaleY:ZS,scale:t=>(JS(t)+ZS(t))/2,rotateX:t=>C0(Ea(Math.atan2(t[6],t[5]))),rotateY:t=>C0(Ea(Math.atan2(-t[2],t[0]))),rotateZ:QS,rotate:QS,skewX:t=>Ea(Math.atan(t[4])),skewY:t=>Ea(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function R0(t){return t.includes("scale")?1:0}function b0(t,e){if(!t||t==="none")return R0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=G5,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=q5,i=a}if(!i)return R0(e);const s=r[e],o=i[1].split(",").map(X5);return typeof s=="function"?s(o):o[s]}const K5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return b0(n,e)};function X5(t){return parseFloat(t.trim())}const Lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fu=new Set(Lu),ex=t=>t===Vu||t===le,Y5=new Set(["x","y","z"]),Q5=Lu.filter(t=>!Y5.has(t));function J5(t){const e=[];return Q5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>b0(e,"x"),y:(t,{transform:e})=>b0(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const Ma=new Set;let k0=!1,D0=!1,O0=!1;function Lk(){if(D0){const t=Array.from(Ma).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=J5(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}D0=!1,k0=!1,Ma.forEach(t=>t.complete(O0)),Ma.clear()}function Fk(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(D0=!0)})}function Z5(){O0=!0,Fk(),Lk(),O0=!1}class ow{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),k0||(k0=!0,rt.read(Fk),rt.resolveKeyframes(Lk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}H5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eU=t=>t.startsWith("--");function tU(t,e,n){eU(e)?t.style.setProperty(e,n):t.style[e]=n}const nU=G1(()=>window.ScrollTimeline!==void 0),rU={};function iU(t,e){const n=G1(t);return()=>rU[e]??n()}const Uk=iU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bc([0,.65,.55,1]),circOut:bc([.55,0,1,.45]),backIn:bc([.31,.01,.66,-.59]),backOut:bc([.33,1.53,.69,.99])};function jk(t,e){if(t)return typeof t=="function"?Uk()?bk(t,e):"ease-out":wk(t)?bc(t):Array.isArray(t)?t.map(n=>jk(n,e)||tx.easeOut):tx[t]}function sU(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const f=jk(a,i);Array.isArray(f)&&(c.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function aw(t){return typeof t=="function"&&"applyToOptions"in t}function oU({type:t,...e}){return aw(t)&&Uk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aU extends iw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,q1(typeof e.type!="string");const u=oU(e);this.animation=sU(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=rw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):tU(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zi(Number(e))}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&nU()?(this.animation.timeline=e,hi):n(this)}}const zk={anticipate:pk,backInOut:dk,circInOut:gk};function lU(t){return t in zk}function uU(t){typeof t.ease=="string"&&lU(t.ease)&&(t.ease=zk[t.ease])}const nx=10;class cU extends aU{constructor(e){uU(e),Vk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new sw({...o,autoplay:!1}),l=Oi(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-nx).value,a.sample(l).value,nx),a.stop()}}const rx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jo.test(t)||t==="0")&&!t.startsWith("url("));function hU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=rx(i,e),a=rx(s,e);return!o||!a?!1:hU(t)||(n==="spring"||aw(n))&&r}function M0(t){t.duration=0,t.type}const dU=new Set(["opacity","clipPath","filter","transform"]),pU=G1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mU(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return pU()&&n&&dU.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const gU=40;class yU extends iw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var y;super(),this.stop=()=>{var g,E;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=pr.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...f},p=(c==null?void 0:c.KeyframeResolver)||ow;this.keyframeResolver=new p(a,(g,E,v)=>this.onKeyframesResolved(g,E,d,!v),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=pr.now(),fU(e,s,o,a)||((Ms.instantAnimations||!l)&&(c==null||c(rw(e,r,n))),e[0]=e[e.length-1],M0(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&mU(d)?new cU({...d,element:d.motionValue.owner.current}):new sw(d);p.finished.then(()=>this.notifyFinished()).catch(hi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Z5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class _U{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vU extends _U{then(e,n){return this.finished.finally(e).then(()=>{})}}const wU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TU(t){const e=wU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Bk(t,e,n=1){const[r,i]=TU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sk(o)?parseFloat(o):o}return J1(i)?Bk(i,e,n+1):i}function lw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $k=new Set(["width","height","top","left","right","bottom",...Lu]),EU={test:t=>t==="auto",parse:t=>t},Wk=t=>e=>e.test(t),Hk=[Vu,le,es,Js,m5,p5,EU],ix=t=>Hk.find(Wk(t));function SU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ak(t):!0}const xU=new Set(["brightness","contrast","saturate","opacity"]);function PU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Z1)||[];if(!r)return t;const i=n.replace(r,"");let s=xU.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const AU=/\b([a-z-]*)\(.*?\)/gu,N0={...jo,getAnimatableNone:t=>{const e=t.match(AU);return e?e.map(PU).join(" "):t}},sx={...Vu,transform:Math.round},IU={rotate:Js,rotateX:Js,rotateY:Js,rotateZ:Js,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:Js,skewX:Js,skewY:Js,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Yh,originX:qS,originY:qS,originZ:le},uw={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...IU,zIndex:sx,fillOpacity:Yh,strokeOpacity:Yh,numOctaves:sx},CU={...uw,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:N0,WebkitFilter:N0},qk=t=>CU[t];function Gk(t,e){let n=qk(t);return n!==N0&&(n=jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RU=new Set(["auto","none","0"]);function bU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!RU.has(s)&&Qh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Gk(n,i)}class kU extends ow{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),J1(u))){const c=Bk(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$k.has(r)||e.length!==2)return;const[i,s]=e,o=ix(i),a=ix(s);if(o!==a)if(ex(o)&&ex(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Oa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||SU(e[i]))&&r.push(i);r.length&&bU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Kk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Xk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function DU(t){return ok(t)&&"offsetHeight"in t}const ox=30,OU=t=>!isNaN(parseFloat(t)),ch={current:void 0};class MU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=pr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new K1);const r=this.events[e].add(n);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ch.current&&ch.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ox)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ox);return lk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ha(t,e){return new MU(t,e)}const{schedule:cw}=Tk(queueMicrotask,!1),Si={x:!1,y:!1};function Yk(){return Si.x||Si.y}function NU(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function Qk(t,e){const n=Kk(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ax(t){return!(t.pointerType==="touch"||Yk())}function VU(t,e,n={}){const[r,i,s]=Qk(t,n),o=a=>{if(!ax(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=f=>{ax(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Jk=(t,e)=>e?t===e?!0:Jk(t,e.parentElement):!1,hw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,LU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FU(t){return LU.has(t.tagName)||t.tabIndex!==-1}const tp=new WeakSet;function lx(t){return e=>{e.key==="Enter"&&t(e)}}function Py(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=lx(()=>{if(tp.has(n))return;Py(n,"down");const i=lx(()=>{Py(n,"up")}),s=()=>Py(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ux(t){return hw(t)&&!Yk()}function jU(t,e,n={}){const[r,i,s]=Qk(t,n),o=a=>{const l=a.currentTarget;if(!ux(a))return;tp.add(l);const u=e(l,a),c=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),tp.has(l)&&tp.delete(l),ux(p)&&typeof u=="function"&&u(p,{success:y})},f=p=>{c(p,l===window||l===document||n.useGlobalTarget||Jk(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),DU(a)&&(a.addEventListener("focus",u=>UU(u,i)),!FU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function fw(t){return ok(t)&&"ownerSVGElement"in t}function Zk(t){return fw(t)&&t.tagName==="svg"}function zU(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=Ok(i,s,o);return e?a(r):a}const sn=t=>!!(t&&t.getVelocity),BU=[...Hk,Ut,jo],$U=t=>BU.find(Wk(t)),dw=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function WU(t=!0){const e=V.useContext(W1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=V.useId();V.useEffect(()=>{if(t)return i(s)},[t]);const o=V.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const e2=V.createContext({strict:!1}),cx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tu={};for(const t in cx)Tu[t]={isEnabled:e=>cx[t].some(n=>!!e[n])};function HU(t){for(const e in t)Tu[e]={...Tu[e],...t[e]}}const qU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qU.has(t)}let t2=t=>!nm(t);function GU(t){typeof t=="function"&&(t2=e=>e.startsWith("on")?!nm(e):t(e))}try{GU(require("@emotion/is-prop-valid").default)}catch{}function KU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(t2(i)||n===!0&&nm(i)||!e&&!nm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Xm=V.createContext({});function Ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zh(t){return typeof t=="string"||Array.isArray(t)}const pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mw=["initial",...pw];function Qm(t){return Ym(t.animate)||mw.some(e=>Zh(t[e]))}function n2(t){return!!(Qm(t)||t.variants)}function XU(t,e){if(Qm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zh(n)?n:void 0,animate:Zh(r)?r:void 0}}return t.inherit!==!1?e:{}}function YU(t){const{initial:e,animate:n}=XU(t,V.useContext(Xm));return V.useMemo(()=>({initial:e,animate:n}),[hx(e),hx(n)])}function hx(t){return Array.isArray(t)?t.join(" "):t}const ef={};function QU(t){for(const e in t)ef[e]=t[e],Q1(e)&&(ef[e].isCSSVariable=!0)}function r2(t,{layout:e,layoutId:n}){return Fu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}const JU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZU=Lu.length;function e6(t,e,n){let r="",i=!0;for(let s=0;s<ZU;s++){const o=Lu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Xk(a,uw[o]);if(!l){i=!1;const c=JU[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function gw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Fu.has(l)){o=!0;continue}else if(Q1(l)){i[l]=u;continue}else{const c=Xk(u,uw[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=e6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i2(t,e,n){for(const r in e)!sn(e[r])&&!r2(r,n)&&(t[r]=e[r])}function t6({transformTemplate:t},e){return V.useMemo(()=>{const n=yw();return gw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function n6(t,e){const n=t.style||{},r={};return i2(r,n,t),Object.assign(r,t6(t,e)),r}function r6(t,e){const n={},r=n6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const i6={offset:"stroke-dashoffset",array:"stroke-dasharray"},s6={offset:"strokeDashoffset",array:"strokeDasharray"};function o6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?i6:s6;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function s2(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(gw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&o6(f,i,s,o,!1)}const o2=()=>({...yw(),attrs:{}}),a2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a6(t,e,n,r){const i=V.useMemo(()=>{const s=o2();return s2(s,e,a2(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};i2(s,t.style,t),i.style={...s,...i.style}}return i}const l6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _w(t){return typeof t!="string"||t.includes("-")?!1:!!(l6.indexOf(t)>-1||/[A-Z]/u.test(t))}function u6(t,e,n,{latestValues:r},i,s=!1){const a=(_w(t)?a6:r6)(e,r,i,t),l=KU(e,typeof t=="string",s),u=t!==V.Fragment?{...l,...a,ref:n}:{},{children:c}=e,f=V.useMemo(()=>sn(c)?c.get():c,[c]);return V.createElement(t,{...u,children:f})}function fx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vw(t,e,n,r){if(typeof e=="function"){const[i,s]=fx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=fx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function np(t){return sn(t)?t.get():t}function c6({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:h6(n,r,i,t),renderState:e()}}function h6(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=np(s[d]);let{initial:o,animate:a}=t;const l=Qm(t),u=n2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Ym(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const y=vw(t,d[p]);if(y){const{transitionEnd:g,transition:E,...v}=y;for(const _ in v){let S=v[_];if(Array.isArray(S)){const A=c?S.length-1:0;S=S[A]}S!==null&&(i[_]=S)}for(const _ in g)i[_]=g[_]}}}return i}const l2=t=>(e,n)=>{const r=V.useContext(Xm),i=V.useContext(W1),s=()=>c6(t,e,r,i);return n?s():B1(s)};function ww(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(sn(r[o])||e.style&&sn(e.style[o])||r2(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const f6=l2({scrapeMotionValuesFromProps:ww,createRenderState:yw});function u2(t,e,n){const r=ww(t,e,n);for(const i in t)if(sn(t[i])||sn(e[i])){const s=Lu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const d6=l2({scrapeMotionValuesFromProps:u2,createRenderState:o2}),p6=Symbol.for("motionComponentSymbol");function Ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m6(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ll(n)&&(n.current=r))},[e])}const Tw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g6="framerAppearId",c2="data-"+Tw(g6),h2=V.createContext({});function y6(t,e,n,r,i){var g,E;const{visualElement:s}=V.useContext(Xm),o=V.useContext(e2),a=V.useContext(W1),l=V.useContext(dw).reducedMotion,u=V.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=V.useContext(h2);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&_6(u.current,n,i,f);const d=V.useRef(!1);V.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const p=n[c2],y=V.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,p)));return ik(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),y.current&&c.animationState&&c.animationState.animateChanges())}),V.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),y.current=!1),c.enteringChildren=void 0)}),c}function _6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:f2(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ll(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function f2(t){if(t)return t.options.allowProjection!==!1?t.projection:f2(t.parent)}function Ay(t,{forwardMotionProps:e=!1}={},n,r){n&&HU(n);const i=_w(t)?d6:f6;function s(a,l){let u;const c={...V.useContext(dw),...a,layoutId:v6(a)},{isStatic:f}=c,d=YU(a),p=i(a,f);if(!f&&$1){w6();const y=T6(c);u=y.MeasureLayout,d.visualElement=y6(t,p,c,r,y.ProjectionNode)}return N.jsxs(Xm.Provider,{value:d,children:[u&&d.visualElement?N.jsx(u,{visualElement:d.visualElement,...c}):null,u6(t,a,m6(p,d.visualElement,l),p,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=V.forwardRef(s);return o[p6]=t,o}function v6({layoutId:t}){const e=V.useContext(rk).id;return e&&t!==void 0?e+"-"+t:t}function w6(t,e){V.useContext(e2).strict}function T6(t){const{drag:e,layout:n}=Tu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function E6(t,e){if(typeof Proxy>"u")return Ay;const n=new Map,r=(s,o)=>Ay(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Ay(o,void 0,t,e)),n.get(o))})}function d2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Iy(t){return t===void 0||t===1}function V0({scale:t,scaleX:e,scaleY:n}){return!Iy(t)||!Iy(e)||!Iy(n)}function pa(t){return V0(t)||p2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function p2(t){return dx(t.x)||dx(t.y)}function dx(t){return t&&t!=="0%"}function rm(t,e,n){const r=t-n,i=e*r;return n+i}function px(t,e,n,r,i){return i!==void 0&&(t=rm(t,i,r)),rm(t,n,r)+e}function L0(t,e=0,n=1,r,i){t.min=px(t.min,e,n,r,i),t.max=px(t.max,e,n,r,i)}function m2(t,{x:e,y:n}){L0(t.x,e.translate,e.scale,e.originPoint),L0(t.y,n.translate,n.scale,n.originPoint)}const mx=.999999999999,gx=1.0000000000001;function P6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ul(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,m2(t,o)),r&&pa(s.latestValues)&&Ul(t,s.latestValues))}e.x<gx&&e.x>mx&&(e.x=1),e.y<gx&&e.y>mx&&(e.y=1)}function Fl(t,e){t.min=t.min+e,t.max=t.max+e}function yx(t,e,n,r,i=.5){const s=ht(t.min,t.max,i);L0(t,e,n,s,r)}function Ul(t,e){yx(t.x,e.x,e.scaleX,e.scale,e.originX),yx(t.y,e.y,e.scaleY,e.scale,e.originY)}function g2(t,e){return d2(x6(t.getBoundingClientRect(),e))}function A6(t,e,n){const r=g2(t,n),{scroll:i}=e;return i&&(Fl(r.x,i.offset.x),Fl(r.y,i.offset.y)),r}const _x=()=>({translate:0,scale:1,origin:0,originPoint:0}),jl=()=>({x:_x(),y:_x()}),vx=()=>({min:0,max:0}),Et=()=>({x:vx(),y:vx()}),F0={current:null},y2={current:!1};function I6(){if(y2.current=!0,!!$1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F0.current=t.matches;t.addEventListener("change",e),e()}else F0.current=!1}const tf=new WeakMap;function C6(t,e,n){for(const r in e){const i=e[r],s=n[r];if(sn(i))t.addValue(r,i);else if(sn(s))t.addValue(r,Ha(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ha(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ow,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=pr.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,rt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Qm(n),this.isVariantNode=n2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const p=f[d];l[d]!==void 0&&sn(p)&&p.set(l[d])}}mount(e){var n;this.current=e,tf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),y2.current||I6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:F0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tu){const n=Tu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wx.length;r++){const i=wx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=C6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ha(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sk(r)||ak(r))?r=parseFloat(r):!$U(r)&&jo.test(n)&&(r=Gk(e,n)),this.setBaseTarget(e,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=vw(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new K1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cw.render(this.render)}}class v2 extends _2{constructor(){super(...arguments),this.KeyframeResolver=kU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function w2(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function R6(t){return window.getComputedStyle(t)}class T2 extends v2{constructor(){super(...arguments),this.type="html",this.renderInstance=w2}readValueFromInstance(e,n){var r;if(Fu.has(n))return(r=this.projection)!=null&&r.isProjecting?R0(n):K5(e,n);{const i=R6(e),s=(Q1(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return g2(e,n)}build(e,n,r){gw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ww(e,n,r)}}const E2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b6(t,e,n,r){w2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(E2.has(i)?i:Tw(i),e.attrs[i])}class S2 extends v2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fu.has(n)){const r=qk(n);return r&&r.default||0}return n=E2.has(n)?n:Tw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return u2(e,n,r)}build(e,n,r){s2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){b6(e,n,r,i)}mount(e){this.isSVGTag=a2(e.tagName),super.mount(e)}}const k6=(t,e)=>_w(t)?new S2(e):new T2(e,{allowProjection:t!==V.Fragment});function eu(t,e,n){const r=t.getProps();return vw(r,e,n!==void 0?n:r.custom,t)}const U0=t=>Array.isArray(t);function D6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ha(n))}function O6(t){return U0(t)?t[t.length-1]||0:t}function M6(t,e){const n=eu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=O6(s[o]);D6(t,o,a)}}function N6(t){return!!(sn(t)&&t.add)}function j0(t,e){const n=t.getValue("willChange");if(N6(n))return n.add(e);if(!n&&Ms.WillChange){const r=new Ms.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function x2(t){return t.props[c2]}const V6=t=>t!==null;function L6(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(V6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const F6={type:"spring",stiffness:500,damping:25,restSpeed:10},U6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j6={type:"keyframes",duration:.8},z6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B6=(t,{keyframes:e})=>e.length>2?j6:Fu.has(t)?t.startsWith("scale")?U6(e[1]):F6:z6;function $6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Ew=(t,e,n,r={},i,s)=>o=>{const a=lw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Oi(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};$6(a)||Object.assign(c,B6(t,c)),c.duration&&(c.duration=Oi(c.duration)),c.repeatDelay&&(c.repeatDelay=Oi(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(M0(c),c.delay===0&&(f=!0)),(Ms.instantAnimations||Ms.skipAnimations)&&(f=!0,M0(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const d=L6(c.keyframes,a);if(d!==void 0){rt.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new sw(c):new yU(c)};function W6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Sw(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const f=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&W6(u,c))continue;const p={delay:n,...lw(s||{},c)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=x2(t);if(v){const _=window.MotionHandoffAnimation(v,c,rt);_!==null&&(p.startTime=_,g=!0)}}j0(t,c),f.start(Ew(c,f,d,t.shouldReduceMotion&&$k.has(c)?{type:!1}:p,t,g));const E=f.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{rt.update(()=>{o&&M6(t,o)})}),l}function P2(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function z0(t,e,n={}){var l;const r=eu(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Sw(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return H6(t,e,u,c,f,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function H6(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(z0(l,e,{...o,delay:n+(typeof r=="function"?0:r)+P2(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function q6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>z0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=z0(t,e,n);else{const i=typeof e=="function"?eu(t,e,n.custom):e;r=Promise.all(Sw(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function A2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const G6=mw.length;function I2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?I2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<G6;n++){const r=mw[n],i=t.props[r];(Zh(i)||i===!1)&&(e[r]=i)}return e}const K6=[...pw].reverse(),X6=pw.length;function Y6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>q6(t,n,r)))}function Q6(t){let e=Y6(t),n=Tx(),r=!0;const i=l=>(u,c)=>{var d;const f=eu(t,c,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:y,...g}=f;u={...u,...g,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=I2(t.parent)||{},f=[],d=new Set;let p={},y=1/0;for(let E=0;E<X6;E++){const v=K6[E],_=n[v],S=u[v]!==void 0?u[v]:c[v],A=Zh(S),C=v===l?_.isActive:null;C===!1&&(y=E);let O=S===c[v]&&S!==u[v]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...p},!_.isActive&&C===null||!S&&!_.prevProp||Ym(S)||typeof S=="boolean")continue;const x=J6(_.prevProp,S);let T=x||v===l&&_.isActive&&!O&&A||E>y&&A,P=!1;const I=Array.isArray(S)?S:[S];let k=I.reduce(i(v),{});C===!1&&(k={});const{prevResolvedValues:D={}}=_,b={...D,...k},B=q=>{T=!0,d.has(q)&&(P=!0,d.delete(q)),_.needsAnimating[q]=!0;const j=t.getValue(q);j&&(j.liveStyle=!1)};for(const q in b){const j=k[q],W=D[q];if(p.hasOwnProperty(q))continue;let M=!1;U0(j)&&U0(W)?M=!A2(j,W):M=j!==W,M?j!=null?B(q):d.add(q):j!==void 0&&d.has(q)?B(q):_.protectedKeys[q]=!0}_.prevProp=S,_.prevResolvedValues=k,_.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(T=!1);const ee=O&&x;T&&(!ee||P)&&f.push(...I.map(q=>{const j={type:v};if(typeof q=="string"&&r&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,M=eu(W,q);if(W.enteringChildren&&M){const{delayChildren:J}=M.transition||{};j.delay=P2(W.enteringChildren,t,J)}}return{animation:q,options:j}}))}if(d.size){const E={};if(typeof u.initial!="boolean"){const v=eu(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(E.transition=v.transition)}d.forEach(v=>{const _=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),E[v]=_??null}),f.push({animation:E})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var p;return(p=d.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const d in n)n[d].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Tx(),r=!0}}}function J6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!A2(e,t):!1}function la(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tx(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Z6 extends Jo{constructor(e){super(e),e.animationState||(e.animationState=Q6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ej=0;class tj extends Jo{constructor(){super(...arguments),this.id=ej++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nj={animation:{Feature:Z6},exit:{Feature:tj}};function nf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function If(t){return{point:{x:t.pageX,y:t.pageY}}}const rj=t=>e=>hw(e)&&t(e,If(e));function hh(t,e,n,r){return nf(t,e,rj(n),r)}const C2=1e-4,ij=1-C2,sj=1+C2,R2=.01,oj=0-R2,aj=0+R2;function Jn(t){return t.max-t.min}function lj(t,e,n){return Math.abs(t-e)<=n}function Ex(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ij&&t.scale<=sj||isNaN(t.scale))&&(t.scale=1),(t.translate>=oj&&t.translate<=aj||isNaN(t.translate))&&(t.translate=0)}function fh(t,e,n,r){Ex(t.x,e.x,n.x,r?r.originX:void 0),Ex(t.y,e.y,n.y,r?r.originY:void 0)}function Sx(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function uj(t,e,n){Sx(t.x,e.x,n.x),Sx(t.y,e.y,n.y)}function xx(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function dh(t,e,n){xx(t.x,e.x,n.x),xx(t.y,e.y,n.y)}function Zr(t){return[t("x"),t("y")]}const b2=({current:t})=>t?t.ownerDocument.defaultView:null,Px=(t,e)=>Math.abs(t-e);function cj(t,e){const n=Px(t.x,e.x),r=Px(t.y,e.y);return Math.sqrt(n**2+r**2)}class k2{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ry(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=cj(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=d,{timestamp:E}=mn;this.history.push({...g,timestamp:E});const{onStart:v,onMove:_}=this.handlers;p||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Cy(p,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ry(d.type==="pointercancel"?this.lastMoveEventInfo:Cy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,v),g&&g(d,v)},!hw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=If(e),l=Cy(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=mn;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,Ry(l,this.history)),this.removeListeners=xf(hh(this.contextWindow,"pointermove",this.handlePointerMove),hh(this.contextWindow,"pointerup",this.handlePointerUp),hh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function Cy(t,e){return e?{point:e(t.point)}:t}function Ax(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ry({point:t},e){return{point:t,delta:Ax(t,D2(e)),offset:Ax(t,hj(e)),velocity:fj(e,.1)}}function hj(t){return t[0]}function D2(t){return t[t.length-1]}function fj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=D2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Oi(e)));)n--;if(!r)return{x:0,y:0};const s=Zi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function Ix(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pj(t,{top:e,left:n,bottom:r,right:i}){return{x:Ix(t.x,n,i),y:Ix(t.y,e,r)}}function Cx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mj(t,e){return{x:Cx(t.x,e.x),y:Cx(t.y,e.y)}}function gj(t,e){let n=.5;const r=Jn(t),i=Jn(e);return i>r?n=wu(e.min,e.max-r,t.min):r>i&&(n=wu(t.min,t.max-i,e.min)),Os(0,1,n)}function yj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const B0=.35;function _j(t=B0){return t===!1?t=0:t===!0&&(t=B0),{x:Rx(t,"left","right"),y:Rx(t,"top","bottom")}}function Rx(t,e,n){return{min:bx(t,e),max:bx(t,n)}}function bx(t,e){return typeof t=="number"?t:t[e]||0}const vj=new WeakMap;class wj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(If(f).point)},o=(f,d)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NU(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zr(v=>{let _=this.getAxisMotionValue(v).get()||0;if(es.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[v];A&&(_=Jn(A)*(parseFloat(_)/100))}}this.originPoint[v]=_}),g&&rt.postRender(()=>g(f,d)),j0(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:E}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=d;if(y&&this.currentDirection===null){this.currentDirection=Tj(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),E&&E(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Zr(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new k2(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:b2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&rt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ad(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=dj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=pj(r.layoutBox,e):this.constraints=!1,this.elastic=_j(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ll(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=A6(r,i.root,this.visualElement.getTransformPagePoint());let o=mj(i.layout.layoutBox,s);if(n){const a=n(S6(o));this.hasMutatedConstraints=!!a,a&&(o=d2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Zr(c=>{if(!Ad(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return j0(this.visualElement,e),r.start(Ew(e,r,0,n,this.visualElement,!1))}stopAnimation(){Zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zr(n=>{const{drag:r}=this.getProps();if(!Ad(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ht(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ll(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=gj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zr(o=>{if(!Ad(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ht(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;vj.set(this.visualElement,this);const e=this.visualElement.current,n=hh(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ll(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rt.read(r);const o=nf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=B0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ad(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Tj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ej extends Jo{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new wj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const kx=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class Sj extends Jo{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new k2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kx(e),onStart:kx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=hh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Dx(t,e.target.x),r=Dx(t,e.target.y);return`${n}% ${r}%`}},xj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jo.parse(t);if(i.length>5)return r;const s=jo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ht(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let by=!1;class Pj extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;QU(Aj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),by&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,by=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;by=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function O2(t){const[e,n]=WU(),r=V.useContext(rk);return N.jsx(Pj,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(h2),isPresent:e,safeToRemove:n})}const Aj={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:xj};function M2(t,e,n){const r=sn(t)?t:Ha(t);return r.start(Ew("",r,e,n)),r.animation}const Ij=(t,e)=>t.depth-e.depth;class Cj{constructor(){this.children=[],this.isDirty=!1}add(e){H1(this.children,e),this.isDirty=!0}remove(e){Km(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ij),this.isDirty=!1,this.children.forEach(e)}}function Rj(t,e){const n=pr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ns(r),t(s-e))};return rt.setup(r,!0),()=>Ns(r)}const N2=["TopLeft","TopRight","BottomLeft","BottomRight"],bj=N2.length,Ox=t=>typeof t=="string"?parseFloat(t):t,Mx=t=>typeof t=="number"||le.test(t);function kj(t,e,n,r,i,s){i?(t.opacity=ht(0,n.opacity??1,Dj(r)),t.opacityExit=ht(e.opacity??1,0,Oj(r))):s&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let o=0;o<bj;o++){const a=`border${N2[o]}Radius`;let l=Nx(e,a),u=Nx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Mx(l)===Mx(u)?(t[a]=Math.max(ht(Ox(l),Ox(u),r),0),(es.test(u)||es.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function Nx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dj=V2(0,.5,mk),Oj=V2(.5,.95,hi);function V2(t,e,n){return r=>r<t?0:r>e?1:n(wu(t,e,r))}function Vx(t,e){t.min=e.min,t.max=e.max}function Qr(t,e){Vx(t.x,e.x),Vx(t.y,e.y)}function Lx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Fx(t,e,n,r,i){return t-=e,t=rm(t,1/n,r),i!==void 0&&(t=rm(t,1/i,r)),t}function Mj(t,e=0,n=1,r=.5,i,s=t,o=t){if(es.test(e)&&(e=parseFloat(e),e=ht(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ht(s.min,s.max,r);t===s&&(a-=e),t.min=Fx(t.min,e,n,a,i),t.max=Fx(t.max,e,n,a,i)}function Ux(t,e,[n,r,i],s,o){Mj(t,e[n],e[r],e[i],e.scale,s,o)}const Nj=["x","scaleX","originX"],Vj=["y","scaleY","originY"];function jx(t,e,n,r){Ux(t.x,e,Nj,n?n.x:void 0,r?r.x:void 0),Ux(t.y,e,Vj,n?n.y:void 0,r?r.y:void 0)}function zx(t){return t.translate===0&&t.scale===1}function L2(t){return zx(t.x)&&zx(t.y)}function Bx(t,e){return t.min===e.min&&t.max===e.max}function Lj(t,e){return Bx(t.x,e.x)&&Bx(t.y,e.y)}function $x(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function F2(t,e){return $x(t.x,e.x)&&$x(t.y,e.y)}function Wx(t){return Jn(t.x)/Jn(t.y)}function Hx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Fj{constructor(){this.members=[]}add(e){H1(this.members,e),e.scheduleRender()}remove(e){if(Km(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uj(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ky=["","X","Y","Z"],jj=1e3;let zj=0;function Dy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function U2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=x2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&U2(r)}function j2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wj),this.nodes.forEach(Kj),this.nodes.forEach(Xj),this.nodes.forEach(Hj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fw(o)&&!Zk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,f=0;const d=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{f=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,c&&c(),c=Rj(d,250),rp.hasAnimatedSinceResize&&(rp.hasAnimatedSinceResize=!1,this.nodes.forEach(Kx)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||e9,{onLayoutAnimationStart:g,onLayoutAnimationComplete:E}=u.getProps(),v=!this.targetLayout||!F2(this.targetLayout,p),_=!f&&d;if(this.options.layoutRoot||this.resumeFrom||_||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...lw(y,"layout"),onPlay:g,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(c,_)}else f||Kx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gj),this.nodes.forEach(Bj),this.nodes.forEach($j)):this.nodes.forEach(Gx),this.clearAllSnapshots();const a=pr.now();mn.delta=Os(0,1e3/60,a-mn.timestamp),mn.timestamp=a,mn.isProcessing=!0,wy.update.process(mn),wy.preRender.process(mn),wy.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qj),this.sharedNodes.forEach(Qj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!L2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||pa(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),t9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Et();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(n9))){const{scroll:c}=this.root;c&&(Fl(a.x,c.offset.x),Fl(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Et();if(Qr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Qr(a,o),Fl(a.x,f.offset.x),Fl(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Et();Qr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ul(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),pa(c.latestValues)&&Ul(l,c.latestValues)}return pa(this.latestValues)&&Ul(l,this.latestValues),l}removeTransform(o){const a=Et();Qr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!pa(u.latestValues))continue;V0(u.latestValues)&&u.updateSnapshot();const c=Et(),f=u.measurePageBox();Qr(c,f),jx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return pa(this.latestValues)&&jx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),dh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qr(this.target,this.layout.layoutBox),m2(this.target,this.targetDelta)):Qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),dh(this.relativeTargetOrigin,this.target,p.target),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||V0(this.parent.latestValues)||p2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Qr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;P6(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Et());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lx(this.prevProjectionDelta.x,this.projectionDelta.x),Lx(this.prevProjectionDelta.y,this.projectionDelta.y)),fh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!Hx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jl(),this.projectionDelta=jl(),this.projectionDeltaWithTransform=jl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=jl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Et(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,E=this.getStack(),v=!E||E.members.length<=1,_=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Zj));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const C=A/1e3;Xx(f.x,o.x,C),Xx(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dh(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jj(this.relativeTarget,this.relativeTargetOrigin,d,C),S&&Lj(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Et()),Qr(S,this.relativeTarget)),g&&(this.animationValues=c,kj(c,u,this.latestValues,C,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{rp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ha(0)),this.currentAnimation=M2(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&z2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Et();const f=Jn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Jn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Qr(a,l),Ul(a,c),fh(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Dy("z",o,u,this.animationValues);for(let c=0;c<ky.length;c++)Dy(`rotate${ky[c]}`,o,u,this.animationValues),Dy(`skew${ky[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=np(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=np(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Uj(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:d,y:p}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const y in ef){if(c[y]===void 0)continue;const{correct:g,applyTo:E,isCSSVariable:v}=ef[y],_=f==="none"?c[y]:g(c[y],u);if(E){const S=E.length;for(let A=0;A<S;A++)o[E[A]]=_}else v?this.options.visualElement.renderState.vars[y]=_:o[y]=_}this.options.layoutId&&(o.pointerEvents=u===this?np(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(qx),this.root.sharedNodes.clear()}}}function Bj(t){t.updateLayout()}function $j(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Zr(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],p=Jn(d);d.min=r[f].min,d.max=d.min+p}):z2(s,e.layoutBox,r)&&Zr(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],p=Jn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=jl();fh(a,r,e.layoutBox);const l=jl();o?fh(l,t.applyTransform(i,!0),e.measuredBox):fh(l,r,e.layoutBox);const u=!L2(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const y=Et();dh(y,e.layoutBox,d.layoutBox);const g=Et();dh(g,r,p.layoutBox),F2(y,g)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Wj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qj(t){t.clearSnapshot()}function qx(t){t.clearMeasurements()}function Gx(t){t.isLayoutDirty=!1}function Gj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kj(t){t.resolveTargetDelta()}function Xj(t){t.calcProjection()}function Yj(t){t.resetSkewAndRotation()}function Qj(t){t.removeLeadSnapshot()}function Xx(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Yx(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function Jj(t,e,n,r){Yx(t.x,e.x,n.x,r),Yx(t.y,e.y,n.y,r)}function Zj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const e9={duration:.45,ease:[.4,0,.1,1]},Qx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jx=Qx("applewebkit/")&&!Qx("chrome/")?Math.round:hi;function Zx(t){t.min=Jx(t.min),t.max=Jx(t.max)}function t9(t){Zx(t.x),Zx(t.y)}function z2(t,e,n){return t==="position"||t==="preserve-aspect"&&!lj(Wx(e),Wx(n),.2)}function n9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const r9=j2({attachResizeListener:(t,e)=>nf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oy={current:void 0},B2=j2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Oy.current){const t=new r9({});t.mount(window),t.setOptions({layoutScroll:!0}),Oy.current=t}return Oy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),i9={pan:{Feature:Sj},drag:{Feature:Ej,ProjectionNode:B2,MeasureLayout:O2}};function eP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rt.postRender(()=>s(e,If(e)))}class s9 extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=VU(e,(n,r)=>(eP(this.node,r,"Start"),i=>eP(this.node,i,"End"))))}unmount(){}}class o9 extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xf(nf(this.node.current,"focus",()=>this.onFocus()),nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rt.postRender(()=>s(e,If(e)))}class a9 extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=jU(e,(n,r)=>(tP(this.node,r,"Start"),(i,{success:s})=>tP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $0=new WeakMap,My=new WeakMap,l9=t=>{const e=$0.get(t.target);e&&e(t)},u9=t=>{t.forEach(l9)};function c9({root:t,...e}){const n=t||document;My.has(n)||My.set(n,{});const r=My.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(u9,{root:t,...e})),r[i]}function h9(t,e,n){const r=c9(e);return $0.set(t,n),r.observe(t),()=>{$0.delete(t),r.unobserve(t)}}const f9={some:0,all:1};class d9 extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:f9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return h9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(p9(e,n))&&this.startObserver()}unmount(){}}function p9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const m9={inView:{Feature:d9},tap:{Feature:a9},focus:{Feature:o9},hover:{Feature:s9}},g9={layout:{ProjectionNode:B2,MeasureLayout:O2}},y9={...nj,...m9,...i9,...g9},kc=E6(y9,k6);function _9(t,e,n){V.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function ip(t){const e=B1(()=>Ha(t)),{isStatic:n}=V.useContext(dw);if(n){const[,r]=V.useState(t);V.useEffect(()=>e.on("change",r),[])}return e}function $2(t,e){const n=ip(e()),r=()=>n.set(e());return r(),ik(()=>{const i=()=>rt.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ns(r)}}),n}function v9(t){ch.current=[],t();const e=$2(ch.current,t);return ch.current=void 0,e}function ds(t,e,n,r){if(typeof t=="function")return v9(t);const i=typeof e=="function"?e:zU(e,n,r);return Array.isArray(t)?nP(t,i):nP([t],([s])=>i(s))}function nP(t,e){const n=B1(()=>[]);return $2(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function xw(t){return typeof t=="object"&&!Array.isArray(t)}function W2(t,e,n,r){return typeof t=="string"&&xw(e)?Kk(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function w9(t,e,n){return t*(e+1)}function rP(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function T9(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(Km(t,i),r--)}}function E9(t,e,n,r,i,s){T9(t,i,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:ht(i,s,r[o]),easing:vk(n,o)})}function S9(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function x9(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const P9="easeInOut";function A9(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,o=new Map,a=new Map,l={},u=new Map;let c=0,f=0,d=0;for(let p=0;p<t.length;p++){const y=t[p];if(typeof y=="string"){u.set(y,f);continue}else if(!Array.isArray(y)){u.set(y.name,rP(f,y.at,c,u));continue}let[g,E,v={}]=y;v.at!==void 0&&(f=rP(f,v.at,c,u));let _=0;const S=(A,C,O,x=0,T=0)=>{const P=I9(A),{delay:I=0,times:k=Nk(P),type:D="keyframes",repeat:b,repeatType:B,repeatDelay:ee=0,...ae}=C;let{ease:q=e.ease||"easeOut",duration:j}=C;const W=typeof I=="function"?I(x,T):I,M=P.length,J=aw(D)?D:i==null?void 0:i[D||"keyframes"];if(M<=2&&J){let be=100;if(M===2&&b9(P)){const Xe=P[1]-P[0];be=Math.abs(Xe)}const ke={...ae};j!==void 0&&(ke.duration=Oi(j));const Ce=kk(ke,be,J);q=Ce.ease,j=Ce.duration}j??(j=s);const de=f+W;k.length===1&&k[0]===0&&(k[1]=1);const Ke=k.length-P.length;if(Ke>0&&Mk(k,Ke),P.length===1&&P.unshift(null),b){j=w9(j,b);const be=[...P],ke=[...k];q=Array.isArray(q)?[...q]:[q];const Ce=[...q];for(let Xe=0;Xe<b;Xe++){P.push(...be);for(let Ye=0;Ye<be.length;Ye++)k.push(ke[Ye]+(Xe+1)),q.push(Ye===0?"linear":vk(Ce,Ye-1))}S9(k,b)}const pe=de+j;E9(O,P,q,k,de,pe),_=Math.max(W+j,_),d=Math.max(pe,d)};if(sn(g)){const A=iP(g,a);S(E,v,sP("default",A))}else{const A=W2(g,E,r,l),C=A.length;for(let O=0;O<C;O++){E=E,v=v;const x=A[O],T=iP(x,a);for(const P in E)S(E[P],C9(v,P),sP(P,T),O,C)}}c=f,f+=_}return a.forEach((p,y)=>{for(const g in p){const E=p[g];E.sort(x9);const v=[],_=[],S=[];for(let C=0;C<E.length;C++){const{at:O,value:x,easing:T}=E[C];v.push(x),_.push(wu(0,d,O)),S.push(T||"easeOut")}_[0]!==0&&(_.unshift(0),v.unshift(v[0]),S.unshift(P9)),_[_.length-1]!==1&&(_.push(1),v.push(null)),o.has(y)||o.set(y,{keyframes:{},transition:{}});const A=o.get(y);A.keyframes[g]=v,A.transition[g]={...e,duration:d,ease:S,times:_,...n}}}),o}function iP(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function sP(t,e){return e[t]||(e[t]=[]),e[t]}function I9(t){return Array.isArray(t)?t:[t]}function C9(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const R9=t=>typeof t=="number",b9=t=>t.every(R9);function k9(t,e){return t in e}class D9 extends _2{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(k9(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Et()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function O9(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=fw(t)&&!Zk(t)?new S2(e):new T2(e);n.mount(t),tf.set(t,n)}function M9(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new D9(e);n.mount(t),tf.set(t,n)}function N9(t,e){return sn(t)||typeof t=="number"||typeof t=="string"&&!xw(e)}function H2(t,e,n,r){const i=[];if(N9(t,e))i.push(M2(t,xw(e)&&e.default||e,n&&(n.default||n)));else{const s=W2(t,e,r),o=s.length;for(let a=0;a<o;a++){const l=s[a],u=l instanceof Element?O9:M9;tf.has(l)||u(l);const c=tf.get(l),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,o)),i.push(...Sw(c,{...e,transition:f},{}))}}return i}function V9(t,e,n){const r=[];return A9(t,e,n,{spring:Jh}).forEach(({keyframes:s,transition:o},a)=>{r.push(...H2(a,s,o))}),r}function L9(t){return Array.isArray(t)&&t.some(Array.isArray)}function F9(t){function e(n,r,i){let s=[],o;if(L9(n))s=V9(n,r,t);else{const{onComplete:l,...u}=i||{};typeof l=="function"&&(o=l),s=H2(n,r,u,t)}const a=new vU(s);return o&&a.finished.then(o),a}return e}const mc=F9(),oP=50;function U9({value:t,onChange:e,startingValue:n=0,maxValue:r=100,className:i="",isStepped:s=!1,stepSize:o=1,leftIcon:a=N.jsx(N.Fragment,{children:"-"}),rightIcon:l=N.jsx(N.Fragment,{children:"+"})}){return N.jsx("div",{className:`flex flex-col items-center justify-center gap-4 w-40 ${i}`,children:N.jsx(j9,{value:t,onChange:e,startingValue:n,maxValue:r,isStepped:s,stepSize:o,leftIcon:a,rightIcon:l})})}function j9({value:t,onChange:e,startingValue:n,maxValue:r,isStepped:i,stepSize:s,leftIcon:o,rightIcon:a}){const l=V.useRef(null),[u,c]=V.useState("middle"),f=ip(0),d=ip(0),p=ip(1);_9(f,"change",_=>{if(l.current){const{left:S,right:A}=l.current.getBoundingClientRect();let C;_<S?(c("left"),C=S-_):_>A?(c("right"),C=_-A):(c("middle"),C=0),d.jump(z9(C,oP))}});const y=_=>{if(_.buttons>0&&l.current){const{left:S,width:A}=l.current.getBoundingClientRect();let C=n+(_.clientX-S)/A*(r-n);i&&(C=Math.round(C/s)*s),C=Math.min(Math.max(C,n),r),e(C),f.jump(_.clientX)}},g=_=>{y(_),_.currentTarget.setPointerCapture(_.pointerId)},E=()=>{mc(d,0,{type:"spring",bounce:.5})},v=()=>{const _=r-n;return _===0?0:(t-n)/_*100};return N.jsxs(kc.div,{onHoverStart:()=>mc(p,1.2),onHoverEnd:()=>mc(p,1),onTouchStart:()=>mc(p,1.2),onTouchEnd:()=>mc(p,1),style:{scale:p,opacity:ds(p,[1,1.2],[.7,1])},className:"flex w-full touch-none select-none items-center justify-center gap-4",children:[N.jsx(kc.div,{animate:{scale:u==="left"?[1,1.4,1]:1,transition:{duration:.25}},style:{x:ds(()=>u==="left"?-d.get()/p.get():0)},children:o}),N.jsx("div",{ref:l,className:"relative flex w-full max-w-xs flex-grow cursor-grab touch-none select-none items-center py-4",onPointerMove:y,onPointerDown:g,onPointerUp:E,children:N.jsx(kc.div,{style:{scaleX:ds(()=>{if(l.current){const{width:_}=l.current.getBoundingClientRect();return 1+d.get()/_}}),scaleY:ds(d,[0,oP],[1,.8]),transformOrigin:ds(()=>{if(l.current){const{left:_,width:S}=l.current.getBoundingClientRect();return f.get()<_+S/2?"right":"left"}}),height:ds(p,[1,1.2],[6,12]),marginTop:ds(p,[1,1.2],[0,-3]),marginBottom:ds(p,[1,1.2],[0,-3])},className:"flex flex-grow",children:N.jsx("div",{className:"relative h-full flex-grow overflow-hidden rounded-full bg-gray-400",children:N.jsx("div",{className:"absolute h-full bg-gray-500 rounded-full",style:{width:`${v()}%`}})})})}),N.jsx(kc.div,{animate:{scale:u==="right"?[1,1.4,1]:1,transition:{duration:.25}},style:{x:ds(()=>u==="right"?d.get()/p.get():0)},children:a})]})}function z9(t,e){const n=t/e;return 2*(1/(1+Math.exp(-n))-.5)*e}const B9=()=>{const[t,e]=V.useState(!1),[n,r]=V.useState(.8),[i,s]=V.useState(!1),o=V.useRef(null);V.useEffect(()=>{const l=()=>{const c=new Date,f=c.getDay(),d=c.getHours(),p=c.getMinutes(),y=f>=1&&f<=5,g=d===20&&p>=50,E=d===21,v=d===22&&p<10;s(!!(y&&(g||E||v)))};l();const u=setInterval(l,6e4);return()=>clearInterval(u)},[]),V.useEffect(()=>{o.current&&(o.current.volume=n)},[n]);const a=()=>{!i||!o.current||(t?o.current.pause():o.current.play().catch(l=>console.error("Error al reproducir audio:",l)),e(!t))};return N.jsxs("section",{id:"player",className:"container mx-auto px-6 pt-12 pb-16 md:pt-16 md:pb-24",children:[N.jsx("p",{className:"text-center font-semibold text-gray-200 text-lg mb-6 tracking-wider",children:"Lunes a Viernes de 21:00 a 22:00 hs."}),N.jsxs("div",{className:"max-w-lg mx-auto bg-brand-dark p-6 md:p-8 rounded-lg shadow-2xl border border-brand-purple/30",children:[N.jsxs("div",{className:"flex items-center gap-6",children:[N.jsx("img",{src:q4,alt:"Cover Art",className:"w-28 h-28 rounded-md shadow-lg"}),N.jsxs("div",{className:"flex-1",children:[N.jsx("p",{className:"text-base text-gray-400",children:"Ahora en Universo 8090"}),N.jsx("h3",{className:"text-xl font-bold text-white truncate",children:"Cargando metadata..."}),N.jsx("p",{className:"text-lg text-gray-300",children:"Stream en vivo"})]})]}),N.jsxs("div",{className:"mt-6 flex items-center justify-center gap-20",children:[N.jsx("button",{onClick:a,className:"btn btn-primary p-4 rounded-full disabled:bg-gray-600 disabled:shadow-none disabled:cursor-not-allowed transition-all flex-shrink-0","aria-label":t?"Pausar":"Reproducir",disabled:!i,children:t?N.jsx(Z3,{size:28}):N.jsx(eF,{size:28})}),N.jsx(U9,{value:n,onChange:l=>r(l),maxValue:1,startingValue:0,stepSize:.01,leftIcon:N.jsx(nF,{size:20,className:"text-gray-400"}),rightIcon:N.jsx(tF,{size:20,className:"text-gray-400"})})]}),!i&&N.jsxs("div",{className:"mt-4 text-center bg-yellow-900/50 text-yellow-200 p-3 rounded-md flex items-center justify-center gap-2",children:[N.jsx(X3,{size:18}),N.jsx("p",{className:"text-sm font-semibold",children:"El programa no está en vivo actualmente."})]})]})]})},$9=(t,e)=>{const n=new Set([...Object.keys(t),...e.flatMap(i=>Object.keys(i))]),r={};return n.forEach(i=>{r[i]=[t[i],...e.map(s=>s[i])]}),r},Eu=({text:t="",delay:e=200,className:n="",animateBy:r="words",direction:i="top",threshold:s=.1,rootMargin:o="0px",animationFrom:a,animationTo:l,easing:u=d=>d,onAnimationComplete:c,stepDuration:f=.35})=>{const d=r==="words"?t.split(" "):t.split(""),[p,y]=V.useState(!1),g=V.useRef(null);V.useEffect(()=>{if(!g.current)return;const x=new IntersectionObserver(([T])=>{T.isIntersecting&&(y(!0),x.unobserve(g.current))},{threshold:s,rootMargin:o});return x.observe(g.current),()=>x.disconnect()},[s,o]);const E=V.useMemo(()=>i==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[i]),v=V.useMemo(()=>[{filter:"blur(5px)",opacity:.5,y:i==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[i]),_=a??E,S=l??v,A=S.length+1,C=f*(A-1),O=Array.from({length:A},(x,T)=>A===1?0:T/(A-1));return N.jsx("p",{ref:g,className:`blur-text ${n} w-full flex flex-wrap justify-center`,children:d.map((x,T)=>{const P=$9(_,S),I={duration:C,times:O,delay:T*e/1e3};return I.ease=u,N.jsxs(kc.span,{className:"inline-block will-change-[transform,filter,opacity]",initial:_,animate:p?P:_,transition:I,onAnimationComplete:T===d.length-1?c:void 0,children:[x===" "?" ":x,r==="words"&&T<d.length-1&&" "]},T)})})},W9=()=>N.jsxs("section",{id:"quien-soy",className:"section-container backdrop-blur-sm",children:[N.jsx(Eu,{text:"Quién Soy",className:"section-title"}),N.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:[N.jsx("div",{className:"md:col-span-1 flex justify-center",children:N.jsx("img",{src:H4,alt:"Foto del locutor de Universo 8090",className:"rounded-full w-48 h-48 md:w-56 md:h-56 object-cover border-4 border-brand-purple shadow-lg shadow-brand-purple/20"})}),N.jsx("div",{className:"md:col-span-2 text-center md:text-left",children:N.jsx("p",{className:"text-lg leading-relaxed text-gray-300",children:G4})})]})]}),H9=()=>N.jsxs("section",{id:"playlist",className:"section-container backdrop-blur-sm",children:[N.jsx(Eu,{text:"Escucha Nuestros Episodios",className:"section-title"}),N.jsx("div",{className:"max-w-4xl mx-auto",children:N.jsx("iframe",{style:{borderRadius:"12px"},src:"https://open.spotify.com/embed/playlist/7AB1ot6Uibx3HfFJZ9QFCh?utm_source=generator&theme=0",width:"100%",height:"352",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Playlist de Episodios en Spotify"})})]}),q2=()=>{const t=e=>{e.preventDefault(),alert("¡Mensaje enviado! (Simulación) Gracias por contactarte."),e.target.reset()};return N.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-12",children:[N.jsxs("div",{className:"md:col-span-1",children:[N.jsx("h3",{className:"font-title text-2xl text-brand-cyan mb-4",children:"Envía tu Mensaje"}),N.jsx("p",{className:"mb-6",children:"¿Tienes un pedido, una dedicatoria o simplemente quieres saludar? Usa el formulario o contáctame directamente."}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("a",{href:K4,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-lg hover:text-brand-magenta transition-colors",children:[N.jsx(J3,{size:24}),N.jsx("span",{children:"Enviar WhatsApp"})]}),N.jsxs("a",{href:X4,className:"flex items-center gap-3 text-lg hover:text-brand-magenta transition-colors",children:[N.jsx(Y3,{size:24}),N.jsx("span",{children:"Enviar Correo"})]})]})]}),N.jsx("div",{className:"md:col-span-1",children:N.jsxs("form",{onSubmit:t,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"name",className:"block mb-1 font-semibold",children:"Nombre"}),N.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"w-full p-2 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",className:"block mb-1 font-semibold",children:"Email"}),N.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full p-2 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"message",className:"block mb-1 font-semibold",children:"Mensaje / Dedicatoria"}),N.jsx("textarea",{id:"message",name:"message",rows:"4",required:!0,className:"w-full p-2 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Enviar Mensaje"})]})})]})},q9=()=>N.jsxs(N.Fragment,{children:[N.jsx(B4,{}),N.jsx(B9,{}),N.jsx(W9,{}),N.jsx(H9,{})," ",N.jsxs("section",{id:"contacto",className:"section-container",children:[N.jsx(Eu,{text:"Participa en el Programa",className:"section-title"}),N.jsx(q2,{})]})]}),G9=()=>{};var aP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},K2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new X9;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y9=function(t){const e=G2(t);return K2.encodeByteArray(e,!0)},im=function(t){return Y9(t).replace(/\./g,"")},X2=function(t){try{return K2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=()=>Q9().__FIREBASE_DEFAULTS__,Z9=()=>{if(typeof process>"u"||typeof aP>"u")return;const t=aP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ez=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X2(t[1]);return e&&JSON.parse(e)},Jm=()=>{try{return G9()||J9()||Z9()||ez()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y2=t=>{var e,n;return(n=(e=Jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tz=t=>{const e=Y2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q2=()=>{var t;return(t=Jm())==null?void 0:t.config},J2=t=>{var e;return(e=Jm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[im(JSON.stringify(n)),im(JSON.stringify(o)),""].join(".")}const ph={};function iz(){const t={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function sz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lP=!1;function eD(t,e){if(typeof window>"u"||typeof document>"u"||!Uu(window.location.host)||ph[t]===e||ph[t]||lP)return;ph[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=iz().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{lP=!0,o()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=sz(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const S=d.element;a(S),c(E,g);const A=u();l(_,v),S.append(_,y,E,A),document.body.appendChild(S)}s?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function az(){var e;const t=(e=Jm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hz(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fz(){return!az()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dz(){try{return typeof indexedDB=="object"}catch{return!1}}function pz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="FirebaseError";class zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mz,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zs(i,a,r)}}function gz(t,e){return t.replace(yz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yz=/\{\$([^}]+)}/g;function _z(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uP(s)&&uP(o)){if(!qa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vz(t,e){const n=new wz(t,e);return n.subscribe.bind(n)}class wz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class Ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xz(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sz(t){return t===ma?void 0:t}function xz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ez(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const Az={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Iz=xe.INFO,Cz={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Rz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pw{constructor(e){this.name=e,this._logLevel=Iz,this._logHandler=Rz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const bz=(t,e)=>e.some(n=>t instanceof n);let cP,hP;function kz(){return cP||(cP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dz(){return hP||(hP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tD=new WeakMap,W0=new WeakMap,nD=new WeakMap,Vy=new WeakMap,Aw=new WeakMap;function Oz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ro(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tD.set(n,t)}).catch(()=>{}),Aw.set(e,t),e}function Mz(t){if(W0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});W0.set(t,e)}let H0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nz(t){H0=t(H0)}function Vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ly(this),e,...n);return nD.set(r,e.sort?e.sort():[e]),Ro(r)}:Dz().includes(t)?function(...e){return t.apply(Ly(this),e),Ro(tD.get(this))}:function(...e){return Ro(t.apply(Ly(this),e))}}function Lz(t){return typeof t=="function"?Vz(t):(t instanceof IDBTransaction&&Mz(t),bz(t,kz())?new Proxy(t,H0):t)}function Ro(t){if(t instanceof IDBRequest)return Oz(t);if(Vy.has(t))return Vy.get(t);const e=Lz(t);return e!==t&&(Vy.set(t,e),Aw.set(e,t)),e}const Ly=t=>Aw.get(t);function Fz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ro(o.result),l.oldVersion,l.newVersion,Ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Uz=["get","getKey","getAll","getAllKeys","count"],jz=["put","add","delete","clear"],Fy=new Map;function fP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fy.set(e,s),s}Nz(t=>({...t,get:(e,n,r)=>fP(e,n)||t.get(e,n,r),has:(e,n)=>!!fP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",dP="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Pw("@firebase/app"),$z="@firebase/app-compat",Wz="@firebase/analytics-compat",Hz="@firebase/analytics",qz="@firebase/app-check-compat",Gz="@firebase/app-check",Kz="@firebase/auth",Xz="@firebase/auth-compat",Yz="@firebase/database",Qz="@firebase/data-connect",Jz="@firebase/database-compat",Zz="@firebase/functions",eB="@firebase/functions-compat",tB="@firebase/installations",nB="@firebase/installations-compat",rB="@firebase/messaging",iB="@firebase/messaging-compat",sB="@firebase/performance",oB="@firebase/performance-compat",aB="@firebase/remote-config",lB="@firebase/remote-config-compat",uB="@firebase/storage",cB="@firebase/storage-compat",hB="@firebase/firestore",fB="@firebase/ai",dB="@firebase/firestore-compat",pB="firebase",mB="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="[DEFAULT]",gB={[q0]:"fire-core",[$z]:"fire-core-compat",[Hz]:"fire-analytics",[Wz]:"fire-analytics-compat",[Gz]:"fire-app-check",[qz]:"fire-app-check-compat",[Kz]:"fire-auth",[Xz]:"fire-auth-compat",[Yz]:"fire-rtdb",[Qz]:"fire-data-connect",[Jz]:"fire-rtdb-compat",[Zz]:"fire-fn",[eB]:"fire-fn-compat",[tB]:"fire-iid",[nB]:"fire-iid-compat",[rB]:"fire-fcm",[iB]:"fire-fcm-compat",[sB]:"fire-perf",[oB]:"fire-perf-compat",[aB]:"fire-rc",[lB]:"fire-rc-compat",[uB]:"fire-gcs",[cB]:"fire-gcs-compat",[hB]:"fire-fst",[dB]:"fire-fst-compat",[fB]:"fire-vertex","fire-js":"fire-js",[pB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,yB=new Map,K0=new Map;function pP(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Su(t){const e=t.name;if(K0.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;K0.set(e,t);for(const n of sm.values())pP(n,t);for(const n of yB.values())pP(n,t);return!0}function Iw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Cf("app","Firebase",_B);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=mB;function rD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:G0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=Q2()),!n)throw bo.create("no-options");const s=sm.get(i);if(s){if(qa(n,s.options)&&qa(r,s.config))return s;throw bo.create("duplicate-app",{appName:i})}const o=new Pz(i);for(const l of K0.values())o.addComponent(l);const a=new vB(n,r,o);return sm.set(i,a),a}function iD(t=G0){const e=sm.get(t);if(!e&&t===G0&&Q2())return rD();if(!e)throw bo.create("no-app",{appName:t});return e}function ko(t,e,n){let r=gB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(o.join(" "));return}Su(new Ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="firebase-heartbeat-database",TB=1,rf="firebase-heartbeat-store";let Uy=null;function sD(){return Uy||(Uy=Fz(wB,TB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function EB(t){try{const n=(await sD()).transaction(rf),r=await n.objectStore(rf).get(oD(t));return await n.done,r}catch(e){if(e instanceof zs)Vs.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(n.message)}}}async function mP(t,e){try{const r=(await sD()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,oD(t)),await r.done}catch(n){if(n instanceof zs)Vs.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(r.message)}}}function oD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=1024,xB=30;class PB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xB){const o=CB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gP(),{heartbeatsToSend:r,unsentEntries:i}=AB(this._heartbeatsCache.heartbeats),s=im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vs.warn(n),""}}}function gP(){return new Date().toISOString().substring(0,10)}function AB(t,e=SB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dz()?pz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yP(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function CB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){Su(new Ga("platform-logger",e=>new zz(e),"PRIVATE")),Su(new Ga("heartbeat",e=>new PB(e),"PRIVATE")),ko(q0,dP,t),ko(q0,dP,"esm2020"),ko("fire-js","")}RB("");var _P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,aD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function P(){}P.prototype=T.prototype,x.F=T.prototype,x.prototype=new P,x.prototype.constructor=x,x.D=function(I,k,D){for(var b=Array(arguments.length-2),B=2;B<arguments.length;B++)b[B-2]=arguments[B];return T.prototype[k].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,P){P||(P=0);const I=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)I[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;k<16;++k)I[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=x.g[0],P=x.g[1],k=x.g[2];let D=x.g[3],b;b=T+(D^P&(k^D))+I[0]+3614090360&4294967295,T=P+(b<<7&4294967295|b>>>25),b=D+(k^T&(P^k))+I[1]+3905402710&4294967295,D=T+(b<<12&4294967295|b>>>20),b=k+(P^D&(T^P))+I[2]+606105819&4294967295,k=D+(b<<17&4294967295|b>>>15),b=P+(T^k&(D^T))+I[3]+3250441966&4294967295,P=k+(b<<22&4294967295|b>>>10),b=T+(D^P&(k^D))+I[4]+4118548399&4294967295,T=P+(b<<7&4294967295|b>>>25),b=D+(k^T&(P^k))+I[5]+1200080426&4294967295,D=T+(b<<12&4294967295|b>>>20),b=k+(P^D&(T^P))+I[6]+2821735955&4294967295,k=D+(b<<17&4294967295|b>>>15),b=P+(T^k&(D^T))+I[7]+4249261313&4294967295,P=k+(b<<22&4294967295|b>>>10),b=T+(D^P&(k^D))+I[8]+1770035416&4294967295,T=P+(b<<7&4294967295|b>>>25),b=D+(k^T&(P^k))+I[9]+2336552879&4294967295,D=T+(b<<12&4294967295|b>>>20),b=k+(P^D&(T^P))+I[10]+4294925233&4294967295,k=D+(b<<17&4294967295|b>>>15),b=P+(T^k&(D^T))+I[11]+2304563134&4294967295,P=k+(b<<22&4294967295|b>>>10),b=T+(D^P&(k^D))+I[12]+1804603682&4294967295,T=P+(b<<7&4294967295|b>>>25),b=D+(k^T&(P^k))+I[13]+4254626195&4294967295,D=T+(b<<12&4294967295|b>>>20),b=k+(P^D&(T^P))+I[14]+2792965006&4294967295,k=D+(b<<17&4294967295|b>>>15),b=P+(T^k&(D^T))+I[15]+1236535329&4294967295,P=k+(b<<22&4294967295|b>>>10),b=T+(k^D&(P^k))+I[1]+4129170786&4294967295,T=P+(b<<5&4294967295|b>>>27),b=D+(P^k&(T^P))+I[6]+3225465664&4294967295,D=T+(b<<9&4294967295|b>>>23),b=k+(T^P&(D^T))+I[11]+643717713&4294967295,k=D+(b<<14&4294967295|b>>>18),b=P+(D^T&(k^D))+I[0]+3921069994&4294967295,P=k+(b<<20&4294967295|b>>>12),b=T+(k^D&(P^k))+I[5]+3593408605&4294967295,T=P+(b<<5&4294967295|b>>>27),b=D+(P^k&(T^P))+I[10]+38016083&4294967295,D=T+(b<<9&4294967295|b>>>23),b=k+(T^P&(D^T))+I[15]+3634488961&4294967295,k=D+(b<<14&4294967295|b>>>18),b=P+(D^T&(k^D))+I[4]+3889429448&4294967295,P=k+(b<<20&4294967295|b>>>12),b=T+(k^D&(P^k))+I[9]+568446438&4294967295,T=P+(b<<5&4294967295|b>>>27),b=D+(P^k&(T^P))+I[14]+3275163606&4294967295,D=T+(b<<9&4294967295|b>>>23),b=k+(T^P&(D^T))+I[3]+4107603335&4294967295,k=D+(b<<14&4294967295|b>>>18),b=P+(D^T&(k^D))+I[8]+1163531501&4294967295,P=k+(b<<20&4294967295|b>>>12),b=T+(k^D&(P^k))+I[13]+2850285829&4294967295,T=P+(b<<5&4294967295|b>>>27),b=D+(P^k&(T^P))+I[2]+4243563512&4294967295,D=T+(b<<9&4294967295|b>>>23),b=k+(T^P&(D^T))+I[7]+1735328473&4294967295,k=D+(b<<14&4294967295|b>>>18),b=P+(D^T&(k^D))+I[12]+2368359562&4294967295,P=k+(b<<20&4294967295|b>>>12),b=T+(P^k^D)+I[5]+4294588738&4294967295,T=P+(b<<4&4294967295|b>>>28),b=D+(T^P^k)+I[8]+2272392833&4294967295,D=T+(b<<11&4294967295|b>>>21),b=k+(D^T^P)+I[11]+1839030562&4294967295,k=D+(b<<16&4294967295|b>>>16),b=P+(k^D^T)+I[14]+4259657740&4294967295,P=k+(b<<23&4294967295|b>>>9),b=T+(P^k^D)+I[1]+2763975236&4294967295,T=P+(b<<4&4294967295|b>>>28),b=D+(T^P^k)+I[4]+1272893353&4294967295,D=T+(b<<11&4294967295|b>>>21),b=k+(D^T^P)+I[7]+4139469664&4294967295,k=D+(b<<16&4294967295|b>>>16),b=P+(k^D^T)+I[10]+3200236656&4294967295,P=k+(b<<23&4294967295|b>>>9),b=T+(P^k^D)+I[13]+681279174&4294967295,T=P+(b<<4&4294967295|b>>>28),b=D+(T^P^k)+I[0]+3936430074&4294967295,D=T+(b<<11&4294967295|b>>>21),b=k+(D^T^P)+I[3]+3572445317&4294967295,k=D+(b<<16&4294967295|b>>>16),b=P+(k^D^T)+I[6]+76029189&4294967295,P=k+(b<<23&4294967295|b>>>9),b=T+(P^k^D)+I[9]+3654602809&4294967295,T=P+(b<<4&4294967295|b>>>28),b=D+(T^P^k)+I[12]+3873151461&4294967295,D=T+(b<<11&4294967295|b>>>21),b=k+(D^T^P)+I[15]+530742520&4294967295,k=D+(b<<16&4294967295|b>>>16),b=P+(k^D^T)+I[2]+3299628645&4294967295,P=k+(b<<23&4294967295|b>>>9),b=T+(k^(P|~D))+I[0]+4096336452&4294967295,T=P+(b<<6&4294967295|b>>>26),b=D+(P^(T|~k))+I[7]+1126891415&4294967295,D=T+(b<<10&4294967295|b>>>22),b=k+(T^(D|~P))+I[14]+2878612391&4294967295,k=D+(b<<15&4294967295|b>>>17),b=P+(D^(k|~T))+I[5]+4237533241&4294967295,P=k+(b<<21&4294967295|b>>>11),b=T+(k^(P|~D))+I[12]+1700485571&4294967295,T=P+(b<<6&4294967295|b>>>26),b=D+(P^(T|~k))+I[3]+2399980690&4294967295,D=T+(b<<10&4294967295|b>>>22),b=k+(T^(D|~P))+I[10]+4293915773&4294967295,k=D+(b<<15&4294967295|b>>>17),b=P+(D^(k|~T))+I[1]+2240044497&4294967295,P=k+(b<<21&4294967295|b>>>11),b=T+(k^(P|~D))+I[8]+1873313359&4294967295,T=P+(b<<6&4294967295|b>>>26),b=D+(P^(T|~k))+I[15]+4264355552&4294967295,D=T+(b<<10&4294967295|b>>>22),b=k+(T^(D|~P))+I[6]+2734768916&4294967295,k=D+(b<<15&4294967295|b>>>17),b=P+(D^(k|~T))+I[13]+1309151649&4294967295,P=k+(b<<21&4294967295|b>>>11),b=T+(k^(P|~D))+I[4]+4149444226&4294967295,T=P+(b<<6&4294967295|b>>>26),b=D+(P^(T|~k))+I[11]+3174756917&4294967295,D=T+(b<<10&4294967295|b>>>22),b=k+(T^(D|~P))+I[2]+718787259&4294967295,k=D+(b<<15&4294967295|b>>>17),b=P+(D^(k|~T))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.v=function(x,T){T===void 0&&(T=x.length);const P=T-this.blockSize,I=this.C;let k=this.h,D=0;for(;D<T;){if(k==0)for(;D<=P;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<T;)if(I[k++]=x.charCodeAt(D++),k==this.blockSize){i(this,I),k=0;break}}else for(;D<T;)if(I[k++]=x[D++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;T=this.o*8;for(var P=x.length-8;P<x.length;++P)x[P]=T&255,T/=256;for(this.v(x),x=Array(16),T=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)x[T++]=this.g[P]>>>I&255;return x};function s(x,T){var P=a;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=T(x)}function o(x,T){this.h=T;const P=[];let I=!0;for(let k=x.length-1;k>=0;k--){const D=x[k]|0;I&&D==T||(P[k]=D,I=!1)}this.g=P}var a={};function l(x){return-128<=x&&x<128?s(x,function(T){return new o([T|0],T<0?-1:0)}):new o([x|0],x<0?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return f;if(x<0)return E(u(-x));const T=[];let P=1;for(let I=0;x>=P;I++)T[I]=x/P|0,P*=4294967296;return new o(T,0)}function c(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return E(c(x.substring(1),T));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(T,8));let I=f;for(let D=0;D<x.length;D+=8){var k=Math.min(8,x.length-D);const b=parseInt(x.substring(D,D+k),T);k<8?(k=u(Math.pow(T,k)),I=I.j(k).add(u(b))):(I=I.j(P),I=I.add(u(b)))}return I}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-E(this).m();let x=0,T=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);x+=(I>=0?I:4294967296+I)*T,T*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(y(this))return"0";if(g(this))return"-"+E(this).toString(x);const T=u(Math.pow(x,6));var P=this;let I="";for(;;){const k=A(P,T).g;P=v(P,k.j(T));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(x);if(P=k,y(P))return D+I;for(;D.length<6;)D="0"+D;I=D+I}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function y(x){if(x.h!=0)return!1;for(let T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=v(this,x),g(x)?-1:y(x)?0:1};function E(x){const T=x.g.length,P=[];for(let I=0;I<T;I++)P[I]=~x.g[I];return new o(P,~x.h).add(d)}t.abs=function(){return g(this)?E(this):this},t.add=function(x){const T=Math.max(this.g.length,x.g.length),P=[];let I=0;for(let k=0;k<=T;k++){let D=I+(this.i(k)&65535)+(x.i(k)&65535),b=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);I=b>>>16,D&=65535,b&=65535,P[k]=b<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(x,T){return x.add(E(T))}t.j=function(x){if(y(this)||y(x))return f;if(g(this))return g(x)?E(this).j(E(x)):E(E(this).j(x));if(g(x))return E(this.j(E(x)));if(this.l(p)<0&&x.l(p)<0)return u(this.m()*x.m());const T=this.g.length+x.g.length,P=[];for(var I=0;I<2*T;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let k=0;k<x.g.length;k++){const D=this.i(I)>>>16,b=this.i(I)&65535,B=x.i(k)>>>16,ee=x.i(k)&65535;P[2*I+2*k]+=b*ee,_(P,2*I+2*k),P[2*I+2*k+1]+=D*ee,_(P,2*I+2*k+1),P[2*I+2*k+1]+=b*B,_(P,2*I+2*k+1),P[2*I+2*k+2]+=D*B,_(P,2*I+2*k+2)}for(x=0;x<T;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=T;x<2*T;x++)P[x]=0;return new o(P,0)};function _(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function S(x,T){this.g=x,this.h=T}function A(x,T){if(y(T))throw Error("division by zero");if(y(x))return new S(f,f);if(g(x))return T=A(E(x),T),new S(E(T.g),E(T.h));if(g(T))return T=A(x,E(T)),new S(E(T.g),T.h);if(x.g.length>30){if(g(x)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,I=T;I.l(x)<=0;)P=C(P),I=C(I);var k=O(P,1),D=O(I,1);for(I=O(I,2),P=O(P,2);!y(I);){var b=D.add(I);b.l(x)<=0&&(k=k.add(P),D=b),I=O(I,1),P=O(P,1)}return T=v(x,k.j(T)),new S(k,T)}for(k=f;x.l(T)>=0;){for(P=Math.max(1,Math.floor(x.m()/T.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),D=u(P),b=D.j(T);g(b)||b.l(x)>0;)P-=I,D=u(P),b=D.j(T);y(D)&&(D=d),k=k.add(D),x=v(x,b)}return new S(k,x)}t.B=function(x){return A(this,x).h},t.and=function(x){const T=Math.max(this.g.length,x.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)&x.i(I);return new o(P,this.h&x.h)},t.or=function(x){const T=Math.max(this.g.length,x.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)|x.i(I);return new o(P,this.h|x.h)},t.xor=function(x){const T=Math.max(this.g.length,x.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)^x.i(I);return new o(P,this.h^x.h)};function C(x){const T=x.g.length+1,P=[];for(let I=0;I<T;I++)P[I]=x.i(I)<<1|x.i(I-1)>>>31;return new o(P,x.h)}function O(x,T){const P=T>>5;T%=32;const I=x.g.length-P,k=[];for(let D=0;D<I;D++)k[D]=T>0?x.i(D+P)>>>T|x.i(D+P+1)<<32-T:x.i(D+P);return new o(k,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Do=o}).apply(typeof _P<"u"?_P:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lD,Mc,uD,sp,X0,cD,hD,fD;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var m=0;m<h.length;++m){var w=h[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(h,m){if(m)e:{var w=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var L=h[R];if(!(L in w))break e;w=w[L]}h=h[h.length-1],R=w[h],m=m(R),m!=R&&m!=null&&e(w,h,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(m){var w=[],R;for(R in m)Object.prototype.hasOwnProperty.call(m,R)&&w.push([R,m[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function l(h,m,w){return h.call.apply(h.bind,arguments)}function u(h,m,w){return u=l,u.apply(null,arguments)}function c(h,m){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,m){function w(){}w.prototype=m.prototype,h.Z=m.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(R,L,F){for(var G=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)G[ge-2]=arguments[ge];return m.prototype[L].apply(R,G)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const m=h.length;if(m>0){const w=Array(m);for(let R=0;R<m;R++)w[R]=h[R];return w}return[]}function y(h,m){for(let R=1;R<arguments.length;R++){const L=arguments[R];var w=typeof L;if(w=w!="object"?w:L?Array.isArray(L)?"array":w:"null",w=="array"||w=="object"&&typeof L.length=="number"){w=h.length||0;const F=L.length||0;h.length=w+F;for(let G=0;G<F;G++)h[w+G]=L[G]}else h.push(L)}}class g{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(h){o.setTimeout(()=>{throw h},0)}function v(){var h=x;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,w){const R=S.get();R.set(m,w),this.h?this.h.next=R:this.g=R,this.h=R}}var S=new g(()=>new A,h=>h.reset());class A{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let C,O=!1,x=new _,T=()=>{const h=Promise.resolve(void 0);C=()=>{h.then(P)}};function P(){for(var h;h=v();){try{h.h.call(h.g)}catch(w){E(w)}var m=S;m.j(h),m.h<100&&(m.h++,h.next=m.g,m.g=h)}O=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};o.addEventListener("test",w,m),o.removeEventListener("test",w,m)}catch{}return h}();function b(h){return/^[\s\xa0]*$/.test(h)}function B(h,m){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,m)}f(B,k),B.prototype.init=function(h,m){const w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget,m||(w=="mouseover"?m=h.fromElement:w=="mouseout"&&(m=h.toElement)),this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function q(h,m,w,R,L){this.listener=h,this.proxy=null,this.src=m,this.type=w,this.capture=!!R,this.ha=L,this.key=++ae,this.da=this.fa=!1}function j(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function W(h,m,w){for(const R in h)m.call(w,h[R],R,h)}function M(h,m){for(const w in h)m.call(void 0,h[w],w,h)}function J(h){const m={};for(const w in h)m[w]=h[w];return m}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(h,m){let w,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(w in R)h[w]=R[w];for(let F=0;F<de.length;F++)w=de[F],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,m,w,R,L){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const G=ke(h,m,R,L);return G>-1?(m=h[G],w||(m.fa=!1)):(m=new q(m,this.src,F,!!R,L),m.fa=w,h.push(m)),m};function be(h,m){const w=m.type;if(w in h.g){var R=h.g[w],L=Array.prototype.indexOf.call(R,m,void 0),F;(F=L>=0)&&Array.prototype.splice.call(R,L,1),F&&(j(m),h.g[w].length==0&&(delete h.g[w],h.h--))}}function ke(h,m,w,R){for(let L=0;L<h.length;++L){const F=h[L];if(!F.da&&F.listener==m&&F.capture==!!w&&F.ha==R)return L}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Xe={};function Ye(h,m,w,R,L){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Ye(h,m[F],w,R,L);return null}return w=xn(w),h&&h[ee]?h.J(m,w,a(R)?!!R.capture:!1,L):Vi(h,m,w,!1,R,L)}function Vi(h,m,w,R,L,F){if(!m)throw Error("Invalid event type");const G=a(L)?!!L.capture:!!L;let ge=hn(h);if(ge||(h[Ce]=ge=new pe(h)),w=ge.add(m,w,R,G,F),w.proxy)return w;if(R=un(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)D||(L=G),L===void 0&&(L=!1),h.addEventListener(m.toString(),R,L);else if(h.attachEvent)h.attachEvent(it(m.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function un(){function h(w){return m.call(h.src,h.listener,w)}const m=Sn;return h}function cn(h,m,w,R,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)cn(h,m[F],w,R,L);else R=a(R)?!!R.capture:!!R,w=xn(w),h&&h[ee]?(h=h.i,F=String(m).toString(),F in h.g&&(m=h.g[F],w=ke(m,w,R,L),w>-1&&(j(m[w]),Array.prototype.splice.call(m,w,1),m.length==0&&(delete h.g[F],h.h--)))):h&&(h=hn(h))&&(m=h.g[m.toString()],h=-1,m&&(h=ke(m,w,R,L)),(w=h>-1?m[h]:null)&&Te(w))}function Te(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[ee])be(m.i,h);else{var w=h.type,R=h.proxy;m.removeEventListener?m.removeEventListener(w,R,h.capture):m.detachEvent?m.detachEvent(it(w),R):m.addListener&&m.removeListener&&m.removeListener(R),(w=hn(m))?(be(w,h),w.h==0&&(w.src=null,m[Ce]=null)):j(h)}}}function it(h){return h in Xe?Xe[h]:Xe[h]="on"+h}function Sn(h,m){if(h.da)h=!0;else{m=new B(m,this);const w=h.listener,R=h.ha||h.src;h.fa&&Te(h),h=w.call(R,m)}return h}function hn(h){return h=h[Ce],h instanceof pe?h:null}var U="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(h){return typeof h=="function"?h:(h[U]||(h[U]=function(m){return h.handleEvent(m)}),h[U])}function He(){I.call(this),this.i=new pe(this),this.M=this,this.G=null}f(He,I),He.prototype[ee]=!0,He.prototype.removeEventListener=function(h,m,w,R){cn(this,h,m,w,R)};function st(h,m){var w,R=h.G;if(R)for(w=[];R;R=R.G)w.push(R);if(h=h.M,R=m.type||m,typeof m=="string")m=new k(m,h);else if(m instanceof k)m.target=m.target||h;else{var L=m;m=new k(R,h),Ke(m,L)}L=!0;let F,G;if(w)for(G=w.length-1;G>=0;G--)F=m.g=w[G],L=je(F,R,!0,m)&&L;if(F=m.g=h,L=je(F,R,!0,m)&&L,L=je(F,R,!1,m)&&L,w)for(G=0;G<w.length;G++)F=m.g=w[G],L=je(F,R,!1,m)&&L}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var h=this.i;for(const m in h.g){const w=h.g[m];for(let R=0;R<w.length;R++)j(w[R]);delete h.g[m],h.h--}}this.G=null},He.prototype.J=function(h,m,w,R){return this.i.add(String(h),m,!1,w,R)},He.prototype.K=function(h,m,w,R){return this.i.add(String(h),m,!0,w,R)};function je(h,m,w,R){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let F=0;F<m.length;++F){const G=m[F];if(G&&!G.da&&G.capture==w){const ge=G.listener,Ht=G.ha||G.src;G.fa&&be(h.i,G),L=ge.call(Ht,R)!==!1&&L}}return L&&!R.defaultPrevented}function pi(h,m){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(h,m||0)}function mi(h){h.g=pi(()=>{h.g=null,h.i&&(h.i=!1,mi(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class hs extends I{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(h){I.call(this),this.h=h,this.g={}}f(ot,I);var gi=[];function at(h){W(h.g,function(m,w){this.g.hasOwnProperty(w)&&Te(m)},h),h.g={}}ot.prototype.N=function(){ot.Z.N.call(this),at(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=o.JSON.stringify,nr=o.JSON.parse,yi=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Bs(){}function ft(){}var Li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sr(){k.call(this,"d")}f(Sr,k);function Fi(){k.call(this,"c")}f(Fi,k);var rr={},_i=null;function Gr(){return _i=_i||new He}rr.Ia="serverreachability";function me(h){k.call(this,rr.Ia,h)}f(me,k);function xr(h){const m=Gr();st(m,new me(m))}rr.STAT_EVENT="statevent";function ir(h,m){k.call(this,rr.STAT_EVENT,h),this.stat=m}f(ir,k);function ze(h){const m=Gr();st(m,new ir(m,h))}rr.Ja="timingevent";function sr(h,m){k.call(this,rr.Ja,h),this.size=m}f(sr,k);function Pr(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},m)}function Kr(){this.g=!0}Kr.prototype.ua=function(){this.g=!1};function vi(h,m,w,R,L,F){h.info(function(){if(h.g)if(F){var G="",ge=F.split("&");for(let Be=0;Be<ge.length;Be++){var Ht=ge[Be].split("=");if(Ht.length>1){const Zt=Ht[0];Ht=Ht[1];const ji=Zt.split("_");G=ji.length>=2&&ji[1]=="type"?G+(Zt+"="+Ht+"&"):G+(Zt+"=redacted&")}}}else G=null;else G=F;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+m+`
`+w+`
`+G})}function ta(h,m,w,R,L,F,G){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+m+`
`+w+`
`+F+" "+G})}function ie(h,m,w,R){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(h,w)+(R?" "+R:"")})}function re(h,m){h.info(function(){return"TIMEOUT: "+m})}Kr.prototype.info=function(){};function De(h,m){if(!h.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var w=F[h];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return zn(F)}catch{return m}}var K={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},te;function ue(){}f(ue,Bs),ue.prototype.g=function(){return new XMLHttpRequest},te=new ue;function lt(h){return encodeURIComponent(String(h))}function Ee(h){var m=1;h=h.split(":");const w=[];for(;m>0&&h.length;)w.push(h.shift()),m--;return h.length&&w.push(h.join(":")),w}function Ne(h,m,w,R){this.j=h,this.i=m,this.l=w,this.S=R||1,this.V=new ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var Qe={},Ue={};function Me(h,m,w){h.M=1,h.A=jf(Ui(m)),h.u=w,h.R=!0,or(h,null)}function or(h,m){h.F=Date.now(),wt(h),h.B=Ui(h.A);var w=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),xT(w.i,"t",R),h.C=0,w=h.j.L,h.h=new Wt,h.g=BT(h.j,w?m:null,!h.u),h.P>0&&(h.O=new hs(u(h.Y,h,h.g),h.P)),m=h.V,w=h.g,R=h.ba;var L="readystatechange";Array.isArray(L)||(L&&(gi[0]=L.toString()),L=gi);for(let F=0;F<L.length;F++){const G=Ye(w,L[F],R||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=h.J?J(h.J):{},h.u?(h.v||(h.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,m)):(h.v="GET",h.g.ea(h.B,h.v,null,m)),xr(),vi(h.i,h.v,h.B,h.l,h.S,h.u)}Ne.prototype.ba=function(h){h=h.target;const m=this.O;m&&qs(h)==3?m.j():this.Y(h)},Ne.prototype.Y=function(h){try{if(h==this.g)e:{const ge=qs(this.g),Ht=this.g.ya(),Be=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||kT(this.g)))){this.K||ge!=4||Ht==7||(Ht==8||Be<=0?xr(3):xr(2)),Nt(this);var m=this.g.ca();this.X=m;var w=Je(this);if(this.o=m==200,ta(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var R,L=this.g;if((R=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(R)){var F=R;break t}}F=null}if(h=F)ie(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vt(this,h);else{this.o=!1,this.m=3,ze(12),Yr(this),Ar(this);break e}}if(this.R){h=!0;let Zt;for(;!this.K&&this.C<w.length;)if(Zt=Xr(this,w),Zt==Ue){ge==4&&(this.m=4,ze(14),h=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Qe){this.m=4,ze(15),ie(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else ie(this.i,this.l,Zt,null),Vt(this,Zt);if(Pn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||w.length!=0||this.h.h||(this.m=1,ze(16),h=!1),this.o=this.o&&h,!h)ie(this.i,this.l,w,"[Invalid Chunked Response]"),Yr(this),Ar(this);else if(w.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Rg(G),G.P=!0,ze(11))}}else ie(this.i,this.l,w,null),Vt(this,w);ge==4&&Yr(this),this.o&&!this.K&&(ge==4?FT(this.j,this):(this.o=!1,wt(this)))}else fN(this.g),m==400&&w.indexOf("Unknown SID")>0?(this.m=3,ze(12)):(this.m=0,ze(13)),Yr(this),Ar(this)}}}catch{}finally{}};function Je(h){if(!Pn(h))return h.g.la();const m=kT(h.g);if(m==="")return"";let w="";const R=m.length,L=qs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Yr(h),Ar(h),"";h.h.i=new o.TextDecoder}for(let F=0;F<R;F++)h.h.h=!0,w+=h.h.i.decode(m[F],{stream:!(L&&F==R-1)});return m.length=0,h.h.g+=w,h.C=0,h.h.g}function Pn(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xr(h,m){var w=h.C,R=m.indexOf(`
`,w);return R==-1?Ue:(w=Number(m.substring(w,R)),isNaN(w)?Qe:(R+=1,R+w>m.length?Ue:(m=m.slice(R,R+w),h.C=R+w,m)))}Ne.prototype.cancel=function(){this.K=!0,Yr(this)};function wt(h){h.T=Date.now()+h.H,Mt(h,h.H)}function Mt(h,m){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Pr(u(h.aa,h),m)}function Nt(h){h.D&&(o.clearTimeout(h.D),h.D=null)}Ne.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(re(this.i,this.B),this.M!=2&&(xr(),ze(17)),Yr(this),this.m=2,Ar(this)):Mt(this,this.T-h)};function Ar(h){h.j.I==0||h.K||FT(h.j,h)}function Yr(h){Nt(h);var m=h.O;m&&typeof m.dispose=="function"&&m.dispose(),h.O=null,at(h.V),h.g&&(m=h.g,h.g=null,m.abort(),m.dispose())}function Vt(h,m){try{var w=h.j;if(w.I!=0&&(w.g==h||fs(w.h,h))){if(!h.L&&fs(w.h,h)&&w.I==3){try{var R=w.Ba.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Hf(w),$f(w);else break e;Cg(w),ze(18)}}else w.xa=L[1],0<w.xa-w.K&&L[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Pr(u(w.Va,w),6e3));Gu(w.h)<=1&&w.ta&&(w.ta=void 0)}else ia(w,11)}else if((h.L||w.g==h)&&Hf(w),!b(m))for(L=w.Ba.g.parse(m),m=0;m<L.length;m++){let Be=L[m];const Zt=Be[0];if(!(Zt<=w.K))if(w.K=Zt,Be=Be[1],w.I==2)if(Be[0]=="c"){w.M=Be[1],w.ba=Be[2];const ji=Be[3];ji!=null&&(w.ka=ji,w.j.info("VER="+w.ka));const sa=Be[4];sa!=null&&(w.za=sa,w.j.info("SVER="+w.za));const Gs=Be[5];Gs!=null&&typeof Gs=="number"&&Gs>0&&(R=1.5*Gs,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Ks=h.g;if(Ks){const Gf=Ks.g?Ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gf){var F=R.h;F.g||Gf.indexOf("spdy")==-1&&Gf.indexOf("quic")==-1&&Gf.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ar(F,F.h),F.h=null))}if(R.G){const bg=Ks.g?Ks.g.getResponseHeader("X-HTTP-Session-Id"):null;bg&&(R.wa=bg,Ze(R.J,R.G,bg))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var G=h;if(R.na=zT(R,R.L?R.ba:null,R.W),G.L){$s(R.h,G);var ge=G,Ht=R.O;Ht&&(ge.H=Ht),ge.D&&(Nt(ge),wt(ge)),R.g=G}else VT(R);w.i.length>0&&Wf(w)}else Be[0]!="stop"&&Be[0]!="close"||ia(w,7);else w.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ia(w,7):Ig(w):Be[0]!="noop"&&w.l&&w.l.qa(Be),w.A=0)}}xr(4)}catch{}}var It=class{constructor(h,m){this.g=h,this.map=m}};function Ir(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Gu(h){return h.h?1:h.g?h.g.size:0}function fs(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function ar(h,m){h.g?h.g.add(m):h.h=m}function $s(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Ir.prototype.cancel=function(){if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function na(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const w of h.g.values())m=m.concat(w.G);return m}return p(h.i)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eN(h,m){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const R=h[w].indexOf("=");let L,F=null;R>=0?(L=h[w].substring(0,R),F=h[w].substring(R+1)):L=h[w],m(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ws(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;h instanceof Ws?(this.l=h.l,Ku(this,h.j),this.o=h.o,this.g=h.g,Xu(this,h.u),this.h=h.h,xg(this,PT(h.i)),this.m=h.m):h&&(m=String(h).match(wi))?(this.l=!1,Ku(this,m[1]||"",!0),this.o=Yu(m[2]||""),this.g=Yu(m[3]||"",!0),Xu(this,m[4]),this.h=Yu(m[5]||"",!0),xg(this,m[6]||"",!0),this.m=Yu(m[7]||"")):(this.l=!1,this.i=new Ju(null,this.l))}Ws.prototype.toString=function(){const h=[];var m=this.j;m&&h.push(Qu(m,wT,!0),":");var w=this.g;return(w||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Qu(m,wT,!0),"@"),h.push(lt(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Qu(w,w.charAt(0)=="/"?rN:nN,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Qu(w,sN)),h.join("")},Ws.prototype.resolve=function(h){const m=Ui(this);let w=!!h.j;w?Ku(m,h.j):w=!!h.o,w?m.o=h.o:w=!!h.g,w?m.g=h.g:w=h.u!=null;var R=h.h;if(w)Xu(m,h.u);else if(w=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var L=m.h.lastIndexOf("/");L!=-1&&(R=m.h.slice(0,L+1)+R)}if(L=R,L==".."||L==".")R="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){R=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let G=0;G<L.length;){const ge=L[G++];ge=="."?R&&G==L.length&&F.push(""):ge==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),R&&G==L.length&&F.push("")):(F.push(ge),R=!0)}R=F.join("/")}else R=L}return w?m.h=R:w=h.i.toString()!=="",w?xg(m,PT(h.i)):w=!!h.m,w&&(m.m=h.m),m};function Ui(h){return new Ws(h)}function Ku(h,m,w){h.j=w?Yu(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function Xu(h,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);h.u=m}else h.u=null}function xg(h,m,w){m instanceof Ju?(h.i=m,oN(h.i,h.l)):(w||(m=Qu(m,iN)),h.i=new Ju(m,h.l))}function Ze(h,m,w){h.i.set(m,w)}function jf(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yu(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qu(h,m,w){return typeof h=="string"?(h=encodeURI(h).replace(m,tN),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tN(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wT=/[#\/\?@]/g,nN=/[#\?:]/g,rN=/[#\?]/g,iN=/[#\?@]/g,sN=/#/g;function Ju(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function ra(h){h.g||(h.g=new Map,h.h=0,h.i&&eN(h.i,function(m,w){h.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Ju.prototype,t.add=function(h,m){ra(this),this.i=null,h=ol(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(m),this.h+=1,this};function TT(h,m){ra(h),m=ol(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function ET(h,m){return ra(h),m=ol(h,m),h.g.has(m)}t.forEach=function(h,m){ra(this),this.g.forEach(function(w,R){w.forEach(function(L){h.call(m,L,R,this)},this)},this)};function ST(h,m){ra(h);let w=[];if(typeof m=="string")ET(h,m)&&(w=w.concat(h.g.get(ol(h,m))));else for(h=Array.from(h.g.values()),m=0;m<h.length;m++)w=w.concat(h[m]);return w}t.set=function(h,m){return ra(this),this.i=null,h=ol(this,h),ET(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=ST(this,h),h.length>0?String(h[0]):m):m};function xT(h,m,w){TT(h,m),w.length>0&&(h.i=null,h.g.set(ol(h,m),p(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(let R=0;R<m.length;R++){var w=m[R];const L=lt(w);w=ST(this,w);for(let F=0;F<w.length;F++){let G=L;w[F]!==""&&(G+="="+lt(w[F])),h.push(G)}}return this.i=h.join("&")};function PT(h){const m=new Ju;return m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),m}function ol(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function oN(h,m){m&&!h.j&&(ra(h),h.i=null,h.g.forEach(function(w,R){const L=R.toLowerCase();R!=L&&(TT(this,R),xT(this,L,w))},h)),h.j=m}function aN(h,m){const w=new Kr;if(o.Image){const R=new Image;R.onload=c(Hs,w,"TestLoadImage: loaded",!0,m,R),R.onerror=c(Hs,w,"TestLoadImage: error",!1,m,R),R.onabort=c(Hs,w,"TestLoadImage: abort",!1,m,R),R.ontimeout=c(Hs,w,"TestLoadImage: timeout",!1,m,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else m(!1)}function lN(h,m){const w=new Kr,R=new AbortController,L=setTimeout(()=>{R.abort(),Hs(w,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:R.signal}).then(F=>{clearTimeout(L),F.ok?Hs(w,"TestPingServer: ok",!0,m):Hs(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Hs(w,"TestPingServer: error",!1,m)})}function Hs(h,m,w,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(w)}catch{}}function uN(){this.g=new yi}function Pg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Pg,Bs),Pg.prototype.g=function(){return new zf(this.i,this.h)};function zf(h,m){He.call(this),this.H=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(zf,He),t=zf.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=m,this.readyState=1,ec(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(m.body=h),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zu(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;AT(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function AT(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?Zu(this):ec(this),this.readyState==3&&AT(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Zu(this))},t.Na=function(h){this.g&&(this.response=h,Zu(this))},t.ga=function(){this.g&&Zu(this)};function Zu(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ec(h)}t.setRequestHeader=function(h,m){this.A.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=m.next();return h.join(`\r
`)};function ec(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function IT(h){let m="";return W(h,function(w,R){m+=R,m+=":",m+=w,m+=`\r
`}),m}function Ag(h,m,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=IT(w),typeof h=="string"?w!=null&&lt(w):Ze(h,m,w))}function Tt(h){He.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Tt,He);var cN=/^https?$/i,hN=["POST","PUT"];t=Tt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,m,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():te.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(F){CT(this,F);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)w.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())w.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),L=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(hN,m,void 0)>=0)||R||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of w)this.g.setRequestHeader(F,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){CT(this,F)}};function CT(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.o=5,RT(h),Bf(h)}function RT(h){h.A||(h.A=!0,st(h,"complete"),st(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,st(this,"complete"),st(this,"abort"),Bf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bf(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bT(this):this.Xa())},t.Xa=function(){bT(this)};function bT(h){if(h.h&&typeof s<"u"){if(h.v&&qs(h)==4)setTimeout(h.Ca.bind(h),0);else if(st(h,"readystatechange"),qs(h)==4){h.h=!1;try{const F=h.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var R;if(R=F===0){let G=String(h.D).match(wi)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),R=!cN.test(G?G.toLowerCase():"")}w=R}if(w)st(h,"complete"),st(h,"success");else{h.o=6;try{var L=qs(h)>2?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.ca()+"]",RT(h)}}finally{Bf(h)}}}}function Bf(h,m){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,m||st(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return qs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),nr(m)}};function kT(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fN(h){const m={};h=(h.g&&qs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(b(h[R]))continue;var w=Ee(h[R]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=m[L]||[];m[L]=F,F.push(w)}M(m,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tc(h,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||m}function DT(h){this.za=0,this.i=[],this.j=new Kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tc("baseRetryDelayMs",5e3,h),this.Za=tc("retryDelaySeedMs",1e4,h),this.Ta=tc("forwardChannelMaxRetries",2,h),this.va=tc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ir(h&&h.concurrentRequestLimit),this.Ba=new uN,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=DT.prototype,t.ka=8,t.I=1,t.connect=function(h,m,w,R){ze(0),this.W=h,this.H=m||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=zT(this,null,this.W),Wf(this)};function Ig(h){if(OT(h),h.I==3){var m=h.V++,w=Ui(h.J);if(Ze(w,"SID",h.M),Ze(w,"RID",m),Ze(w,"TYPE","terminate"),nc(h,w),m=new Ne(h,h.j,m),m.M=2,m.A=jf(Ui(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=m.A,w=!0),w||(m.g=BT(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wt(m)}jT(h)}function $f(h){h.g&&(Rg(h),h.g.cancel(),h.g=null)}function OT(h){$f(h),h.v&&(o.clearTimeout(h.v),h.v=null),Hf(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function Wf(h){if(!sl(h.h)&&!h.m){h.m=!0;var m=h.Ea;C||T(),O||(C(),O=!0),x.add(m,h),h.D=0}}function dN(h,m){return Gu(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=m.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Pr(u(h.Ea,h,m),UT(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const L=new Ne(this,this.j,h);let F=this.o;if(this.U&&(F?(F=J(F),Ke(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,m>4096){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=NT(this,L,m),w=Ui(this.J),Ze(w,"RID",h),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),nc(this,w),F&&(this.R?m="headers="+lt(IT(F))+"&"+m:this.u&&Ag(w,this.u,F)),ar(this.h,L),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",m),Ze(w,"SID","null"),L.U=!0,Me(L,w,null)):Me(L,w,m),this.I=2}}else this.I==3&&(h?MT(this,h):this.i.length==0||sl(this.h)||MT(this))};function MT(h,m){var w;m?w=m.l:w=h.V++;const R=Ui(h.J);Ze(R,"SID",h.M),Ze(R,"RID",w),Ze(R,"AID",h.K),nc(h,R),h.u&&h.o&&Ag(R,h.u,h.o),w=new Ne(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),m&&(h.i=m.G.concat(h.i)),m=NT(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ar(h.h,w),Me(w,R,m)}function nc(h,m){h.H&&W(h.H,function(w,R){Ze(m,R,w)}),h.l&&W({},function(w,R){Ze(m,R,w)})}function NT(h,m,w){w=Math.min(h.i.length,w);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var L=h.i;let ge=-1;for(;;){const Ht=["count="+w];ge==-1?w>0?(ge=L[0].g,Ht.push("ofs="+ge)):ge=0:Ht.push("ofs="+ge);let Be=!0;for(let Zt=0;Zt<w;Zt++){var F=L[Zt].g;const ji=L[Zt].map;if(F-=ge,F<0)ge=Math.max(0,L[Zt].g-100),Be=!1;else try{F="req"+F+"_"||"";try{var G=ji instanceof Map?ji:Object.entries(ji);for(const[sa,Gs]of G){let Ks=Gs;a(Gs)&&(Ks=zn(Gs)),Ht.push(F+sa+"="+encodeURIComponent(Ks))}}catch(sa){throw Ht.push(F+"type="+encodeURIComponent("_badmap")),sa}}catch{R&&R(ji)}}if(Be){G=Ht.join("&");break e}}G=void 0}return h=h.i.splice(0,w),m.G=h,G}function VT(h){if(!h.g&&!h.v){h.Y=1;var m=h.Da;C||T(),O||(C(),O=!0),x.add(m,h),h.A=0}}function Cg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Pr(u(h.Da,h),UT(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,LT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Pr(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ze(10),$f(this),LT(this))};function Rg(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function LT(h){h.g=new Ne(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var m=Ui(h.na);Ze(m,"RID","rpc"),Ze(m,"SID",h.M),Ze(m,"AID",h.K),Ze(m,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(m,"TO",h.ia),Ze(m,"TYPE","xmlhttp"),nc(h,m),h.u&&h.o&&Ag(m,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=jf(Ui(m)),w.u=null,w.R=!0,or(w,h)}t.Va=function(){this.C!=null&&(this.C=null,$f(this),Cg(this),ze(19))};function Hf(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function FT(h,m){var w=null;if(h.g==m){Hf(h),Rg(h),h.g=null;var R=2}else if(fs(h.h,m))w=m.G,$s(h.h,m),R=1;else return;if(h.I!=0){if(m.o)if(R==1){w=m.u?m.u.length:0,m=Date.now()-m.F;var L=h.D;R=Gr(),st(R,new sr(R,w)),Wf(h)}else VT(h);else if(L=m.m,L==3||L==0&&m.X>0||!(R==1&&dN(h,m)||R==2&&Cg(h)))switch(w&&w.length>0&&(m=h.h,m.i=m.i.concat(w)),L){case 1:ia(h,5);break;case 4:ia(h,10);break;case 3:ia(h,6);break;default:ia(h,2)}}}function UT(h,m){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*m}function ia(h,m){if(h.j.info("Error code "+m),m==2){var w=u(h.bb,h),R=h.Ua;const L=!R;R=new Ws(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ku(R,"https"),jf(R),L?aN(R.toString(),w):lN(R.toString(),w)}else ze(2);h.I=0,h.l&&h.l.pa(m),jT(h),OT(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function jT(h){if(h.I=0,h.ja=[],h.l){const m=na(h.h);(m.length!=0||h.i.length!=0)&&(y(h.ja,m),y(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function zT(h,m,w){var R=w instanceof Ws?Ui(w):new Ws(w);if(R.g!="")m&&(R.g=m+"."+R.g),Xu(R,R.u);else{var L=o.location;R=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const F=new Ws(null);R&&Ku(F,R),m&&(F.g=m),L&&Xu(F,L),w&&(F.h=w),R=F}return w=h.G,m=h.wa,w&&m&&Ze(R,w,m),Ze(R,"VER",h.ka),nc(h,R),R}function BT(h,m,w){if(m&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Aa&&!h.ma?new Tt(new Pg({ab:w})):new Tt(h.ma),m.Fa(h.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $T(){}t=$T.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qf(){}qf.prototype.g=function(h,m){return new Cr(h,m)};function Cr(h,m){He.call(this),this.g=new DT(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(h?h["X-WebChannel-Client-Profile"]=m.sa:h={"X-WebChannel-Client-Profile":m.sa}),this.g.U=h,(h=m&&m.Qb)&&!b(h)&&(this.g.u=h),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new al(this)}f(Cr,He),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){Ig(this.g)},Cr.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=zn(h),h=w);m.i.push(new It(m.Ya++,h)),m.I==3&&Wf(m)},Cr.prototype.N=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,Cr.Z.N.call(this)};function WT(h){Sr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const w in m){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}f(WT,Sr);function HT(){Fi.call(this),this.status=1}f(HT,Fi);function al(h){this.g=h}f(al,$T),al.prototype.ra=function(){st(this.g,"a")},al.prototype.qa=function(h){st(this.g,new WT(h))},al.prototype.pa=function(h){st(this.g,new HT)},al.prototype.oa=function(){st(this.g,"b")},qf.prototype.createWebChannel=qf.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,fD=function(){return new qf},hD=function(){return Gr()},cD=rr,X0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,sp=K,ce.COMPLETE="complete",uD=ce,ft.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",He.prototype.listen=He.prototype.J,Mc=ft,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,lD=Tt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const vP="@firebase/firestore",wP="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Pw("@firebase/firestore");function gl(){return Ka.logLevel}function X(t,...e){if(Ka.logLevel<=xe.DEBUG){const n=e.map(Cw);Ka.debug(`Firestore (${zu}): ${t}`,...n)}}function Ls(t,...e){if(Ka.logLevel<=xe.ERROR){const n=e.map(Cw);Ka.error(`Firestore (${zu}): ${t}`,...n)}}function xu(t,...e){if(Ka.logLevel<=xe.WARN){const n=e.map(Cw);Ka.warn(`Firestore (${zu}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dD(t,r,n)}function dD(t,e,n){let r=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dD(e,i,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class kB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DB{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new pD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class OB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Y0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return jy(i)===jy(s)?Pe(i,s):jy(i)?1:-1}return Pe(t.length,e.length)}const LB=55296,FB=57343;function jy(t){const e=t.charCodeAt(0);return e>=LB&&e<=FB}function Pu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Hi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),i=Hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):Y0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class mt extends Hi{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const UB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Hi{construct(e,n,r){return new yn(e,n,r)}static isValidIdentifier(e){return UB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EP}static keyField(){return new yn([EP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(mt.fromString(e))}static fromName(e){return new ne(mt.fromString(e).popFirst(5))}static empty(){return new ne(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zB(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SP(t){if(!ne.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function sf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bw(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function bf(t,e){if(!mD(t))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Z($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=-62135596800,PP=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PP);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xP)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PP}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bf(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:$t("string",tt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new tt(0,0))}static max(){return new he(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=-1;function BB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new zo(i,ne.empty(),e)}function $B(t){return new zo(t.readTime,t.key,of)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(he.min(),ne.empty(),of)}static max(){return new zo(he.max(),ne.empty(),of)}}function WB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==HB)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=-1;function eg(t){return t==null}function om(t){return t===0&&1/t==-1/0}function KB(t){return typeof t=="number"&&Number.isInteger(t)&&!om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="";function XB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AP(e)),e=YB(t.get(n),e);return AP(e)}function YB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case gD:n+="";break;default:n+=s}}return n}function AP(t){return t+gD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gn.RED,this.left=i??gn.EMPTY,this.right=s??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CP(this.data.getIterator())}getIteratorFrom(e){return new CP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class CP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Jt(yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _D("Invalid base64 string: "+s):s}}(e);return new En(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const QB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=QB.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="server_timestamp",wD="__type__",TD="__previous_value__",ED="__local_write_time__";function Dw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wD])==null?void 0:r.stringValue)===vD}function tg(t){const e=t.mapValue.fields[TD];return Dw(e)?tg(e):e}function af(t){const e=Bo(t.mapValue.fields[ED].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const am="(default)";class lf{constructor(e,n){this.projectId=e,this.database=n||am}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===am}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__type__",ZB="__max__",Rd={mapValue:{}},xD="__vector__",lm="value";function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dw(t)?4:t$(t)?9007199254740991:e$(t)?10:11:oe(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return af(t).isEqual(af(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bo(i.timestampValue),a=Bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return $o(i.bytesValue).isEqual($o(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kt(i.doubleValue),a=kt(s.doubleValue);return o===a?om(o)===om(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pu(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IP(o)!==IP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ls(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function uf(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function Au(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kt(s.integerValue||s.doubleValue),l=kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return RP(t.timestampValue,e.timestampValue);case 4:return RP(af(t),af(e));case 5:return Y0(t.stringValue,e.stringValue);case 6:return function(s,o){const a=$o(s),l=$o(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Pe(a[u],l[u]);if(c!==0)return c}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pe(kt(s.latitude),kt(o.latitude));return a!==0?a:Pe(kt(s.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bP(t.arrayValue,e.arrayValue);case 10:return function(s,o){var d,p,y,g;const a=s.fields||{},l=o.fields||{},u=(d=a[lm])==null?void 0:d.arrayValue,c=(p=l[lm])==null?void 0:p.arrayValue,f=Pe(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:bP(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rd.mapValue&&o===Rd.mapValue)return 0;if(s===Rd.mapValue)return 1;if(o===Rd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Y0(l[f],c[f]);if(d!==0)return d;const p=Au(a[l[f]],u[c[f]]);if(p!==0)return p}return Pe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function RP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Bo(t),r=Bo(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function bP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Au(n[i],r[i]);if(s)return s}return Pe(n.length,r.length)}function Iu(t){return Q0(t)}function Q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Q0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Q0(n.fields[o])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function op(t){switch(Wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tg(t);return e?16+op(e):16;case 5:return 2*t.stringValue.length;case 6:return $o(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+op(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zo(r.fields,(s,o)=>{i+=s.length+op(o)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function J0(t){return!!t&&"integerValue"in t}function Ow(t){return!!t&&"arrayValue"in t}function kP(t){return!!t&&"nullValue"in t}function DP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function e$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SD])==null?void 0:r.stringValue)===xD}function mh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return{...t}}function t$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lr(mh(this.value))}}function PD(t){const e=[];return Zo(t.fields,(n,r)=>{const i=new yn([n]);if(ap(r)){const s=PD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,he.min(),he.min(),he.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,he.min(),he.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,he.min(),he.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.position=e,this.inclusive=n}}function OP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Au(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function n$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{}class Yt extends AD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i$(e,n,r):n==="array-contains"?new a$(e,r):n==="in"?new l$(e,r):n==="not-in"?new u$(e,r):n==="array-contains-any"?new c$(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s$(e,r):new o$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Au(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(Au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends AD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new us(e,n)}matches(e){return ID(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ID(t){return t.op==="and"}function CD(t){return r$(t)&&ID(t)}function r$(t){for(const e of t.filters)if(e instanceof us)return!1;return!0}function Z0(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Iu(t.value);if(CD(t))return t.filters.map(e=>Z0(e)).join(",");{const e=t.filters.map(n=>Z0(n)).join(",");return`${t.op}(${e})`}}function RD(t,e){return t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.field.isEqual(i.field)&&ls(r.value,i.value)}(t,e):t instanceof us?function(r,i){return i instanceof us&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&RD(o,i.filters[a]),!0):!1}(t,e):void oe(19439)}function bD(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Iu(n.value)}`}(t):t instanceof us?function(n){return n.op.toString()+" {"+n.getFilters().map(bD).join(" ,")+"}"}(t):"Filter"}class i$ extends Yt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class s$ extends Yt{constructor(e,n){super(e,"in",n),this.keys=kD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o$ extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=kD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class a$ extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ow(n)&&uf(n.arrayValue,this.value)}}class l$ extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uf(this.value.arrayValue,n)}}class u$ extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uf(this.value.arrayValue,n)}}class c$ extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function NP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new h$(t,e,n,r,i,s,o)}function Mw(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Iu(r)).join(",")),e.Te=n}return e.Te}function Nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MP(t.startAt,e.startAt)&&MP(t.endAt,e.endAt)}function ev(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f$(t,e,n,r,i,s,o,a){return new ng(t,e,n,r,i,s,o,a)}function Vw(t){return new ng(t)}function VP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d$(t){return t.collectionGroup!==null}function gh(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(yn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new cm(s,r))}),n.has(yn.keyField().canonicalString())||e.Ie.push(new cm(yn.keyField(),r))}return e.Ie}function ts(t){const e=fe(t);return e.Ee||(e.Ee=p$(e,gh(t))),e.Ee}function p$(t,e){if(t.limitType==="F")return NP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cm(i.field,s)});const n=t.endAt?new um(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new um(t.startAt.position,t.startAt.inclusive):null;return NP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e,n){return new ng(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rg(t,e){return Nw(ts(t),ts(e))&&t.limitType===e.limitType}function DD(t){return`${Mw(ts(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bD(i)).join(", ")}]`),eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Iu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Iu(i)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function ig(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=OP(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gh(r),i)||r.endAt&&!function(o,a,l){const u=OP(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gh(r),i))}(t,e)}function m$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OD(t){return(e,n)=>{let r=!1;for(const i of gh(t)){const s=g$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function g$(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Au(l,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new vt(ne.comparator);function Fs(){return y$}const MD=new vt(ne.comparator);function Nc(...t){let e=MD;for(const n of t)e=e.insert(n.key,n);return e}function ND(t){let e=MD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sa(){return yh()}function VD(){return yh()}function yh(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const _$=new vt(ne.comparator),v$=new Jt(ne.comparator);function Ae(...t){let e=v$;for(const n of t)e=e.add(n);return e}const w$=new Jt(Pe);function T$(){return w$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(e)?"-0":e}}function LD(t){return{integerValue:""+t}}function E$(t,e){return KB(e)?LD(e):Lw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function S$(t,e,n){return t instanceof hm?function(i,s){const o={fields:{[wD]:{stringValue:vD},[ED]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dw(s)&&(s=tg(s)),s&&(o.fields[TD]=s),{mapValue:o}}(n,e):t instanceof cf?UD(t,e):t instanceof hf?jD(t,e):function(i,s){const o=FD(i,s),a=LP(o)+LP(i.Ae);return J0(o)&&J0(i.Ae)?LD(a):Lw(i.serializer,a)}(t,e)}function x$(t,e,n){return t instanceof cf?UD(t,e):t instanceof hf?jD(t,e):n}function FD(t,e){return t instanceof fm?function(r){return J0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hm extends sg{}class cf extends sg{constructor(e){super(),this.elements=e}}function UD(t,e){const n=zD(e);for(const r of t.elements)n.some(i=>ls(i,r))||n.push(r);return{arrayValue:{values:n}}}class hf extends sg{constructor(e){super(),this.elements=e}}function jD(t,e){let n=zD(e);for(const r of t.elements)n=n.filter(i=>!ls(i,r));return{arrayValue:{values:n}}}class fm extends sg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LP(t){return kt(t.integerValue||t.doubleValue)}function zD(t){return Ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cf&&i instanceof cf||r instanceof hf&&i instanceof hf?Pu(r.elements,i.elements,ls):r instanceof fm&&i instanceof fm?ls(r.Ae,i.Ae):r instanceof hm&&i instanceof hm}(t.transform,e.transform)}class A${constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class og{}function BD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WD(t.key,As.none()):new ag(t.key,t.data,As.none());{const n=t.data,r=Lr.empty();let i=new Jt(yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nl(t.key,r,new Ci(i.toArray()),As.none())}}function I$(t,e,n){t instanceof ag?function(i,s,o){const a=i.value.clone(),l=UP(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof nl?function(i,s,o){if(!lp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=UP(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($D(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _h(t,e,n,r){return t instanceof ag?function(s,o,a,l){if(!lp(s.precondition,o))return a;const u=s.value.clone(),c=jP(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof nl?function(s,o,a,l){if(!lp(s.precondition,o))return a;const u=jP(s.fieldTransforms,l,o),c=o.data;return c.setAll($D(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return lp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function C$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FD(r.transform,i||null);s!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,s))}return n||null}function FP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pu(r,i,(s,o)=>P$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ag extends og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nl extends og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $D(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UP(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,x$(o,a,n[i]))}return r}function jP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,S$(s,o,e))}return r}class WD extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R$ extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&I$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=BD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,(n,r)=>FP(n,r))&&Pu(this.baseMutations,e.baseMutations,(n,r)=>FP(n,r))}}class Fw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return _$}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Re;function O$(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function HD(t){if(t===void 0)return Ls("GRPC error has no .code"),$.UNKNOWN;switch(t){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(Re=Lt||(Lt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Do([4294967295,4294967295],0);function zP(t){const e=M$().encode(t),n=new aD;return n.update(e),new Uint8Array(n.digest())}function BP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Do([n,r],0),new Do([i,s],0)]}class Uw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Do.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Do.fromNumber(r)));return i.compare(N$)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zP(e),[r,i]=BP(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Uw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=zP(e),[r,i]=BP(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lg(he.min(),i,new vt(Pe),Fs(),Ae())}}class kf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class qD{constructor(e,n){this.targetId=e,this.Ce=n}}class GD{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $P{constructor(){this.ve=0,this.Fe=WP(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:s})}}),new kf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V${constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=bd(),this.He=bd(),this.Ye=new vt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ev(s))if(r===0){const o=new ne(s.path);this.et(n,o,Mn.newNoDocument(o,he.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=$o(r).toUint8Array()}catch(l){if(l instanceof _D)return xu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Uw(o,i,s)}catch(l){return xu(l instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ev(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Mn.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Ae();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new lg(e,n,this.Ye,this.je,r);return this.je=Fs(),this.Je=bd(),this.He=bd(),this.Ye=new vt(Pe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $P,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $P),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new vt(ne.comparator)}function WP(){return new vt(ne.comparator)}const L$={asc:"ASCENDING",desc:"DESCENDING"},F$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U$={and:"AND",or:"OR"};class j${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||eg(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z$(t,e){return dm(t,e.toTimestamp())}function ns(t){return Le(!!t,49232),he.fromTimestamp(function(n){const r=Bo(n);return new tt(r.seconds,r.nanos)}(t))}function jw(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XD(t){const e=mt.fromString(t);return Le(eO(e),10190,{key:e.toString()}),e}function iv(t,e){return jw(t.databaseId,e.path)}function zy(t,e){const n=XD(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(QD(n))}function YD(t,e){return jw(t.databaseId,e)}function B$(t){const e=XD(t);return e.length===4?mt.emptyPath():QD(e)}function sv(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QD(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HP(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function $$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Le(c===void 0||typeof c=="string",58123),En.fromBase64String(c||"")):(Le(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),En.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?$.UNKNOWN:HD(u.code);return new Z(c,u.message||"")}(o);n=new GD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zy(t,r.document.name),s=ns(r.document.updateTime),o=r.document.createTime?ns(r.document.createTime):he.min(),a=new Lr({mapValue:{fields:r.document.fields}}),l=Mn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new up(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zy(t,r.document),s=r.readTime?ns(r.readTime):he.min(),o=Mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new up([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zy(t,r.document),s=r.removedTargetIds||[];n=new up([],s,i,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new D$(i,s),a=r.targetId;n=new qD(a,o)}}return n}function W$(t,e){let n;if(e instanceof ag)n={update:HP(t,e.key,e.value)};else if(e instanceof WD)n={delete:iv(t,e.key)};else if(e instanceof nl)n={update:HP(t,e.key,e.data),updateMask:Z$(e.fieldMask)};else{if(!(e instanceof R$))return oe(16599,{Vt:e.type});n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fm)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:z$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe(27497)}(t,e.precondition)),n}function H$(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ns(i.updateTime):ns(s);return o.isEqual(he.min())&&(o=ns(s)),new A$(o,i.transformResults||[])}(n,e))):[]}function q$(t,e){return{documents:[YD(t,e.path)]}}function G$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YD(t,i);const s=function(u){if(u.length!==0)return ZD(us.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:_l(d.field),direction:Y$(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function K$(t){let e=B$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=JD(f);return d instanceof us&&CD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(y){return new cm(vl(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,eg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new um(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new um(p,d)}(n.endAt)),f$(e,i,o,s,a,"F",l,u)}function X$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vl(n.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vl(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vl(n.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(vl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return us.create(n.compositeFilter.filters.map(r=>JD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function Y$(t){return L$[t]}function Q$(t){return F$[t]}function J$(t){return U$[t]}function _l(t){return{fieldPath:t.canonicalString()}}function vl(t){return yn.fromServerFormat(t.fieldPath)}function ZD(t){return t instanceof Yt?function(n){if(n.op==="=="){if(DP(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(kP(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DP(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(kP(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:Q$(n.op),value:n.value}}}(t):t instanceof us?function(n){const r=n.getFilters().map(i=>ZD(i));return r.length===1?r[0]:{compositeFilter:{op:J$(n.op),filters:r}}}(t):oe(54877,{filter:t})}function Z$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,i,s=he.min(),o=he.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.yt=e}}function t8(t){const e=K$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.Cn=new r8}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(zo.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class r8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tO=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(tO,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cu(0)}static cr(){return new Cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="LruGarbageCollector",i8=1048576;function KP([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class s8{constructor(e){this.Ir=e,this.buffer=new Jt(KP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(GP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$u(n)?X(GP,"Ignoring IndexedDB error during garbage collection: ",n):await Bu(n)}await this.Vr(3e5)})}}class a8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Zm.ce);const r=new s8(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(qP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qP):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),gl()<=xe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function l8(t,e){return new a8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_h(r.mutation,i,Ci.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Sa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fs();const o=yh(),a=function(){return yh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof nl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),_h(c.mutation,u,c.mutation.getFieldMask(),tt.now())):o.set(u.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>a.set(u,new c8(c,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=yh();let i=new vt((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ci.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=VD();c.forEach(d=>{if(!s.has(d)){const p=BD(n.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Sa());let a=of,l=s;return o.next(u=>z.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:a,changes:ND(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nc();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(f,d){return new ng(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Mn.newInvalidDocument(c)))});let a=Nc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&_h(c.mutation,u,Ci.empty(),tt.now()),ig(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ns(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:t8(i.bundledQuery),readTime:ns(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.overlays=new vt(ne.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Sa(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Sa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Sa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k$(n,r));let s=this.qr.get(n);s===void 0&&(s=Ae(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Qr=new Jt(nn.$r),this.Ur=new Jt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new mt([])),r=new nn(n,e),i=new nn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new mt([])),r=new nn(n,e),i=new nn(n,e+1);let s=Ae();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(nn.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?kw:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Pe);return n.forEach(i=>{const s=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new nn(new ne(s),0);let a=new Jt(Pe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new nn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new nn(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.ri=e,this.docs=function(){return new vt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fs();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WB($B(c),r)<=0||(i.has(c.key)||ig(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y8(this)}getSize(e){return z.resolve(this.size)}}class y8 extends u8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.persistence=e,this.si=new tl(n=>Mw(n),Nw),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new zw,this.targetCount=0,this.ai=Cu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zm(0),this.li=!1,this.li=!0,this.hi=new p8,this.referenceDelegate=e(this),this.Pi=new _8(this),this.indexManager=new n8,this.remoteDocumentCache=function(i){return new g8(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new e8(n),this.Ii=new f8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new m8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new v8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class v8 extends qB{constructor(e){super(),this.currentSequenceNumber=e}}class Bw{constructor(e){this.persistence=e,this.Ri=new zw,this.Vi=null}static mi(e){return new Bw(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pm{constructor(e,n){this.persistence=e,this.pi=new tl(r=>XB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=l8(this,n)}static mi(e,n){return new pm(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,he.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=op(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $w(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fz()?8:GB(Un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new w8;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(gl()<=xe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(gl()<=xe.DEBUG&&X("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(gl()<=xe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(n))):z.resolve())}ys(e,n){if(VP(n))return z.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tv(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,tv(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return VP(n)||i.isEqual(he.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(gl()<=xe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yl(n)),this.vs(e,o,n,BB(i,of)).next(a=>a))})}Ds(e,n){let r=new Jt(OD(e));return n.forEach((i,s)=>{ig(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return gl()<=xe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,zo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="LocalStore",E8=3e8;class S8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new vt(Pe),this.xs=new tl(s=>Mw(s),Nw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function x8(t,e,n,r){return new S8(t,e,n,r)}async function rO(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ae();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function P8(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=z.resolve();return d.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(g=>{const E=u.docVersions.get(y);Le(E!==null,48541),g.version.compareTo(E)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iO(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function A8(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,c.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(En.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=E8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(s,p))});let l=Fs(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(I8(s,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(he.min())){const c=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function I8(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(Ww,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function C8(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R8(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ov(t,e,n){const r=fe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$u(o))throw o;X(Ww,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function XP(t,e,n){const r=fe(t);let i=he.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=fe(l),d=f.xs.get(c);return d!==void 0?z.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(r,o,ts(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:Ae())).next(a=>(b8(r,m$(e),a),{documents:a,Qs:s})))}function b8(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class YP{constructor(){this.activeTargetIds=T$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k8{constructor(){this.Mo=new YP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="ConnectivityMonitor";class JP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(QP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(QP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd=null;function av(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="RestConnection",O8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===am?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=av(),a=this.zo(e,n.toUriEncodedString());X(By,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),c=Uu(u);return this.Jo(e,a,l,r,c).then(f=>(X(By,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xu(By,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=O8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class V8 extends M8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=av();return new Promise((a,l)=>{const u=new lD;u.setWithCredentials(!0),u.listenOnce(uD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sp.NO_ERROR:const f=u.getResponseJson();X(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case sp.TIMEOUT:X(Cn,`RPC '${e}' ${o} timed out`),l(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const d=u.getStatus();if(X(Cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const g=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(y.status);l(new Z(g,y.message))}else l(new Z($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Cn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);X(Cn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=av(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fD(),a=hD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");X(Cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const y=new N8({Yo:E=>{p?X(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(X(Cn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),X(Cn,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),g=(E,v,_)=>{E.listen(v,S=>{try{_(S)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,Mc.EventType.OPEN,()=>{p||(X(Cn,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Mc.EventType.CLOSE,()=>{p||(p=!0,X(Cn,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Mc.EventType.ERROR,E=>{p||(p=!0,xu(Cn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),y.a_(new Z($.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mc.EventType.MESSAGE,E=>{var v;if(!p){const _=E.data[0];Le(!!_,16349);const S=_,A=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(A){X(Cn,`RPC '${e}' stream ${i} received error:`,A);const C=A.status;let O=function(P){const I=Lt[P];if(I!==void 0)return HD(I)}(C),x=A.message;O===void 0&&(O=$.INTERNAL,x="Unknown error status: "+C+" with message "+A.message),p=!0,y.a_(new Z(O,x)),f.close()}else X(Cn,`RPC '${e}' stream ${i} received:`,_),y.u_(_)}}),g(a,cD.STAT_EVENT,E=>{E.stat===X0.PROXY?X(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===X0.NOPROXY&&X(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function $y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){return new j$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="PersistentStream";class oO{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(ZP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(ZP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L8 extends oO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$$(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?ns(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ev(l)?{documents:q$(s,l)}:{query:G$(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KD(s,o.resumeToken);const u=nv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=dm(s,o.snapshotVersion.toTimestamp());const u=nv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=X$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.q_(n)}}class F8 extends oO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H$(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{}class j8 extends U8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,rv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z($.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,rv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class z8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class B8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{rl(this)&&(X(Xa,"Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.Ea.add(4),await Df(u),u.Ra.set("Unknown"),u.Ea.delete(4),await cg(u)}(this))})}),this.Ra=new z8(r,i)}}async function cg(t){if(rl(t))for(const e of t.da)await e(!0)}async function Df(t){for(const e of t.da)await e(!1)}function aO(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kw(n)?Gw(n):Wu(n).O_()&&qw(n,e))}function Hw(t,e){const n=fe(t),r=Wu(n);n.Ia.delete(e),r.O_()&&lO(n,e),n.Ia.size===0&&(r.O_()?r.L_():rl(n)&&n.Ra.set("Unknown"))}function qw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(t).Y_(e)}function lO(t,e){t.Va.Ue(e),Wu(t).Z_(e)}function Gw(t){t.Va=new V$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.Ra.ua()}function Kw(t){return rl(t)&&!Wu(t).x_()&&t.Ia.size>0}function rl(t){return fe(t).Ea.size===0}function uO(t){t.Va=void 0}async function $8(t){t.Ra.set("Online")}async function W8(t){t.Ia.forEach((e,n)=>{qw(t,e)})}async function H8(t,e){uO(t),Kw(t)?(t.Ra.ha(e),Gw(t)):t.Ra.set("Unknown")}async function q8(t,e,n){if(t.Ra.set("Online"),e instanceof GD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){X(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mm(t,r)}else if(e instanceof up?t.Va.Ze(e):e instanceof qD?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await iO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(En.EMPTY_BYTE_STRING,c.snapshotVersion)),lO(s,l);const f=new go(c.target,l,u,c.sequenceNumber);qw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Xa,"Failed to raise snapshot:",r),await mm(t,r)}}async function mm(t,e,n){if(!$u(e))throw e;t.Ea.add(1),await Df(t),t.Ra.set("Offline"),n||(n=()=>iO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cg(t)})}function cO(t,e){return e().catch(n=>mm(t,n,e))}async function hg(t){const e=fe(t),n=Ho(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kw;for(;G8(e);)try{const i=await C8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,K8(e,i)}catch(i){await mm(e,i)}hO(e)&&fO(e)}function G8(t){return rl(t)&&t.Ta.length<10}function K8(t,e){t.Ta.push(e);const n=Ho(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hO(t){return rl(t)&&!Ho(t).x_()&&t.Ta.length>0}function fO(t){Ho(t).start()}async function X8(t){Ho(t).ra()}async function Y8(t){const e=Ho(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q8(t,e,n){const r=t.Ta.shift(),i=Fw.from(r,e,n);await cO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hg(t)}async function J8(t,e){e&&Ho(t).X_&&await async function(r,i){if(function(o){return O$(o)&&o!==$.ABORTED}(i.code)){const s=r.Ta.shift();Ho(r).B_(),await cO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hg(r)}}(t,e),hO(t)&&fO(t)}async function eA(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),X(Xa,"RemoteStore received new credentials");const r=rl(n);n.Ea.add(3),await Df(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cg(n)}async function Z8(t,e){const n=fe(t);e?(n.Ea.delete(2),await cg(n)):e||(n.Ea.add(2),await Df(n),n.Ra.set("Unknown"))}function Wu(t){return t.ma||(t.ma=function(n,r,i){const s=fe(n);return s.sa(),new L8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:$8.bind(null,t),t_:W8.bind(null,t),r_:H8.bind(null,t),H_:q8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Kw(t)?Gw(t):t.Ra.set("Unknown")):(await t.ma.stop(),uO(t))})),t.ma}function Ho(t){return t.fa||(t.fa=function(n,r,i){const s=fe(n);return s.sa(),new F8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:X8.bind(null,t),r_:J8.bind(null,t),ta:Y8.bind(null,t),na:Q8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hg(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Xw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yw(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),$u(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{static emptySet(e){return new tu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.ga=new vt(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ru{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ru(e,n,tu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class t7{constructor(){this.queries=nA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=nA(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}}function nA(){return new tl(t=>DD(t),rg)}async function n7(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new e7,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Yw(o,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Qw(n)}async function r7(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i7(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Qw(n)}function s7(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Qw(t){t.Ca.forEach(e=>{e.next()})}var lv,rA;(rA=lv||(lv={})).Ma="default",rA.Cache="cache";class o7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.key=e}}class pO{constructor(e){this.key=e}}class a7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=OD(e),this.tu=new tu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tA,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=ig(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),E=!0):this.su(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(p,y){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:E})}};return g(p)-g(y)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ru(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new pO(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new dO(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jw="SyncEngine";class l7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u7{constructor(e){this.key=e,this.hu=!1}}class c7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new tl(a=>DD(a),rg),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ne.comparator),this.Au=new Map,this.Ru=new zw,this.Vu={},this.mu=new Map,this.fu=Cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h7(t,e,n=!0){const r=wO(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await mO(r,e,n,!0),i}async function f7(t,e){const n=wO(t);await mO(n,e,!0,!1)}async function mO(t,e,n,r){const i=await R8(t.localStore,ts(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await d7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&aO(t.remoteStore,i),a}async function d7(t,e,n,r,i){t.pu=(f,d,p)=>async function(g,E,v,_){let S=E.view.ru(v);S.Cs&&(S=await XP(g.localStore,E.query,!1).then(({documents:x})=>E.view.ru(x,S)));const A=_&&_.targetChanges.get(E.targetId),C=_&&_.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,g.isPrimaryClient,A,C);return sA(g,E.targetId,O.au),O.snapshot}(t,f,d,p);const s=await XP(t.localStore,e,!0),o=new a7(e,s.Qs),a=o.ru(s.documents),l=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);sA(t,n,u.au);const c=new l7(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function p7(t,e,n){const r=fe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!rg(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ov(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hw(r.remoteStore,i.targetId),uv(r,i.targetId)}).catch(Bu)):(uv(r,i.targetId),await ov(r.localStore,i.targetId,!0))}async function m7(t,e){const n=fe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hw(n.remoteStore,r.targetId))}async function g7(t,e,n){const r=S7(t);try{const i=await function(o,a){const l=fe(o),u=tt.now(),c=a.reduce((p,y)=>p.add(y.key),Ae());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Fs(),g=Ae();return l.Ns.getEntries(p,c).next(E=>{y=E,y.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(E=>{f=E;const v=[];for(const _ of a){const S=C$(_,f.get(_.key).overlayedDocument);S!=null&&v.push(new nl(_.key,S,PD(S.value.mapValue),As.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(E=>{d=E;const v=E.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:d.batchId,changes:ND(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new vt(Pe)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Of(r,i.changes),await hg(r.remoteStore)}catch(i){const s=Yw(i,"Failed to persist write");n.reject(s)}}async function gO(t,e){const n=fe(t);try{const r=await A8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Le(o.hu,14607):i.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Of(n,r,e)}catch(r){await Bu(r)}}function iA(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(a)&&(u=!0)}),u&&Qw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y7(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new vt(ne.comparator);o=o.insert(s,Mn.newNoDocument(s,he.min()));const a=Ae().add(s),l=new lg(he.min(),new Map,new vt(Pe),o,a);await gO(r,l),r.du=r.du.remove(s),r.Au.delete(e),Zw(r)}else await ov(r.localStore,e,!1).then(()=>uv(r,e,n)).catch(Bu)}async function _7(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await P8(n.localStore,e);_O(n,r,null),yO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Of(n,i)}catch(i){await Bu(i)}}async function v7(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_O(r,e,n),yO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Of(r,i)}catch(i){await Bu(i)}}function yO(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _O(t,e,n){const r=fe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||vO(t,r)})}function vO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zw(t))}function sA(t,e,n){for(const r of n)r instanceof dO?(t.Ru.addReference(r.key,e),w7(t,r)):r instanceof pO?(X(Jw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vO(t,r.key)):oe(19791,{wu:r})}function w7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(Jw,"New document in limbo: "+n),t.Eu.add(r),Zw(t))}function Zw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(mt.fromString(e)),r=t.fu.next();t.Au.set(r,new u7(n)),t.du=t.du.insert(n,r),aO(t.remoteStore,new go(ts(Vw(n.path)),r,"TargetPurposeLimboResolution",Zm.ce))}}async function Of(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=$w.As(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=fe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,d=>z.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>z.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!$u(f))throw f;X(Ww,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);c.Ms=c.Ms.insert(d,g)}}}(r.localStore,s))}async function T7(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){X(Jw,"User change. New user:",e.toKey());const r=await rO(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z($.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Of(n,r.Ls)}}function E7(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let i=Ae();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function wO(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y7.bind(null,e),e.Pu.H_=i7.bind(null,e.eventManager),e.Pu.yu=s7.bind(null,e.eventManager),e}function S7(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v7.bind(null,e),e}class gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return x8(this.persistence,new T8,e.initialUser,this.serializer)}Cu(e){return new nO(Bw.mi,this.serializer)}Du(e){return new k8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gm.provider={build:()=>new gm};class x7 extends gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new nO(r=>pm.mi(r,n),this.serializer)}}class cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T7.bind(null,this.syncEngine),await Z8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t7}()}createDatastore(e){const n=ug(e.databaseInfo.databaseId),r=function(s){return new V8(s)}(e.databaseInfo);return function(s,o,a,l){return new j8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new B8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iA(this.syncEngine,n,0),function(){return JP.v()?new JP:new D8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new c7(i,s,o,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);X(Xa,"RemoteStore shutting down."),s.Ea.add(5),await Df(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cv.provider={build:()=>new cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="FirestoreClient";class A7{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X(qo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(qo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress(),X(qo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I7(t);X(qo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eA(e.remoteStore,i)),t._onlineComponents=e}async function I7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(qo,"Using user provided OfflineComponentProvider");try{await Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await Wy(t,new gm)}}else X(qo,"Using default OfflineComponentProvider"),await Wy(t,new x7(void 0));return t._offlineComponents}async function TO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(qo,"Using user provided OnlineComponentProvider"),await oA(t,t._uninitializedComponentsProvider._online)):(X(qo,"Using default OnlineComponentProvider"),await oA(t,new cv))),t._onlineComponents}function C7(t){return TO(t).then(e=>e.syncEngine)}async function R7(t){const e=await TO(t),n=e.eventManager;return n.onListen=h7.bind(null,e.syncEngine),n.onUnlisten=p7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m7.bind(null,e.syncEngine),n}function b7(t,e,n={}){const r=new Oo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new P7({next:d=>{c.Nu(),o.enqueueAndForget(()=>r7(s,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new o7(Vw(a.path),c,{includeMetadataChanges:!0,qa:!0});return n7(s,f)}(await R7(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firestore.googleapis.com",lA=!0;class uA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SO,this.ssl=lA}else this.host=e.host,this.ssl=e.ssl??lA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i8)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EO(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bB;switch(r.type){case"firstParty":return new MB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aA.get(n);r&&(X("ComponentProvider","Removing Datastore"),aA.delete(n),r.terminate())}(this),Promise.resolve()}}function k7(t,e,n,r={}){var u;t=sf(t,eT);const i=Uu(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Z2(`https://${a}`),eD("Firestore",!0)),s.host!==SO&&s.host!==a&&xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!qa(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Dn.MOCK_USER;else{c=rz(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dn(d)}t._authCredentials=new kB(new pD(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tT(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bf(n,on._jsonSchema))return new on(e,r||null,new ne(mt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:$t("string",on._jsonSchemaVersion),referencePath:$t("string")};class ff extends tT{constructor(e,n,r){super(e,n,Vw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ne(e))}withConverter(e){return new ff(this.firestore,e,this._path)}}function hv(t,e,...n){if(t=jn(t),arguments.length===1&&(e=Rw.newId()),jB("doc","path",e),t instanceof eT){const r=mt.fromString(e,...n);return SP(r),new on(t,null,new ne(r))}{if(!(t instanceof on||t instanceof ff))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return SP(r),new on(t.firestore,t instanceof ff?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="AsyncQueue";class hA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sO(this,"async_queue_retry"),this._c=()=>{const r=$y();r&&X(cA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$y();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Oo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$u(e))throw e;X(cA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",fA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Xw.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:fA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nT extends eT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hA(e),this._firestoreClient=void 0,await e}}}function D7(t,e){const n=typeof t=="object"?t:iD(),r=typeof t=="string"?t:am,i=Iw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tz("firestore");s&&k7(i,...s)}return i}function xO(t){if(t._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O7(t),t._firestoreClient}function O7(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,c){return new JB(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,EO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new A7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(En.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bf(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:$t("string",ii._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(bf(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:$t("string",rs._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bf(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new is(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:$t("string",is._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=/^__.*__$/;class PO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new nl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class iT{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AO(this.Ac)&&M7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ug(e)}Cc(e,n,r,i=!1){return new iT({Ac:e,methodName:n,Dc:r,path:yn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V7(t){const e=t._freezeSettings(),n=ug(t._databaseId);return new N7(t._databaseId,!!e.ignoreUndefinedProperties,n)}class dg extends rT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dg}}function L7(t,e,n,r){const i=t.Cc(1,e,n);CO("Data must be an object, but it was:",i,r);const s=[],o=Lr.empty();Zo(r,(l,u)=>{const c=sT(e,l,n);u=jn(u);const f=i.yc(c);if(u instanceof dg)s.push(c);else{const d=pg(u,f);d!=null&&(s.push(c),o.set(c,d))}});const a=new Ci(s);return new PO(o,a,i.fieldTransforms)}function F7(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[dA(e,r,n)],l=[i];if(s.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(dA(e,s[d])),l.push(s[d+1]);const u=[],c=Lr.empty();for(let d=a.length-1;d>=0;--d)if(!z7(u,a[d])){const p=a[d];let y=l[d];y=jn(y);const g=o.yc(p);if(y instanceof dg)u.push(p);else{const E=pg(y,g);E!=null&&(u.push(p),c.set(p,E))}}const f=new Ci(u);return new PO(c,f,o.fieldTransforms)}function pg(t,e){if(IO(t=jn(t)))return CO("Unsupported field value:",e,t),U7(t,e);if(t instanceof rT)return function(r,i){if(!AO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=pg(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tt.fromDate(r);return{timestampValue:dm(i.serializer,s)}}if(r instanceof tt){const s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,s)}}if(r instanceof rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:KD(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof is)return function(o,a){return{mapValue:{fields:{[SD]:{stringValue:xD},[lm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Lw(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${bw(r)}`)}(t,e)}function U7(t,e){const n={};return yD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(r,i)=>{const s=pg(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof rs||t instanceof ii||t instanceof on||t instanceof rT||t instanceof is)}function CO(t,e,n){if(!IO(n)||!mD(n)){const r=bw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dA(t,e,n){if((e=jn(e))instanceof fg)return e._internalPath;if(typeof e=="string")return sT(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const j7=new RegExp("[~\\*/\\[\\]]");function sT(t,e,n){if(e.search(j7)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fg(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z($.INVALID_ARGUMENT,a+t+l)}function z7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B7 extends RO{data(){return super.data()}}function bO(t,e){return typeof e=="string"?sT(t,e):e instanceof fg?e._internalPath:e._delegate._internalPath}class $7{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[lm].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>kt(o.doubleValue));return new is(n)}convertGeoPoint(e){return new rs(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);Le(eO(r),9688,{name:e});const i=new lf(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends RO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:$t("string",Na._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class cp extends Na{data(e={}){return super.data(e)}}class vh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cp(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:W7(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){t=sf(t,on);const e=sf(t.firestore,nT);return b7(xO(e),t._key).then(n=>K7(e,t,n))}vh._jsonSchemaVersion="firestore/querySnapshot/1.0",vh._jsonSchema={type:$t("string",vh._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class H7 extends $7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function q7(t,e,n,...r){t=sf(t,on);const i=sf(t.firestore,nT),s=V7(i);let o;return o=typeof(e=jn(e))=="string"||e instanceof fg?F7(s,"updateDoc",t._key,e,n,r):L7(s,"updateDoc",t._key,e),G7(i,[o.toMutation(t._key,As.exists(!0))])}function G7(t,e){return function(r,i){const s=new Oo;return r.asyncQueue.enqueueAndForget(async()=>g7(await C7(r),i,s)),s.promise}(xO(t),e)}function K7(t,e,n){const r=n.docs.get(e._key),i=new H7(t);return new Na(t,i,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){zu=i})(ju),Su(new Ga("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new nT(new DB(r.getProvider("auth-internal")),new NB(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(u.options.projectId,c)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ko(vP,wP,e),ko(vP,wP,"esm2020")})();var X7="firebase",Y7="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(X7,Y7,"app");function DO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q7=DO,OO=new Cf("auth","Firebase",DO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Pw("@firebase/auth");function J7(t,...e){_m.logLevel<=xe.WARN&&_m.warn(`Auth (${ju}): ${t}`,...e)}function hp(t,...e){_m.logLevel<=xe.ERROR&&_m.error(`Auth (${ju}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw oT(t,...e)}function ss(t,...e){return oT(t,...e)}function MO(t,e,n){const r={...Q7(),[e]:n};return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function Mo(t){return MO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OO.create(t,...e)}function se(t,e,...n){if(!t)throw oT(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function Us(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Z7(){return pA()==="http:"||pA()==="https:"}function pA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z7()||uz()||"connection"in navigator)?navigator.onLine:!0}function tW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=oz()||cz()}get(){return eW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iW=new Mf(3e4,6e4);function il(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ea(t,e,n,r,i={}){return VO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Rf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return lz()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Uu(t.emulatorConfig.host)&&(u.credentials="include"),NO.fetch()(await LO(t,t.config.apiHost,n,a),u)})}async function VO(t,e,n){t._canInitEmulator=!1;const r={...nW,...e};try{const i=new oW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MO(t,c,u);Ni(t,c)}}catch(i){if(i instanceof zs)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function mg(t,e,n,r,i={}){const s=await ea(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function LO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?aT(t.config,i):`${t.config.apiScheme}://${i}`;return rW.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function sW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),iW.get())})}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}function mA(t){return t!==void 0&&t.enterprise!==void 0}class aW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lW(t,e){return ea(t,"GET","/v2/recaptchaConfig",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uW(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function vm(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cW(t,e=!1){const n=jn(t),r=await n.getIdToken(e),i=lT(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wh(Hy(i.auth_time)),issuedAtTime:wh(Hy(i.iat)),expirationTime:wh(Hy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hy(t){return Number(t)*1e3}function lT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=X2(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gA(t){const e=lT(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zs&&hW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var f;const e=t.auth,n=await t.getIdToken(),r=await df(t,vm(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?FO(i.providerUserInfo):[],o=pW(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function dW(t){const e=jn(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e){const n=await VO(t,{},async()=>{const r=Rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await LO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Uu(t.emulatorConfig.host)&&(l.credentials="include"),NO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gW(t,e){return ea(t,"POST","/v2/accounts:revokeToken",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=gA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nu;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new fW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await df(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cW(this,e)}reload(){return dW(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await df(this,uW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:y,stsTokenManager:g}=n;se(f&&g,e,"internal-error");const E=nu.fromJSON(this.name,g);se(typeof f=="string",e,"internal-error"),Ys(r,e.name),Ys(i,e.name),se(typeof d=="boolean",e,"internal-error"),se(typeof p=="boolean",e,"internal-error"),Ys(s,e.name),Ys(o,e.name),Ys(a,e.name),Ys(l,e.name),Ys(u,e.name),Ys(c,e.name);const v=new Ri({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:c});return y&&Array.isArray(y)&&(v.providerData=y.map(_=>({..._}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new nu;i.updateFromServerResponse(n);const s=new Ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?FO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new nu;a.updateFromIdToken(r);const l=new Ri({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Map;function Ss(t){Us(t instanceof Function,"Expected a class definition");let e=yA.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UO.type="NONE";const _A=UO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e,n){return`firebase:${t}:${e}:${n}`}class ru{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fp(this.userKey,i.apiKey,s),this.fullPersistenceKey=fp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vm(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ru(Ss(_A),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ss(_A);const o=fp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const d=await vm(e,{idToken:c}).catch(()=>{});if(!d)break;f=await Ri._fromGetAccountInfoResponse(e,d,c)}else f=Ri._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ru(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ru(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HO(e))return"Blackberry";if(qO(e))return"Webos";if(zO(e))return"Safari";if((e.includes("chrome/")||BO(e))&&!e.includes("edge/"))return"Chrome";if(WO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jO(t=Un()){return/firefox\//i.test(t)}function zO(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BO(t=Un()){return/crios\//i.test(t)}function $O(t=Un()){return/iemobile/i.test(t)}function WO(t=Un()){return/android/i.test(t)}function HO(t=Un()){return/blackberry/i.test(t)}function qO(t=Un()){return/webos/i.test(t)}function uT(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yW(t=Un()){var e;return uT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _W(){return hz()&&document.documentMode===10}function GO(t=Un()){return uT(t)||WO(t)||qO(t)||HO(t)||/windows phone/i.test(t)||$O(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e=[]){let n;switch(t){case"Browser":n=vA(Un());break;case"Worker":n=`${vA(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e={}){return ea(t,"GET","/v2/passwordPolicy",il(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=6;class EW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wA(this),this.idTokenSubscription=new wA(this),this.beforeStateQueue=new vW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vm(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ii(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(Mo(this));const n=e?jn(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wW(this),n=new EW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&J7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hu(t){return jn(t)}class wA{constructor(e){this.auth=e,this.observer=null,this.addObserver=vz(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xW(t){gg=t}function XO(t){return gg.loadJS(t)}function PW(){return gg.recaptchaEnterpriseScript}function AW(){return gg.gapiScript}function IW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CW{constructor(){this.enterprise=new RW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bW="recaptcha-enterprise",YO="NO_RECAPTCHA";class kW{constructor(e){this.type=bW,this.auth=Hu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{lW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new aW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;mA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(YO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CW().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&mA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PW();l.length!==0&&(l+=a),XO(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function TA(t,e,n,r=!1,i=!1){const s=new kW(t);let o;if(i)o=YO;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function EA(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await TA(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){const n=Iw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qa(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function OW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MW(t,e,n){const r=Hu(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=QO(e),{host:o,port:a}=NW(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(qa(u,r.config.emulator)&&qa(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Uu(o)?(Z2(`${s}//${o}${l}`),eD("Auth",!0)):VW()}function QO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NW(t){const e=QO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:SA(o)}}}function SA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function LW(t,e){return ea(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e){return mg(t,"POST","/v1/accounts:signInWithPassword",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e){return mg(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}async function jW(t,e){return mg(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends cT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EA(e,n,"signInWithPassword",FW);case"emailLink":return UW(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EA(e,r,"signUpPassword",LW);case"emailLink":return jW(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e){return mg(t,"POST","/v1/accounts:signInWithIdp",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="http://localhost";class Ya extends cT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Ya(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return iu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,iu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,iu(e,n)}buildRequest(){const e={requestUri:zW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $W(t){const e=Dc(Oc(t)).link,n=e?Dc(Oc(e)).deep_link_id:null,r=Dc(Oc(t)).deep_link_id;return(r?Dc(Oc(r)).link:null)||r||n||e||t}class hT{constructor(e){const n=Dc(Oc(e)),r=n.apiKey??null,i=n.oobCode??null,s=BW(n.mode??null);se(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$W(e);try{return new hT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(e,n){return pf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hT.parseLink(n);return se(r,"argument-error"),pf._fromEmailAndCode(e,r.code,r.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends JO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Nf{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Nf{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Nf{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ri._fromIdTokenResponse(e,r,i),o=xA(r);return new bu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xA(r);return new bu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends zs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tm(e,n,r,i)}}function ZO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,s,e,r):s})}async function WW(t,e,n=!1){const r=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e,n=!1){const{auth:r}=t;if(Ii(r.app))return Promise.reject(Mo(r));const i="reauthenticate";try{const s=await df(t,ZO(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=lT(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),bu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e,n=!1){if(Ii(t.app))return Promise.reject(Mo(t));const r="signIn",i=await ZO(t,r,e),s=await bu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qW(t,e){return eM(Hu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t){const e=Hu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KW(t,e,n){return Ii(t.app)?Promise.reject(Mo(t)):qW(jn(t),qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GW(t),r})}function XW(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function YW(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}function QW(t,e,n,r){return jn(t).onAuthStateChanged(e,n,r)}function JW(t){return jn(t).signOut()}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=1e3,eH=10;class nM extends tM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_W()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nM.type="LOCAL";const tH=nM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM extends tM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rM.type="SESSION";const iM=rM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await nH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=fT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function iH(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function sH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function aH(){return sM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebaseLocalStorageDb",lH=1,Sm="firebaseLocalStorage",aM="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _g(t,e){return t.transaction([Sm],e?"readwrite":"readonly").objectStore(Sm)}function uH(){const t=indexedDB.deleteDatabase(oM);return new Vf(t).toPromise()}function pv(){const t=indexedDB.open(oM,lH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sm,{keyPath:aM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sm)?e(r):(r.close(),await uH(),e(await pv()))})})}async function PA(t,e,n){const r=_g(t,!0).put({[aM]:e,value:n});return new Vf(r).toPromise()}async function cH(t,e){const n=_g(t,!1).get(e),r=await new Vf(n).toPromise();return r===void 0?null:r.value}function AA(t,e){const n=_g(t,!0).delete(e);return new Vf(n).toPromise()}const hH=800,fH=3;class lM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yg._getInstance(aH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sH(),!this.activeServiceWorker)return;this.sender=new rH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pv();return await PA(e,Em,"1"),await AA(e,Em),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_g(i,!1).getAll();return new Vf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lM.type="LOCAL";const dH=lM;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t,e){return e?Ss(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends cT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mH(t){return eM(t.auth,new dT(t),t.bypassAuthState)}function gH(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),HW(n,new dT(t),t.bypassAuthState)}async function yH(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),WW(n,new dT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mH;case"linkViaPopup":case"linkViaRedirect":return yH;case"reauthViaPopup":case"reauthViaRedirect":return gH;default:Ni(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new Mf(2e3,1e4);class zl extends uM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zl.currentPopupAction&&zl.currentPopupAction.cancel(),zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=fT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_H.get())};e()}}zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="pendingRedirect",dp=new Map;class wH extends uM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dp.get(this.auth._key());if(!e){try{const r=await TH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dp.set(this.auth._key(),e)}return this.bypassAuthState||dp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TH(t,e){const n=xH(e),r=SH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EH(t,e){dp.set(t._key(),e)}function SH(t){return Ss(t._redirectPersistence)}function xH(t){return fp(vH,t.config.apiKey,t.name)}async function PH(t,e,n=!1){if(Ii(t.app))return Promise.reject(Mo(t));const r=Hu(t),i=pH(r,e),o=await new wH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=10*60*1e3;class IH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AH&&this.cachedEventUids.clear(),this.cachedEventUids.has(IA(e))}saveEventToCache(e){this.cachedEventUids.add(IA(e)),this.lastProcessedEventTime=Date.now()}}function IA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kH=/^https?/;async function DH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RH(t);for(const n of e)try{if(OH(n))return}catch{}Ni(t,"unauthorized-domain")}function OH(t){const e=fv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kH.test(n))return!1;if(bH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new Mf(3e4,6e4);function CA(){const t=os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NH(t){return new Promise((e,n)=>{var i,s,o;function r(){CA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CA(),n(ss(t,"network-request-failed"))},timeout:MH.get()})}if((s=(i=os().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=os().gapi)!=null&&o.load)r();else{const a=IW("iframefcb");return os()[a]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},XO(`${AW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pp=null,e})}let pp=null;function VH(t){return pp=pp||NH(t),pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new Mf(5e3,15e3),FH="__/auth/iframe",UH="emulator/auth/iframe",jH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BH(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aT(e,UH):`https://${t.config.authDomain}/${FH}`,r={apiKey:e.apiKey,appName:t.name,v:ju},i=zH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rf(r).slice(1)}`}async function $H(t){const e=await VH(t),n=os().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:BH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),a=os().setTimeout(()=>{s(o)},LH.get());function l(){os().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HH=500,qH=600,GH="_blank",KH="http://localhost";class RA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XH(t,e,n,r=HH,i=qH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...WH,width:r.toString(),height:i.toString(),top:s,left:o},u=Un().toLowerCase();n&&(a=BO(u)?GH:n),jO(u)&&(e=e||KH,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,y])=>`${d}${p}=${y},`,"");if(yW(u)&&a!=="_self")return YH(e||"",a),new RA(null);const f=window.open(e||"",a,c);se(f,t,"popup-blocked");try{f.focus()}catch{}return new RA(f)}function YH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="__/auth/handler",JH="emulator/auth/handler",ZH=encodeURIComponent("fac");async function bA(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(e instanceof JO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_z(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Nf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${ZH}=${encodeURIComponent(l)}`:"";return`${eq(t)}?${Rf(a).slice(1)}${u}`}function eq({config:t}){return t.emulator?aT(t,JH):`https://${t.authDomain}/${QH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="webStorageSupport";class tq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iM,this._completeRedirectFn=PH,this._overrideRedirectResult=EH}async _openPopup(e,n,r,i){var o;Us((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await bA(e,n,r,fv(),i);return XH(e,s,fT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bA(e,n,r,fv(),i);return iH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $H(e),r=new IH(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qy,{type:qy},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[qy];s!==void 0&&n(!!s),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GO()||zO()||uT()}}const nq=tq;var kA="@firebase/auth",DA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sq(t){Su(new Ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KO(t)},u=new SW(r,i,s,l);return OW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Su(new Ga("auth-internal",e=>{const n=Hu(e.getProvider("auth").getImmediate());return(r=>new rq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(kA,DA,iq(t)),ko(kA,DA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=5*60,aq=J2("authIdTokenMaxAge")||oq;let OA=null;const lq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aq)return;const i=n==null?void 0:n.token;OA!==i&&(OA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uq(t=iD()){const e=Iw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DW(t,{popupRedirectResolver:nq,persistence:[dH,tH,iM]}),r=J2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lq(s.toString());YW(n,o,()=>o(n.currentUser)),XW(n,a=>o(a))}}const i=Y2("auth");return i&&MW(n,`http://${i}`),n}function cq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ss("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sq("Browser");const hq={apiKey:"AIzaSyCpfaaPHDHntMh6fm92185BSZUafTQaToM",authDomain:"universo8090-59410.firebaseapp.com",projectId:"universo8090-59410",storageBucket:"universo8090-59410.firebasestorage.app",messagingSenderId:"282125525553",appId:"1:282125525553:web:e9bb85aa3b9a6bf9142b10",measurementId:"G-WTXVNDGJVQ"},hM=rD(hq),mv=D7(hM),Gy=uq(hM),fq="modulepreload",dq=function(t){return"/"+t},MA={},ur=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=dq(l),l in MA)return;MA[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":fq,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var pq=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&mq(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?NA:gq;o(s,r),s.onload||NA(s,r),i.appendChild(s)};function mq(t,e){for(var n in e)t.setAttribute(n,e[n])}function NA(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function gq(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var yq=function(e){return _q(e)&&!vq(e)};function _q(t){return!!t&&typeof t=="object"}function vq(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Eq(t)}var wq=typeof Symbol=="function"&&Symbol.for,Tq=wq?Symbol.for("react.element"):60103;function Eq(t){return t.$$typeof===Tq}function Sq(t){return Array.isArray(t)?[]:{}}function mf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ku(Sq(t),t,e):t}function xq(t,e,n){return t.concat(e).map(function(r){return mf(r,n)})}function Pq(t,e){if(!e.customMerge)return ku;var n=e.customMerge(t);return typeof n=="function"?n:ku}function Aq(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function VA(t){return Object.keys(t).concat(Aq(t))}function fM(t,e){try{return e in t}catch{return!1}}function Iq(t,e){return fM(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Cq(t,e,n){var r={};return n.isMergeableObject(t)&&VA(t).forEach(function(i){r[i]=mf(t[i],n)}),VA(e).forEach(function(i){Iq(t,i)||(fM(t,i)&&n.isMergeableObject(e[i])?r[i]=Pq(i,n)(t[i],e[i],n):r[i]=mf(e[i],n))}),r}function ku(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||xq,n.isMergeableObject=n.isMergeableObject||yq,n.cloneUnlessOtherwiseSpecified=mf;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Cq(t,e,n):mf(e,n)}ku.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return ku(r,i,n)},{})};var Rq=ku,dM=Rq,bq=Object.create,vg=Object.defineProperty,kq=Object.getOwnPropertyDescriptor,Dq=Object.getOwnPropertyNames,Oq=Object.getPrototypeOf,Mq=Object.prototype.hasOwnProperty,Nq=(t,e)=>{for(var n in e)vg(t,n,{get:e[n],enumerable:!0})},pM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dq(e))!Mq.call(t,i)&&i!==n&&vg(t,i,{get:()=>e[i],enumerable:!(r=kq(e,i))||r.enumerable});return t},pT=(t,e,n)=>(n=t!=null?bq(Oq(t)):{},pM(!t||!t.__esModule?vg(n,"default",{value:t,enumerable:!0}):n,t)),Vq=t=>pM(vg({},"__esModule",{value:!0}),t),mM={};Nq(mM,{callPlayer:()=>Jq,getConfig:()=>Yq,getSDK:()=>Xq,isBlobUrl:()=>eG,isMediaStream:()=>Zq,lazy:()=>jq,omit:()=>Qq,parseEndTime:()=>qq,parseStartTime:()=>Hq,queryString:()=>Kq,randomString:()=>Gq,supportsWebKitPresentationMode:()=>tG});var wg=Vq(mM),Lq=pT(V),Fq=pT(pq),Uq=pT(dM);const jq=t=>Lq.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),zq=/[?&#](?:start|t)=([0-9hms]+)/,Bq=/[?&#]end=([0-9hms]+)/,gv=/(\d+)(h|m|s)/g,$q=/^\d+$/;function gM(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(gv))return Wq(r);if($q.test(r))return parseInt(r)}}function Wq(t){let e=0,n=gv.exec(t);for(;n!==null;){const[,r,i]=n;i==="h"&&(e+=parseInt(r,10)*60*60),i==="m"&&(e+=parseInt(r,10)*60),i==="s"&&(e+=parseInt(r,10)),n=gv.exec(t)}return e}function Hq(t){return gM(t,zq)}function qq(t){return gM(t,Bq)}function Gq(){return Math.random().toString(36).substr(2,5)}function Kq(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function Ky(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const fl={},Xq=function(e,n,r=null,i=()=>!0,s=Fq.default){const o=Ky(n);return o&&i(o)?Promise.resolve(o):new Promise((a,l)=>{if(fl[e]){fl[e].push({resolve:a,reject:l});return}fl[e]=[{resolve:a,reject:l}];const u=c=>{fl[e].forEach(f=>f.resolve(c))};if(r){const c=window[r];window[r]=function(){c&&c(),u(Ky(n))}}s(e,c=>{c?(fl[e].forEach(f=>f.reject(c)),fl[e]=null):r||u(Ky(n))})})};function Yq(t,e){return(0,Uq.default)(e.config,t.config)}function Qq(t,...e){const n=[].concat(...e),r={},i=Object.keys(t);for(const s of i)n.indexOf(s)===-1&&(r[s]=t[s]);return r}function Jq(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function Zq(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function eG(t){return/^blob:/.test(t)}function tG(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var mT=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,rG=Object.getOwnPropertyNames,iG=Object.prototype.hasOwnProperty,sG=(t,e)=>{for(var n in e)mT(t,n,{get:e[n],enumerable:!0})},oG=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rG(e))!iG.call(t,i)&&i!==n&&mT(t,i,{get:()=>e[i],enumerable:!(r=nG(e,i))||r.enumerable});return t},aG=t=>oG(mT({},"__esModule",{value:!0}),t),yM={};sG(yM,{AUDIO_EXTENSIONS:()=>gT,DASH_EXTENSIONS:()=>kM,FLV_EXTENSIONS:()=>DM,HLS_EXTENSIONS:()=>_T,MATCH_URL_DAILYMOTION:()=>IM,MATCH_URL_FACEBOOK:()=>TM,MATCH_URL_FACEBOOK_WATCH:()=>EM,MATCH_URL_KALTURA:()=>bM,MATCH_URL_MIXCLOUD:()=>CM,MATCH_URL_MUX:()=>wM,MATCH_URL_SOUNDCLOUD:()=>_M,MATCH_URL_STREAMABLE:()=>SM,MATCH_URL_TWITCH_CHANNEL:()=>AM,MATCH_URL_TWITCH_VIDEO:()=>PM,MATCH_URL_VIDYARD:()=>RM,MATCH_URL_VIMEO:()=>vM,MATCH_URL_WISTIA:()=>xM,MATCH_URL_YOUTUBE:()=>yv,VIDEO_EXTENSIONS:()=>yT,canPlay:()=>uG});var lG=aG(yM),LA=wg;const yv=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,_M=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,vM=/vimeo\.com\/(?!progressive_redirect).+/,wM=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,TM=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,EM=/^https?:\/\/fb\.watch\/.+$/,SM=/streamable\.com\/([a-z0-9]+)$/,xM=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,PM=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,AM=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,IM=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,CM=/mixcloud\.com\/([^/]+\/[^/]+)/,RM=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,bM=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,gT=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,yT=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,_T=/\.(m3u8)($|\?)/i,kM=/\.(mpd)($|\?)/i,DM=/\.(flv)($|\?)/i,_v=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&_v(e)||_v(e.src))return!0;return!1}return(0,LA.isMediaStream)(t)||(0,LA.isBlobUrl)(t)?!0:gT.test(t)||yT.test(t)||_T.test(t)||kM.test(t)||DM.test(t)},uG={youtube:t=>t instanceof Array?t.every(e=>yv.test(e)):yv.test(t),soundcloud:t=>_M.test(t)&&!gT.test(t),vimeo:t=>vM.test(t)&&!yT.test(t)&&!_T.test(t),mux:t=>wM.test(t),facebook:t=>TM.test(t)||EM.test(t),streamable:t=>SM.test(t),wistia:t=>xM.test(t),twitch:t=>PM.test(t)||AM.test(t),dailymotion:t=>IM.test(t),mixcloud:t=>CM.test(t),vidyard:t=>RM.test(t),kaltura:t=>bM.test(t),file:_v};var vT=Object.defineProperty,cG=Object.getOwnPropertyDescriptor,hG=Object.getOwnPropertyNames,fG=Object.prototype.hasOwnProperty,dG=(t,e)=>{for(var n in e)vT(t,n,{get:e[n],enumerable:!0})},pG=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of hG(e))!fG.call(t,i)&&i!==n&&vT(t,i,{get:()=>e[i],enumerable:!(r=cG(e,i))||r.enumerable});return t},mG=t=>pG(vT({},"__esModule",{value:!0}),t),OM={};dG(OM,{default:()=>yG});var gG=mG(OM),lr=wg,$n=lG,yG=[{key:"youtube",name:"YouTube",canPlay:$n.canPlay.youtube,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./YouTube-Cvp9CRzF.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:$n.canPlay.soundcloud,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./SoundCloud-CZ9JpFki.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:$n.canPlay.vimeo,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Vimeo-aaBDjVYz.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:$n.canPlay.mux,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Mux-m8gk4Ffd.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:$n.canPlay.facebook,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Facebook-CZ4QcCER.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:$n.canPlay.streamable,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Streamable-TsicRAQW.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:$n.canPlay.wistia,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Wistia-DWeQTqAU.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:$n.canPlay.twitch,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Twitch-DVJiSAJ1.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:$n.canPlay.dailymotion,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./DailyMotion-CXR_LEE7.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:$n.canPlay.mixcloud,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Mixcloud-FPVrjDtR.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:$n.canPlay.vidyard,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Vidyard-pY2kOYV5.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:$n.canPlay.kaltura,lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./Kaltura-CegFsxdM.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:$n.canPlay.file,canEnablePIP:t=>$n.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,lr.supportsWebKitPresentationMode)())&&!$n.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,lr.lazy)(()=>ur(()=>import("./FilePlayer-MfMMZg9R.js").then(t=>t.F),[]))}],FA=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function _G(t,e){return!!(t===e||FA(t)&&FA(e))}function vG(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!_G(t[n],e[n]))return!1;return!0}function wG(t,e){e===void 0&&(e=vG);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}const TG=Object.freeze(Object.defineProperty({__proto__:null,default:wG},Symbol.toStringTag,{value:"Module"})),EG=mN(TG);var SG=typeof Element<"u",xG=typeof Map=="function",PG=typeof Set=="function",AG=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function mp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!mp(t[r],e[r]))return!1;return!0}var s;if(xG&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!mp(r.value[1],e.get(r.value[0])))return!1;return!0}if(PG&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(AG&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(SG&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!mp(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var MM=function(e,n){try{return mp(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},NM={exports:{}},IG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CG=IG,RG=CG;function VM(){}function LM(){}LM.resetWarningCache=VM;var bG=function(){function t(r,i,s,o,a,l){if(l!==RG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LM,resetWarningCache:VM};return n.PropTypes=n,n};NM.exports=bG();var kG=NM.exports,DG=Object.create,Tg=Object.defineProperty,OG=Object.getOwnPropertyDescriptor,MG=Object.getOwnPropertyNames,NG=Object.getPrototypeOf,VG=Object.prototype.hasOwnProperty,LG=(t,e)=>{for(var n in e)Tg(t,n,{get:e[n],enumerable:!0})},FM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of MG(e))!VG.call(t,i)&&i!==n&&Tg(t,i,{get:()=>e[i],enumerable:!(r=OG(e,i))||r.enumerable});return t},FG=(t,e,n)=>(n=t!=null?DG(NG(t)):{},FM(!t||!t.__esModule?Tg(n,"default",{value:t,enumerable:!0}):n,t)),UG=t=>FM(Tg({},"__esModule",{value:!0}),t),UM={};LG(UM,{defaultProps:()=>BG,propTypes:()=>zG});var jM=UG(UM),jG=FG(kG);const{string:fn,bool:Wn,number:dl,array:Xy,oneOfType:gc,shape:Rr,object:Rn,func:qt,node:UA}=jG.default,zG={url:gc([fn,Xy,Rn]),playing:Wn,loop:Wn,controls:Wn,volume:dl,muted:Wn,playbackRate:dl,width:gc([fn,dl]),height:gc([fn,dl]),style:Rn,progressInterval:dl,playsinline:Wn,pip:Wn,stopOnUnmount:Wn,light:gc([Wn,fn,Rn]),playIcon:UA,previewTabIndex:dl,previewAriaLabel:fn,fallback:UA,oEmbedUrl:fn,wrapper:gc([fn,qt,Rr({render:qt.isRequired})]),config:Rr({soundcloud:Rr({options:Rn}),youtube:Rr({playerVars:Rn,embedOptions:Rn,onUnstarted:qt}),facebook:Rr({appId:fn,version:fn,playerId:fn,attributes:Rn}),dailymotion:Rr({params:Rn}),vimeo:Rr({playerOptions:Rn,title:fn}),mux:Rr({attributes:Rn,version:fn}),file:Rr({attributes:Rn,tracks:Xy,forceVideo:Wn,forceAudio:Wn,forceHLS:Wn,forceSafariHLS:Wn,forceDisableHls:Wn,forceDASH:Wn,forceFLV:Wn,hlsOptions:Rn,hlsVersion:fn,dashVersion:fn,flvVersion:fn}),wistia:Rr({options:Rn,playerId:fn,customControls:Xy}),mixcloud:Rr({options:Rn}),twitch:Rr({options:Rn,playerId:fn}),vidyard:Rr({options:Rn})}),onReady:qt,onStart:qt,onPlay:qt,onPause:qt,onBuffer:qt,onBufferEnd:qt,onEnded:qt,onError:qt,onDuration:qt,onSeek:qt,onPlaybackRateChange:qt,onPlaybackQualityChange:qt,onProgress:qt,onClickPreview:qt,onEnablePIP:qt,onDisablePIP:qt},dn=()=>{},BG={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:dn},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:dn,onStart:dn,onPlay:dn,onPause:dn,onBuffer:dn,onBufferEnd:dn,onEnded:dn,onError:dn,onDuration:dn,onSeek:dn,onPlaybackRateChange:dn,onPlaybackQualityChange:dn,onProgress:dn,onClickPreview:dn,onEnablePIP:dn,onDisablePIP:dn};var $G=Object.create,Lf=Object.defineProperty,WG=Object.getOwnPropertyDescriptor,HG=Object.getOwnPropertyNames,qG=Object.getPrototypeOf,GG=Object.prototype.hasOwnProperty,KG=(t,e,n)=>e in t?Lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XG=(t,e)=>{for(var n in e)Lf(t,n,{get:e[n],enumerable:!0})},zM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HG(e))!GG.call(t,i)&&i!==n&&Lf(t,i,{get:()=>e[i],enumerable:!(r=WG(e,i))||r.enumerable});return t},BM=(t,e,n)=>(n=t!=null?$G(qG(t)):{},zM(!t||!t.__esModule?Lf(n,"default",{value:t,enumerable:!0}):n,t)),YG=t=>zM(Lf({},"__esModule",{value:!0}),t),Rt=(t,e,n)=>(KG(t,typeof e!="symbol"?e+"":e,n),n),$M={};XG($M,{default:()=>Eg});var QG=YG($M),jA=BM(V),JG=BM(MM),WM=jM,ZG=wg;const eK=5e3;class Eg extends jA.Component{constructor(){super(...arguments),Rt(this,"mounted",!1),Rt(this,"isReady",!1),Rt(this,"isPlaying",!1),Rt(this,"isLoading",!0),Rt(this,"loadOnReady",null),Rt(this,"startOnPlay",!0),Rt(this,"seekOnPlay",null),Rt(this,"onDurationCalled",!1),Rt(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),Rt(this,"getInternalPlayer",e=>this.player?this.player[e]:null),Rt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:e,played:e/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),Rt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:i}=this.props;e(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),Rt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),Rt(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),Rt(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),Rt(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),Rt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),Rt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:i,muted:s,playbackRate:o,pip:a,loop:l,activePlayer:u,disableDeferredLoading:c}=this.props;if(!(0,JG.default)(e.url,n)){if(this.isLoading&&!u.forceLoad&&!c&&!(0,ZG.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==i&&i!==null&&this.player.setVolume(i),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},eK));return}if(n?n==="fraction":e>0&&e<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(s*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?jA.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}Rt(Eg,"displayName","Player");Rt(Eg,"propTypes",WM.propTypes);Rt(Eg,"defaultProps",WM.defaultProps);var tK=Object.create,Ff=Object.defineProperty,nK=Object.getOwnPropertyDescriptor,rK=Object.getOwnPropertyNames,iK=Object.getPrototypeOf,sK=Object.prototype.hasOwnProperty,oK=(t,e,n)=>e in t?Ff(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aK=(t,e)=>{for(var n in e)Ff(t,n,{get:e[n],enumerable:!0})},HM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rK(e))!sK.call(t,i)&&i!==n&&Ff(t,i,{get:()=>e[i],enumerable:!(r=nK(e,i))||r.enumerable});return t},Uf=(t,e,n)=>(n=t!=null?tK(iK(t)):{},HM(!t||!t.__esModule?Ff(n,"default",{value:t,enumerable:!0}):n,t)),lK=t=>HM(Ff({},"__esModule",{value:!0}),t),Ct=(t,e,n)=>(oK(t,typeof e!="symbol"?e+"":e,n),n),qM={};aK(qM,{createReactPlayer:()=>yK});var uK=lK(qM),wl=Uf(V),cK=Uf(dM),Yy=Uf(EG),zA=Uf(MM),Fc=jM,GM=wg,hK=Uf(QG);const fK=(0,GM.lazy)(()=>ur(()=>import("./Preview-ugmlRrAd.js").then(t=>t.P),[])),dK=typeof window<"u"&&window.document&&typeof document<"u",pK=typeof kg<"u"&&kg.window&&kg.window.document,mK=Object.keys(Fc.propTypes),gK=dK||pK?wl.Suspense:()=>null,yc=[],yK=(t,e)=>{var n;return n=class extends wl.Component{constructor(){super(...arguments),Ct(this,"state",{showPreview:!!this.props.light}),Ct(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),Ct(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),Ct(this,"showPreview",()=>{this.setState({showPreview:!0})}),Ct(this,"getDuration",()=>this.player?this.player.getDuration():null),Ct(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),Ct(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),Ct(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),Ct(this,"seekTo",(r,i,s)=>{if(!this.player)return null;this.player.seekTo(r,i,s)}),Ct(this,"handleReady",()=>{this.props.onReady(this)}),Ct(this,"getActivePlayer",(0,Yy.default)(r=>{for(const i of[...yc,...t])if(i.canPlay(r))return i;return e||null})),Ct(this,"getConfig",(0,Yy.default)((r,i)=>{const{config:s}=this.props;return cK.default.all([Fc.defaultProps.config,Fc.defaultProps.config[i]||{},s,s[i]||{}])})),Ct(this,"getAttributes",(0,Yy.default)(r=>(0,GM.omit)(this.props,mK))),Ct(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const s=this.getConfig(r,i.key);return wl.default.createElement(hK.default,{...this.props,key:i.key,ref:this.references.player,config:s,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,zA.default)(this.props,r)||!(0,zA.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:s,previewTabIndex:o,oEmbedUrl:a,previewAriaLabel:l}=this.props;return wl.default.createElement(fK,{url:r,light:i,playIcon:s,previewTabIndex:o,previewAriaLabel:l,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:s,height:o,fallback:a,wrapper:l}=this.props,{showPreview:u}=this.state,c=this.getAttributes(r),f=typeof l=="string"?this.references.wrapper:void 0;return wl.default.createElement(l,{ref:f,style:{...i,width:s,height:o},...c},wl.default.createElement(gK,{fallback:a},u?this.renderPreview(r):this.renderActivePlayer(r)))}},Ct(n,"displayName","ReactPlayer"),Ct(n,"propTypes",Fc.propTypes),Ct(n,"defaultProps",Fc.defaultProps),Ct(n,"addCustomPlayer",r=>{yc.push(r)}),Ct(n,"removeCustomPlayers",()=>{yc.length=0}),Ct(n,"canPlay",r=>{for(const i of[...yc,...t])if(i.canPlay(r))return!0;return!1}),Ct(n,"canEnablePIP",r=>{for(const i of[...yc,...t])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var _K=Object.create,Sg=Object.defineProperty,vK=Object.getOwnPropertyDescriptor,wK=Object.getOwnPropertyNames,TK=Object.getPrototypeOf,EK=Object.prototype.hasOwnProperty,SK=(t,e)=>{for(var n in e)Sg(t,n,{get:e[n],enumerable:!0})},KM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wK(e))!EK.call(t,i)&&i!==n&&Sg(t,i,{get:()=>e[i],enumerable:!(r=vK(e,i))||r.enumerable});return t},xK=(t,e,n)=>(n=t!=null?_K(TK(t)):{},KM(!t||!t.__esModule?Sg(n,"default",{value:t,enumerable:!0}):n,t)),PK=t=>KM(Sg({},"__esModule",{value:!0}),t),XM={};SK(XM,{default:()=>RK});var AK=PK(XM),vv=xK(gG),IK=uK;const CK=vv.default[vv.default.length-1];var RK=(0,IK.createReactPlayer)(vv.default,CK);const bK=sI(AK),kK=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(!0);return V.useEffect(()=>{(async()=>{try{const s=hv(mv,"siteContent","songOfWeek"),o=await kO(s);o.exists()?e(o.data()):console.log("No se encontró el documento de la canción de la semana!")}catch(s){console.error("Error al buscar la canción:",s)}finally{r(!1)}})()},[]),n?N.jsxs("section",{id:"cancion-semanal",className:"section-container",children:[N.jsx(Eu,{text:"Canción de la Semana",className:"section-title"}),N.jsx("div",{className:"text-center text-gray-400",children:"Cargando canción..."})]}):t?N.jsxs("section",{id:"cancion-semanal",className:"section-container",children:[N.jsx(Eu,{text:"Canción de la Semana",className:"section-title"}),N.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[N.jsxs("p",{className:"text-xl font-bold text-brand-cyan mb-2",children:[t.title," - ",t.artist]}),N.jsx("p",{className:"text-gray-400 mb-8",children:t.description}),t.youtubeUrl?N.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-lg border-2 border-brand-magenta/50",children:N.jsx(bK,{url:t.youtubeUrl,width:"100%",height:"100%",className:"absolute top-0 left-0",controls:!0})}):null]})]}):null},DK=()=>(V.useEffect(()=>{window.scrollTo(0,0)},[]),N.jsx("div",{className:"py-16 md:py-24",children:N.jsx(kK,{})})),OK=()=>(V.useEffect(()=>{window.scrollTo(0,0)},[]),N.jsxs("div",{className:"section-container",children:[N.jsx(Eu,{text:"Contacto y Pedidos",className:"section-title"}),N.jsx("p",{className:"text-center text-lg text-gray-400 max-w-2xl mx-auto mb-12",children:"Tu voz es parte de Universo 8090. Envíame tus pedidos musicales, dedicatorias, o cualquier mensaje que quieras compartir."}),N.jsx(q2,{})]})),MK=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState(null),[l,u]=V.useState({title:"",artist:"",description:"",youtubeUrl:""}),[c,f]=V.useState(!0),[d,p]=V.useState("");V.useEffect(()=>{const _=QW(Gy,S=>{a(S),S?(async()=>{f(!0);const C=hv(mv,"siteContent","songOfWeek"),O=await kO(C);O.exists()&&u(O.data()),f(!1)})():f(!1)});return()=>_()},[]);const y=async _=>{_.preventDefault(),s("");try{await KW(Gy,t,n)}catch{s("Error: Las credenciales son incorrectas.")}},g=async()=>{await JW(Gy)},E=_=>{const{name:S,value:A}=_.target;u(C=>({...C,[S]:A}))},v=async _=>{_.preventDefault(),p("");const S=hv(mv,"siteContent","songOfWeek");try{await q7(S,l),p("¡Canción actualizada con éxito!"),setTimeout(()=>p(""),3e3)}catch(A){s("Error al actualizar los datos."),console.error(A)}};return c&&!o?N.jsx("div",{className:"section-container text-center",children:"Cargando..."}):o?N.jsxs("div",{className:"section-container",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8",children:[N.jsx("h1",{className:"section-title text-left mb-0",children:"Panel de Admin"}),N.jsx("button",{onClick:g,className:"btn btn-primary bg-red-600 hover:bg-red-700",children:"Cerrar Sesión"})]}),N.jsxs("div",{className:"max-w-2xl mx-auto bg-brand-dark p-8 rounded-lg shadow-2xl border border-brand-purple/30",children:[N.jsx("h2",{className:"text-2xl font-bold mb-6 text-brand-cyan",children:"Editar Canción de la Semana"}),c?N.jsx("p",{children:"Cargando datos de la canción..."}):N.jsxs("form",{onSubmit:v,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"title",className:"block mb-2 text-sm font-medium",children:"Título"}),N.jsx("input",{type:"text",name:"title",value:l.title,onChange:E,className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"artist",className:"block mb-2 text-sm font-medium",children:"Artista"}),N.jsx("input",{type:"text",name:"artist",value:l.artist,onChange:E,className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium",children:"Descripción"}),N.jsx("textarea",{name:"description",value:l.description,onChange:E,rows:"3",className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"youtubeUrl",className:"block mb-2 text-sm font-medium",children:"URL de YouTube"}),N.jsx("input",{type:"url",name:"youtubeUrl",value:l.youtubeUrl,onChange:E,className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),d&&N.jsx("p",{className:"text-green-400 text-center",children:d}),N.jsx("button",{type:"submit",className:"btn btn-secondary w-full",children:"Guardar Cambios"})]})]})]}):N.jsxs("div",{className:"section-container",children:[N.jsx("h1",{className:"section-title",children:"Acceso de Administrador"}),N.jsx("div",{className:"max-w-md mx-auto bg-brand-dark p-8 rounded-lg shadow-2xl border border-brand-purple/30",children:N.jsxs("form",{onSubmit:y,className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-300",children:"Email"}),N.jsx("input",{type:"email",id:"email",value:t,onChange:_=>e(_.target.value),required:!0,className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-300",children:"Contraseña"}),N.jsx("input",{type:"password",id:"password",value:n,onChange:_=>r(_.target.value),required:!0,className:"w-full p-2.5 bg-gray-800/50 border-2 border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan"})]}),i&&N.jsx("p",{className:"text-red-500 text-sm text-center",children:i}),N.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Iniciar Sesión"})]})})]})};function Th(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function wv(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function NK(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function BA(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function $A(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function VK(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function LK(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Qy(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function FK(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function UK(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function WA(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function jK(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function zK(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Tv(t,e){let n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function YM(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function HA(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=i*l-s*a,t[1]=s*o-r*l,t[2]=r*a-i*o,t}function BK(t,e,n,r){let i=e[0],s=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t}function $K(t,e,n,r,i){const s=Math.exp(-r*i);let o=e[0],a=e[1],l=e[2];return t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(a-n[1])*s,t[2]=n[2]+(l-n[2])*s,t}function WK(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o,t}function HK(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s)/o,t[1]=(n[1]*r+n[5]*i+n[9]*s)/o,t[2]=(n[2]*r+n[6]*i+n[10]*s)/o,t}function qK(t,e,n){let r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function GK(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2],u=n[3],c=a*s-l*i,f=l*r-o*s,d=o*i-a*r,p=a*d-l*f,y=l*c-o*d,g=o*f-a*c,E=u*2;return c*=E,f*=E,d*=E,p*=2,y*=2,g*=2,t[0]=r+c+p,t[1]=i+f+y,t[2]=s+d+g,t}const KK=function(){const t=[0,0,0],e=[0,0,0];return function(n,r){wv(t,n),wv(e,r),Tv(t,t),Tv(e,e);let i=YM(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function XK(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class bi extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(NK(this,e,n,r),this)}copy(e){return wv(this,e),this}add(e,n){return n?BA(this,e,n):BA(this,this,e),this}sub(e,n){return n?$A(this,e,n):$A(this,this,e),this}multiply(e){return e.length?VK(this,this,e):Qy(this,this,e),this}divide(e){return e.length?LK(this,this,e):Qy(this,this,1/e),this}inverse(e=this){return zK(this,e),this}len(){return Th(this)}distance(e){return e?FK(this,e):Th(this)}squaredLen(){return WA(this)}squaredDistance(e){return e?UK(this,e):WA(this)}negate(e=this){return jK(this,e),this}cross(e,n){return n?HA(this,e,n):HA(this,this,e),this}scale(e){return Qy(this,this,e),this}normalize(){return Tv(this,this),this}dot(e){return YM(this,e)}equals(e){return XK(this,e)}applyMatrix3(e){return qK(this,this,e),this}applyMatrix4(e){return WK(this,this,e),this}scaleRotateMatrix4(e){return HK(this,this,e),this}applyQuaternion(e){return GK(this,this,e),this}angle(e){return KK(this,e)}lerp(e,n){return BK(this,this,e,n),this}smoothLerp(e,n,r){return $K(this,this,e,n,r),this}clone(){return new bi(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const qA=new bi;let YK=1,QK=1,GA=!1;class JK{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=YK++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=QK++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const a=s.size/o,l=o===1?0:o*o*4,u=o===1?0:o*4;for(let c=0;c<o;c++)this.gl.vertexAttribPointer(n+c,a,s.type,s.normalized,s.stride+l,s.offset+c*u),this.gl.enableVertexAttribArray(n+c),this.gl.renderer.vertexAttribDivisor(n+c,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:o})=>{const a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!GA)return console.warn("No position buffer data found to compute bounds"),GA=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new bi,max:new bi,center:new bi,scale:new bi,radius:1/0});const i=this.bounds.min,s=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let l=0,u=n.length;l<u;l+=r){const c=n[l],f=n[l+1],d=n[l+2];i.x=Math.min(c,i.x),i.y=Math.min(f,i.y),i.z=Math.min(d,i.z),s.x=Math.max(c,s.x),s.y=Math.max(f,s.y),s.z=Math.max(d,s.z)}a.sub(s,i),o.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,o=n.length;s<o;s+=r)qA.fromArray(n,s),i=Math.max(i,this.bounds.center.squaredDistance(qA));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let ZK=1;const KA={};class eX{constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:s=!1,cullFace:o=e.BACK,frontFace:a=e.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:c=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=ZK++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=u,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${XA(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${XA(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(i[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let o=this.uniforms[s.uniformName];for(const a of s.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return YA(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return YA(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),Jy(this.gl,s.type,i,n);if(o.value.length&&o.value[0].texture){const a=[];return o.value.forEach(l=>{n=n+1,l.update(n),a.push(n)}),Jy(this.gl,s.type,i,a)}Jy(this.gl,s.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Jy(t,e,n,r){r=r.length?tX(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(nX(i,r))return;i.set?i.set(r):rX(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function XA(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function tX(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=KA[r];i||(KA[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(t[s],s*n);return i}function nX(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function rX(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let Zy=0;function YA(t){Zy>100||(console.warn(t),Zy++,Zy>100&&console.warn("More than 100 program warnings - stopping logs."))}const e_=new bi;let iX=1;class sX{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:c=!1,powerPreference:f="default",autoClear:d=!0,webgl:p=2}={}){const y={alpha:s,depth:o,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:f};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=d,this.id=iX++,p===2&&(this.gl=e.getContext("webgl2",y)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",y)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let s=[];if(n&&r&&n.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||s.push(o))}),i){const o=[],a=[],l=[];s.forEach(u=>{u.program.transparent?u.program.depthTest?a.push(u):l.push(u):o.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!n)&&(u.worldMatrix.getTranslation(e_),e_.applyMatrix4(n.projectionViewMatrix),u.zDepth=e_.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),s=o.concat(a,l)}return s}render({scene:e,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:a}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:o,sort:s}).forEach(u=>{u.draw({camera:n})})}}function oX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function aX(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function lX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=s*o,t}function uX(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function cX(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function hX(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function QA(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+o*a+i*u-s*l,t[1]=i*c+o*l+s*a-r*u,t[2]=s*c+o*u+r*l-i*a,t[3]=o*c-r*a-i*l-s*u,t}function fX(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*a,t[1]=i*l+s*a,t[2]=s*l-i*a,t[3]=o*l-r*a,t}function dX(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l-s*a,t[1]=i*l+o*a,t[2]=s*l+r*a,t[3]=o*l-i*a,t}function pX(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=s*l+o*a,t[3]=o*l-s*a,t}function mX(t,e,n,r){let i=e[0],s=e[1],o=e[2],a=e[3],l=n[0],u=n[1],c=n[2],f=n[3],d,p,y,g,E;return p=i*l+s*u+o*c+a*f,p<0&&(p=-p,l=-l,u=-u,c=-c,f=-f),1-p>1e-6?(d=Math.acos(p),y=Math.sin(d),g=Math.sin((1-r)*d)/y,E=Math.sin(r*d)/y):(g=1-r,E=r),t[0]=g*i+E*l,t[1]=g*s+E*u,t[2]=g*o+E*c,t[3]=g*a+E*f,t}function gX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=s*a,t}function yX(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function _X(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+o]-e[o*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function vX(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),a=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*o*l+i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l-r*s*a):n==="YXZ"?(t[0]=r*o*l+i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l+r*s*a):n==="ZXY"?(t[0]=r*o*l-i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l-r*s*a):n==="ZYX"?(t[0]=r*o*l-i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l+r*s*a):n==="YZX"?(t[0]=r*o*l+i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l-r*s*a):n==="XZY"&&(t[0]=r*o*l-i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l+r*s*a),t}const wX=oX,TX=aX,EX=uX,SX=lX;class xX extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&s.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return cX(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(TX(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return fX(this._target,this._target,e),this.onChange(),this}rotateY(e){return dX(this._target,this._target,e),this.onChange(),this}rotateZ(e){return pX(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return gX(this._target,e),this.onChange(),this}conjugate(e=this._target){return yX(this._target,e),this.onChange(),this}copy(e){return wX(this._target,e),this.onChange(),this}normalize(e=this._target){return SX(this._target,e),this.onChange(),this}multiply(e,n){return n?QA(this._target,e,n):QA(this._target,this._target,e),this.onChange(),this}dot(e){return EX(this._target,e)}fromMatrix3(e){return _X(this._target,e),this.onChange(),this}fromEuler(e,n){return vX(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return hX(this._target,e,n),this.onChange(),this}slerp(e,n){return mX(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const PX=1e-6;function AX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function IX(t,e,n,r,i,s,o,a,l,u,c,f,d,p,y,g,E){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t[9]=c,t[10]=f,t[11]=d,t[12]=p,t[13]=y,t[14]=g,t[15]=E,t}function CX(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function RX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],y=e[12],g=e[13],E=e[14],v=e[15],_=n*a-r*o,S=n*l-i*o,A=n*u-s*o,C=r*l-i*a,O=r*u-s*a,x=i*u-s*l,T=c*g-f*y,P=c*E-d*y,I=c*v-p*y,k=f*E-d*g,D=f*v-p*g,b=d*v-p*E,B=_*b-S*D+A*k+C*I-O*P+x*T;return B?(B=1/B,t[0]=(a*b-l*D+u*k)*B,t[1]=(i*D-r*b-s*k)*B,t[2]=(g*x-E*O+v*C)*B,t[3]=(d*O-f*x-p*C)*B,t[4]=(l*I-o*b-u*P)*B,t[5]=(n*b-i*I+s*P)*B,t[6]=(E*A-y*x-v*S)*B,t[7]=(c*x-d*A+p*S)*B,t[8]=(o*D-a*I+u*T)*B,t[9]=(r*I-n*D-s*T)*B,t[10]=(y*O-g*A+v*_)*B,t[11]=(f*A-c*O-p*_)*B,t[12]=(a*P-o*k-l*T)*B,t[13]=(n*k-r*P+i*T)*B,t[14]=(g*S-y*C-E*_)*B,t[15]=(c*C-f*S+d*_)*B,t):null}function QM(t){let e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11],p=t[12],y=t[13],g=t[14],E=t[15],v=e*o-n*s,_=e*a-r*s,S=e*l-i*s,A=n*a-r*o,C=n*l-i*o,O=r*l-i*a,x=u*y-c*p,T=u*g-f*p,P=u*E-d*p,I=c*g-f*y,k=c*E-d*y,D=f*E-d*g;return v*D-_*k+S*I+A*P-C*T+O*x}function JA(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=e[9],p=e[10],y=e[11],g=e[12],E=e[13],v=e[14],_=e[15],S=n[0],A=n[1],C=n[2],O=n[3];return t[0]=S*r+A*a+C*f+O*g,t[1]=S*i+A*l+C*d+O*E,t[2]=S*s+A*u+C*p+O*v,t[3]=S*o+A*c+C*y+O*_,S=n[4],A=n[5],C=n[6],O=n[7],t[4]=S*r+A*a+C*f+O*g,t[5]=S*i+A*l+C*d+O*E,t[6]=S*s+A*u+C*p+O*v,t[7]=S*o+A*c+C*y+O*_,S=n[8],A=n[9],C=n[10],O=n[11],t[8]=S*r+A*a+C*f+O*g,t[9]=S*i+A*l+C*d+O*E,t[10]=S*s+A*u+C*p+O*v,t[11]=S*o+A*c+C*y+O*_,S=n[12],A=n[13],C=n[14],O=n[15],t[12]=S*r+A*a+C*f+O*g,t[13]=S*i+A*l+C*d+O*E,t[14]=S*s+A*u+C*p+O*v,t[15]=S*o+A*c+C*y+O*_,t}function bX(t,e,n){let r=n[0],i=n[1],s=n[2],o,a,l,u,c,f,d,p,y,g,E,v;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],a=e[1],l=e[2],u=e[3],c=e[4],f=e[5],d=e[6],p=e[7],y=e[8],g=e[9],E=e[10],v=e[11],t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=c,t[5]=f,t[6]=d,t[7]=p,t[8]=y,t[9]=g,t[10]=E,t[11]=v,t[12]=o*r+c*i+y*s+e[12],t[13]=a*r+f*i+g*s+e[13],t[14]=l*r+d*i+E*s+e[14],t[15]=u*r+p*i+v*s+e[15]),t}function kX(t,e,n){let r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function DX(t,e,n,r){let i=r[0],s=r[1],o=r[2],a=Math.hypot(i,s,o),l,u,c,f,d,p,y,g,E,v,_,S,A,C,O,x,T,P,I,k,D,b,B,ee;return Math.abs(a)<PX?null:(a=1/a,i*=a,s*=a,o*=a,l=Math.sin(n),u=Math.cos(n),c=1-u,f=e[0],d=e[1],p=e[2],y=e[3],g=e[4],E=e[5],v=e[6],_=e[7],S=e[8],A=e[9],C=e[10],O=e[11],x=i*i*c+u,T=s*i*c+o*l,P=o*i*c-s*l,I=i*s*c-o*l,k=s*s*c+u,D=o*s*c+i*l,b=i*o*c+s*l,B=s*o*c-i*l,ee=o*o*c+u,t[0]=f*x+g*T+S*P,t[1]=d*x+E*T+A*P,t[2]=p*x+v*T+C*P,t[3]=y*x+_*T+O*P,t[4]=f*I+g*k+S*D,t[5]=d*I+E*k+A*D,t[6]=p*I+v*k+C*D,t[7]=y*I+_*k+O*D,t[8]=f*b+g*B+S*ee,t[9]=d*b+E*B+A*ee,t[10]=p*b+v*B+C*ee,t[11]=y*b+_*B+O*ee,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function OX(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function JM(t,e){let n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,u,c),t}function MX(t){let e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],o=t[6],a=t[8],l=t[9],u=t[10];const c=e*e+n*n+r*r,f=i*i+s*s+o*o,d=a*a+l*l+u*u;return Math.sqrt(Math.max(c,f,d))}const ZM=function(){const t=[1,1,1];return function(e,n){let r=t;JM(r,n);let i=1/r[0],s=1/r[1],o=1/r[2],a=n[0]*i,l=n[1]*s,u=n[2]*o,c=n[4]*i,f=n[5]*s,d=n[6]*o,p=n[8]*i,y=n[9]*s,g=n[10]*o,E=a+f+g,v=0;return E>0?(v=Math.sqrt(E+1)*2,e[3]=.25*v,e[0]=(d-y)/v,e[1]=(p-u)/v,e[2]=(l-c)/v):a>f&&a>g?(v=Math.sqrt(1+a-f-g)*2,e[3]=(d-y)/v,e[0]=.25*v,e[1]=(l+c)/v,e[2]=(p+u)/v):f>g?(v=Math.sqrt(1+f-a-g)*2,e[3]=(p-u)/v,e[0]=(l+c)/v,e[1]=.25*v,e[2]=(d+y)/v):(v=Math.sqrt(1+g-a-f)*2,e[3]=(l-c)/v,e[0]=(p+u)/v,e[1]=(d+y)/v,e[2]=.25*v),e}}();function NX(t,e,n,r){let i=Th([t[0],t[1],t[2]]);const s=Th([t[4],t[5],t[6]]),o=Th([t[8],t[9],t[10]]);QM(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const l=t.slice(),u=1/i,c=1/s,f=1/o;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=f,l[9]*=f,l[10]*=f,ZM(e,l),r[0]=i,r[1]=s,r[2]=o}function VX(t,e,n,r){const i=t,s=e[0],o=e[1],a=e[2],l=e[3],u=s+s,c=o+o,f=a+a,d=s*u,p=s*c,y=s*f,g=o*c,E=o*f,v=a*f,_=l*u,S=l*c,A=l*f,C=r[0],O=r[1],x=r[2];return i[0]=(1-(g+v))*C,i[1]=(p+A)*C,i[2]=(y-S)*C,i[3]=0,i[4]=(p-A)*O,i[5]=(1-(d+v))*O,i[6]=(E+_)*O,i[7]=0,i[8]=(y+S)*x,i[9]=(E-_)*x,i[10]=(1-(d+g))*x,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function LX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,u=n*o,c=r*o,f=r*a,d=i*o,p=i*a,y=i*l,g=s*o,E=s*a,v=s*l;return t[0]=1-f-y,t[1]=c+v,t[2]=d-E,t[3]=0,t[4]=c-v,t[5]=1-u-y,t[6]=p+g,t[7]=0,t[8]=d+E,t[9]=p-g,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function FX(t,e,n,r,i){let s=1/Math.tan(e/2),o=1/(r-i);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}function UX(t,e,n,r,i,s,o){let a=1/(e-n),l=1/(r-i),u=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(o+s)*u,t[15]=1,t}function jX(t,e,n,r){let i=e[0],s=e[1],o=e[2],a=r[0],l=r[1],u=r[2],c=i-n[0],f=s-n[1],d=o-n[2],p=c*c+f*f+d*d;p===0?d=1:(p=1/Math.sqrt(p),c*=p,f*=p,d*=p);let y=l*d-u*f,g=u*c-a*d,E=a*f-l*c;return p=y*y+g*g+E*E,p===0&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,y=l*d-u*f,g=u*c-a*d,E=a*f-l*c,p=y*y+g*g+E*E),p=1/Math.sqrt(p),y*=p,g*=p,E*=p,t[0]=y,t[1]=g,t[2]=E,t[3]=0,t[4]=f*E-d*g,t[5]=d*y-c*E,t[6]=c*g-f*y,t[7]=0,t[8]=c,t[9]=f,t[10]=d,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t}function ZA(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function eI(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function zX(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class xm extends Array{constructor(e=1,n=0,r=0,i=0,s=0,o=1,a=0,l=0,u=0,c=0,f=1,d=0,p=0,y=0,g=0,E=1){return super(e,n,r,i,s,o,a,l,u,c,f,d,p,y,g,E),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,s,o,a,l,u,c,f,d,p,y,g,E){return e.length?this.copy(e):(IX(this,e,n,r,i,s,o,a,l,u,c,f,d,p,y,g,E),this)}translate(e,n=this){return bX(this,n,e),this}rotate(e,n,r=this){return DX(this,r,e,n),this}scale(e,n=this){return kX(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?ZA(this,e,n):ZA(this,this,e),this}sub(e,n){return n?eI(this,e,n):eI(this,this,e),this}multiply(e,n){return e.length?n?JA(this,e,n):JA(this,this,e):zX(this,this,e),this}identity(){return CX(this),this}copy(e){return AX(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return FX(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:s,far:o}){return UX(this,e,n,r,i,s,o),this}fromQuaternion(e){return LX(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return RX(this,e),this}compose(e,n,r){return VX(this,e,n,r),this}decompose(e,n,r){return NX(this,e,n,r),this}getRotation(e){return ZM(e,this),this}getTranslation(e){return OX(e,this),this}getScaling(e){return JM(e,this),this}getMaxScaleOnAxis(){return MX(this)}lookAt(e,n,r){return jX(this,e,n,r),this}determinant(){return QM(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function BX(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const tI=new xm;class $X extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&s.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return BX(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return tI.fromQuaternion(e),this._target.fromRotationMatrix(tI,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class WX{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new xm,this.worldMatrix=new xm,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new bi,this.quaternion=new xX,this.scale=new bi(1),this.rotation=new $X,this.up=new bi(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function HX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function qX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,u=n*o,c=r*o,f=r*a,d=i*o,p=i*a,y=i*l,g=s*o,E=s*a,v=s*l;return t[0]=1-f-y,t[3]=c-v,t[6]=d+E,t[1]=c+v,t[4]=1-u-y,t[7]=p-g,t[2]=d-E,t[5]=p+g,t[8]=1-u-f,t}function GX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function KX(t,e,n,r,i,s,o,a,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t}function XX(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function YX(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=-c*s+a*l,p=u*s-o*l,y=n*f+r*d+i*p;return y?(y=1/y,t[0]=f*y,t[1]=(-c*r+i*u)*y,t[2]=(a*r-i*o)*y,t[3]=d*y,t[4]=(c*n-i*l)*y,t[5]=(-a*n+i*s)*y,t[6]=p*y,t[7]=(-u*n+r*l)*y,t[8]=(o*n-r*s)*y,t):null}function nI(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=n[0],p=n[1],y=n[2],g=n[3],E=n[4],v=n[5],_=n[6],S=n[7],A=n[8];return t[0]=d*r+p*o+y*u,t[1]=d*i+p*a+y*c,t[2]=d*s+p*l+y*f,t[3]=g*r+E*o+v*u,t[4]=g*i+E*a+v*c,t[5]=g*s+E*l+v*f,t[6]=_*r+S*o+A*u,t[7]=_*i+S*a+A*c,t[8]=_*s+S*l+A*f,t}function QX(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=d*r+p*o+u,t[7]=d*i+p*a+c,t[8]=d*s+p*l+f,t}function JX(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=Math.sin(n),p=Math.cos(n);return t[0]=p*r+d*o,t[1]=p*i+d*a,t[2]=p*s+d*l,t[3]=p*o-d*r,t[4]=p*a-d*i,t[5]=p*l-d*s,t[6]=u,t[7]=c,t[8]=f,t}function ZX(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function eY(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],y=e[12],g=e[13],E=e[14],v=e[15],_=n*a-r*o,S=n*l-i*o,A=n*u-s*o,C=r*l-i*a,O=r*u-s*a,x=i*u-s*l,T=c*g-f*y,P=c*E-d*y,I=c*v-p*y,k=f*E-d*g,D=f*v-p*g,b=d*v-p*E,B=_*b-S*D+A*k+C*I-O*P+x*T;return B?(B=1/B,t[0]=(a*b-l*D+u*k)*B,t[1]=(l*I-o*b-u*P)*B,t[2]=(o*D-a*I+u*T)*B,t[3]=(i*D-r*b-s*k)*B,t[4]=(n*b-i*I+s*P)*B,t[5]=(r*I-n*D-s*T)*B,t[6]=(g*x-E*O+v*C)*B,t[7]=(E*A-y*x-v*S)*B,t[8]=(y*O-g*A+v*_)*B,t):null}class tY extends Array{constructor(e=1,n=0,r=0,i=0,s=1,o=0,a=0,l=0,u=1){return super(e,n,r,i,s,o,a,l,u),this}set(e,n,r,i,s,o,a,l,u){return e.length?this.copy(e):(KX(this,e,n,r,i,s,o,a,l,u),this)}translate(e,n=this){return QX(this,n,e),this}rotate(e,n=this){return JX(this,n,e),this}scale(e,n=this){return ZX(this,n,e),this}multiply(e,n){return n?nI(this,e,n):nI(this,this,e),this}identity(){return XX(this),this}copy(e){return GX(this,e),this}fromMatrix4(e){return HX(this,e),this}fromQuaternion(e){return qX(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return YX(this,e),this}getNormalMatrix(e){return eY(this,e),this}}let nY=0;class rY extends WX{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=nY++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new xm,this.normalMatrix=new tY,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}class iY extends JK{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const sY="#ffffff",rI=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]:[1,1,1]},iI=(t,e,n)=>{switch(t){case"top-left":return{anchor:[0,-.2*n],dir:[0,1]};case"top-right":return{anchor:[e,-.2*n],dir:[0,1]};case"left":return{anchor:[-.2*e,.5*n],dir:[1,0]};case"right":return{anchor:[(1+.2)*e,.5*n],dir:[-1,0]};case"bottom-left":return{anchor:[0,(1+.2)*n],dir:[0,-1]};case"bottom-center":return{anchor:[.5*e,(1+.2)*n],dir:[0,-1]};case"bottom-right":return{anchor:[e,(1+.2)*n],dir:[0,-1]};default:return{anchor:[.5*e,-.2*n],dir:[0,1]}}},oY=({raysOrigin:t="top-center",raysColor:e=sY,raysSpeed:n=1,lightSpread:r=1,rayLength:i=2,pulsating:s=!1,fadeDistance:o=1,saturation:a=1,followMouse:l=!0,mouseInfluence:u=.1,noiseAmount:c=0,distortion:f=0,className:d=""})=>{const p=V.useRef(null),y=V.useRef(null),g=V.useRef(null),E=V.useRef({x:.5,y:.5}),v=V.useRef({x:.5,y:.5}),_=V.useRef(null),S=V.useRef(null),A=V.useRef(null),[C,O]=V.useState(!1),x=V.useRef(null);return V.useEffect(()=>{if(p.current)return x.current=new IntersectionObserver(T=>{const P=T[0];O(P.isIntersecting)},{threshold:.1}),x.current.observe(p.current),()=>{x.current&&(x.current.disconnect(),x.current=null)}},[]),V.useEffect(()=>!C||!p.current?void 0:(A.current&&(A.current(),A.current=null),(async()=>{if(!p.current||(await new Promise(W=>setTimeout(W,10)),!p.current))return;const P=new sX({dpr:Math.min(window.devicePixelRatio,2),alpha:!0});g.current=P;const I=P.gl;for(I.canvas.style.width="100%",I.canvas.style.height="100%";p.current.firstChild;)p.current.removeChild(p.current.firstChild);p.current.appendChild(I.canvas);const k=`
attribute vec2 position;
varying vec2 vUv;
void main() {
  vUv = position * 0.5 + 0.5;
  gl_Position = vec4(position, 0.0, 1.0);
}`,D=`precision highp float;

uniform float iTime;
uniform vec2  iResolution;

uniform vec2  rayPos;
uniform vec2  rayDir;
uniform vec3  raysColor;
uniform float raysSpeed;
uniform float lightSpread;
uniform float rayLength;
uniform float pulsating;
uniform float fadeDistance;
uniform float saturation;
uniform vec2  mousePos;
uniform float mouseInfluence;
uniform float noiseAmount;
uniform float distortion;

varying vec2 vUv;

float noise(vec2 st) {
  return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord,
                  float seedA, float seedB, float speed) {
  vec2 sourceToCoord = coord - raySource;
  vec2 dirNorm = normalize(sourceToCoord);
  float cosAngle = dot(dirNorm, rayRefDirection);

  float distortedAngle = cosAngle + distortion * sin(iTime * 2.0 + length(sourceToCoord) * 0.01) * 0.2;
  
  float spreadFactor = pow(max(distortedAngle, 0.0), 1.0 / max(lightSpread, 0.001));

  float distance = length(sourceToCoord);
  float maxDistance = iResolution.x * rayLength;
  float lengthFalloff = clamp((maxDistance - distance) / maxDistance, 0.0, 1.0);
  
  float fadeFalloff = clamp((iResolution.x * fadeDistance - distance) / (iResolution.x * fadeDistance), 0.5, 1.0);
  float pulse = pulsating > 0.5 ? (0.8 + 0.2 * sin(iTime * speed * 3.0)) : 1.0;

  float baseStrength = clamp(
    (0.45 + 0.15 * sin(distortedAngle * seedA + iTime * speed)) +
    (0.3 + 0.2 * cos(-distortedAngle * seedB + iTime * speed)),
    0.0, 1.0
  );

  return baseStrength * lengthFalloff * fadeFalloff * spreadFactor * pulse;
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
  vec2 coord = vec2(fragCoord.x, iResolution.y - fragCoord.y);
  
  vec2 finalRayDir = rayDir;
  if (mouseInfluence > 0.0) {
    vec2 mouseScreenPos = mousePos * iResolution.xy;
    vec2 mouseDirection = normalize(mouseScreenPos - rayPos);
    finalRayDir = normalize(mix(rayDir, mouseDirection, mouseInfluence));
  }

  vec4 rays1 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 36.2214, 21.11349,
                           1.5 * raysSpeed);
  vec4 rays2 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 22.3991, 18.0234,
                           1.1 * raysSpeed);

  fragColor = rays1 * 0.5 + rays2 * 0.4;

  if (noiseAmount > 0.0) {
    float n = noise(coord * 0.01 + iTime * 0.1);
    fragColor.rgb *= (1.0 - noiseAmount + noiseAmount * n);
  }

  float brightness = 1.0 - (coord.y / iResolution.y);
  fragColor.x *= 0.1 + brightness * 0.8;
  fragColor.y *= 0.3 + brightness * 0.6;
  fragColor.z *= 0.5 + brightness * 0.5;

  if (saturation != 1.0) {
    float gray = dot(fragColor.rgb, vec3(0.299, 0.587, 0.114));
    fragColor.rgb = mix(vec3(gray), fragColor.rgb, saturation);
  }

  fragColor.rgb *= raysColor;
}

void main() {
  vec4 color;
  mainImage(color, gl_FragCoord.xy);
  gl_FragColor  = color;
}`,b={iTime:{value:0},iResolution:{value:[1,1]},rayPos:{value:[0,0]},rayDir:{value:[0,1]},raysColor:{value:rI(e)},raysSpeed:{value:n},lightSpread:{value:r},rayLength:{value:i},pulsating:{value:s?1:0},fadeDistance:{value:o},saturation:{value:a},mousePos:{value:[.5,.5]},mouseInfluence:{value:u},noiseAmount:{value:c},distortion:{value:f}};y.current=b;const B=new iY(I),ee=new eX(I,{vertex:k,fragment:D,uniforms:b}),ae=new rY(I,{geometry:B,program:ee});S.current=ae;const q=()=>{if(!p.current||!P)return;P.dpr=Math.min(window.devicePixelRatio,2);const{clientWidth:W,clientHeight:M}=p.current;P.setSize(W,M);const J=P.dpr,de=W*J,Ke=M*J;b.iResolution.value=[de,Ke];const{anchor:pe,dir:be}=iI(t,de,Ke);b.rayPos.value=pe,b.rayDir.value=be},j=W=>{if(!(!g.current||!y.current||!S.current)){b.iTime.value=W*.001,l&&u>0&&(v.current.x=v.current.x*.92+E.current.x*(1-.92),v.current.y=v.current.y*.92+E.current.y*(1-.92),b.mousePos.value=[v.current.x,v.current.y]);try{P.render({scene:ae}),_.current=requestAnimationFrame(j)}catch(M){console.warn("WebGL rendering error:",M);return}}};window.addEventListener("resize",q),q(),_.current=requestAnimationFrame(j),A.current=()=>{if(_.current&&(cancelAnimationFrame(_.current),_.current=null),window.removeEventListener("resize",q),P)try{const W=P.gl.canvas,M=P.gl.getExtension("WEBGL_lose_context");M&&M.loseContext(),W&&W.parentNode&&W.parentNode.removeChild(W)}catch(W){console.warn("Error during WebGL cleanup:",W)}g.current=null,y.current=null,S.current=null}})(),()=>{A.current&&(A.current(),A.current=null)}),[C,t,e,n,r,i,s,o,a,l,u,c,f]),V.useEffect(()=>{if(!y.current||!p.current||!g.current)return;const T=y.current,P=g.current;T.raysColor.value=rI(e),T.raysSpeed.value=n,T.lightSpread.value=r,T.rayLength.value=i,T.pulsating.value=s?1:0,T.fadeDistance.value=o,T.saturation.value=a,T.mouseInfluence.value=u,T.noiseAmount.value=c,T.distortion.value=f;const{clientWidth:I,clientHeight:k}=p.current,D=P.dpr,{anchor:b,dir:B}=iI(t,I*D,k*D);T.rayPos.value=b,T.rayDir.value=B},[e,n,r,t,i,s,o,a,u,c,f]),V.useEffect(()=>{const T=P=>{if(!p.current||!g.current)return;const I=p.current.getBoundingClientRect(),k=(P.clientX-I.left)/I.width,D=(P.clientY-I.top)/I.height;E.current={x:k,y:D}};if(l)return window.addEventListener("mousemove",T),()=>window.removeEventListener("mousemove",T)},[l]),N.jsx("div",{ref:p,className:`w-full h-full pointer-events-none z-[3] overflow-hidden relative ${d}`.trim()})};function aY(){return N.jsx(j3,{children:N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"fixed inset-0 z-0 opacity-60",children:N.jsx(oY,{raysOrigin:"top-center",raysColor:"#00E5FF",raysSpeed:1.2,lightSpread:.7,rayLength:1.5,followMouse:!0,mouseInfluence:.08})}),N.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[N.jsx(sF,{}),N.jsx("main",{className:"flex-grow",children:N.jsxs(D3,{children:[N.jsx(Ec,{path:"/",element:N.jsx(q9,{})}),N.jsx(Ec,{path:"/cancion-semanal",element:N.jsx(DK,{})}),N.jsx(Ec,{path:"/contacto",element:N.jsx(OK,{})}),N.jsx(Ec,{path:"/admin",element:N.jsx(MK,{})})," "]})}),N.jsx(oF,{})]})]})})}t_.createRoot(document.getElementById("root")).render(N.jsx(gI.StrictMode,{children:N.jsx(aY,{})}));export{ur as _,sI as g,lG as p,V as r,wg as u};
